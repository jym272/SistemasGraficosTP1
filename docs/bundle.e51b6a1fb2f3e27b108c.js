/*! For license information please see bundle.e51b6a1fb2f3e27b108c.js.LICENSE.txt */
(()=>{var e,t={89:(e,t,n)=>{"use strict";var i="undefined"!=typeof Float32Array?Float32Array:Array;function o(){var e=new i(3);return i!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function r(e,t,n){var o=new i(3);return o[0]=e,o[1]=t,o[2]=n,o}function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function s(e,t,n,i){return e[0]=t,e[1]=n,e[2]=i,e}function l(e,t){var n=t[0],i=t[1],o=t[2],r=n*n+i*i+o*o;return r>0&&(r=1/Math.sqrt(r)),e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function u(e,t,n){var i=t[0],o=t[1],r=t[2],a=n[0],s=n[1],l=n[2];return e[0]=o*l-r*s,e[1]=r*a-i*l,e[2]=i*s-o*a,e}function c(e,t,n){var i=t[0],o=t[1],r=t[2],a=n[3]*i+n[7]*o+n[11]*r+n[15];return a=a||1,e[0]=(n[0]*i+n[4]*o+n[8]*r+n[12])/a,e[1]=(n[1]*i+n[5]*o+n[9]*r+n[13])/a,e[2]=(n[2]*i+n[6]*o+n[10]*r+n[14])/a,e}Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)}),o();const d={profundidadModuloVioleta:2,NucleoPS:{radio:2,altura:4},CilindroNucleoPS:{radioSuperior:1.6,radioInferior:2,altura:.7},anillo:{radio:15.2,radioInterior:.8,distanciaEntreTubos:.4,tubo:{radio:.05,altura:30.4},tuboInterior:{radio:.05,altura:.8*Math.sqrt(2)}},panelSolar:{tapa:{ancho:1.3,largo:6},filasDeTubosSecundarios:4,distanciaEntreTubosSecundarios:2,fc:2.15,tuboPrincipal:{radio:.15,altura:0},tuboSecundario:{radio:.05,altura:2},lado:{ancho:.1,largo:1.3}},pastillas:{cuerpo:{radio:2.5,altura:.8}},ajusteTierra:{radio:1,coordenadas:[0,0,0],rotacion:[0,0,0]},ajusteLuna:{radio:1,coordenadas:[0,0,0],rotacion:[0,0,0]},lightPosition:[[-2093,-1909,-440],[910,180,-2080],[24,-408,-2073]],lunaCamaraInitValues:{0:{position:r(0,0,1096.11),azimuth:62.27,elevation:-59.86,focus:o()},1:{position:r(0,0,1016.58),azimuth:-198.5,elevation:24.76,focus:o()},2:{position:r(0,0,1128.99),azimuth:-32.63,elevation:-15.46,focus:o()}},tierraCamaraInitValues:{0:{position:r(0,0,4675.73),azimuth:-134.68,elevation:-25.55,focus:o()},1:{position:r(0,0,4027.94),azimuth:151.17,elevation:-8.18,focus:o()},2:{position:r(0,0,4020.7),azimuth:-327.16,elevation:-14.65,focus:o()}},naveCamaraInitValues:{0:{position:r(0,0,47),azimuth:-60.06,elevation:28.55,focus:o()},1:{position:r(0,0,47.91),azimuth:-53.58,elevation:-11.28,focus:o()},2:{position:r(0,0,44.27),azimuth:-33.5,elevation:-11.37,focus:o()}},panelesSolaresCamaraInitValues:{0:{position:r(0,0,17.94),azimuth:57.79,elevation:-49.45,focus:o()},1:{position:r(0,0,17.64),azimuth:131.91,elevation:-21.56,focus:o()},2:{position:r(0,0,13.24),azimuth:227.39,elevation:-8.33,focus:o()}},capsulaCamaraInitValues:{0:{position:r(0,0,7.92),azimuth:-149.82,elevation:41.18,focus:o(),droneCameraControl:{position:[20.78,10.15,17.27],rotationMatrix:[.44,-.23,-.87,0,-.22,.91,-.35,0,.87,.35,.35,0,0,0,0,1]}},1:{position:r(0,0,6.91),azimuth:-213.28,elevation:-27.86,focus:o(),droneCameraControl:{position:[-11.41,9.4,27.92],rotationMatrix:[.83,.05,.56,0,.18,.92,-.34,0,-.53,.38,.76,0,0,0,0,1]}},2:{position:r(0,0,6.91),azimuth:-213.28,elevation:-27.86,focus:o(),droneCameraControl:{position:[19.21,6.36,16.5],rotationMatrix:[.36,-.03,-.94,0,-.18,.98,-.1,0,.91,.21,.34,0,0,0,0,1]}}}};function h(e,t){var n=e.__state.conversionName.toString(),i=Math.round(e.r),o=Math.round(e.g),r=Math.round(e.b),a=e.a,s=Math.round(e.h),l=e.s.toFixed(1),u=e.v.toFixed(1);if(t||"THREE_CHAR_HEX"===n||"SIX_CHAR_HEX"===n){for(var c=e.hex.toString(16);c.length<6;)c="0"+c;return"#"+c}return"CSS_RGB"===n?"rgb("+i+","+o+","+r+")":"CSS_RGBA"===n?"rgba("+i+","+o+","+r+","+a+")":"HEX"===n?"0x"+e.hex.toString(16):"RGB_ARRAY"===n?"["+i+","+o+","+r+"]":"RGBA_ARRAY"===n?"["+i+","+o+","+r+","+a+"]":"RGB_OBJ"===n?"{r:"+i+",g:"+o+",b:"+r+"}":"RGBA_OBJ"===n?"{r:"+i+",g:"+o+",b:"+r+",a:"+a+"}":"HSV_OBJ"===n?"{h:"+s+",s:"+l+",v:"+u+"}":"HSVA_OBJ"===n?"{h:"+s+",s:"+l+",v:"+u+",a:"+a+"}":"unknown format"}var p=Array.prototype.forEach,f=Array.prototype.slice,m={BREAK:{},extend:function(e){return this.each(f.call(arguments,1),(function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(t[n])||(e[n]=t[n])}.bind(this))}),this),e},defaults:function(e){return this.each(f.call(arguments,1),(function(t){(this.isObject(t)?Object.keys(t):[]).forEach(function(n){this.isUndefined(e[n])&&(e[n]=t[n])}.bind(this))}),this),e},compose:function(){var e=f.call(arguments);return function(){for(var t=f.call(arguments),n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},each:function(e,t,n){if(e)if(p&&e.forEach&&e.forEach===p)e.forEach(t,n);else if(e.length===e.length+0){var i,o=void 0;for(o=0,i=e.length;o<i;o++)if(o in e&&t.call(n,e[o],o)===this.BREAK)return}else for(var r in e)if(t.call(n,e[r],r)===this.BREAK)return},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var i=void 0;return function(){var o=this,r=arguments;function a(){i=null,n||e.apply(o,r)}var s=n||!i;clearTimeout(i),i=setTimeout(a,t),s&&e.apply(o,r)}},toArray:function(e){return e.toArray?e.toArray():f.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return isNaN(e)})),isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return e instanceof Function}},g=[{litmus:m.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString(),0)}},write:h},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString(),0)}},write:h},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:h},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:h}}},{litmus:m.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:m.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4===e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:m.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(m.isNumber(e.r)&&m.isNumber(e.g)&&m.isNumber(e.b)&&m.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(m.isNumber(e.r)&&m.isNumber(e.g)&&m.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(m.isNumber(e.h)&&m.isNumber(e.s)&&m.isNumber(e.v)&&m.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(m.isNumber(e.h)&&m.isNumber(e.s)&&m.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],v=void 0,b=void 0,y=function(){b=!1;var e=arguments.length>1?m.toArray(arguments):arguments[0];return m.each(g,(function(t){if(t.litmus(e))return m.each(t.conversions,(function(t,n){if(v=t.read(e),!1===b&&!1!==v)return b=v,v.conversionName=n,v.conversion=t,m.BREAK})),m.BREAK})),b},_=void 0,x={hsv_to_rgb:function(e,t,n){var i=Math.floor(e/60)%6,o=e/60-Math.floor(e/60),r=n*(1-t),a=n*(1-o*t),s=n*(1-(1-o)*t),l=[[n,s,r],[a,n,r],[r,n,s],[r,a,n],[s,r,n],[n,r,a]][i];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(e,t,n){var i=Math.min(e,t,n),o=Math.max(e,t,n),r=o-i,a=void 0;return 0===o?{h:NaN,s:0,v:0}:(a=e===o?(t-n)/r:t===o?2+(n-e)/r:4+(e-t)/r,(a/=6)<0&&(a+=1),{h:360*a,s:r/o,v:o/255})},rgb_to_hex:function(e,t,n){var i=this.hex_with_component(0,2,e);return i=this.hex_with_component(i,1,t),this.hex_with_component(i,0,n)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,n){return n<<(_=8*t)|e&~(255<<_)}},C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},E=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),w=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},A=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},S=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},M=function(){function e(){if(T(this,e),this.__state=y.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return E(e,[{key:"toString",value:function(){return h(this)}},{key:"toHexString",value:function(){return h(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),e}();function P(e,t,n){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space||M.recalculateRGB(this,t,n),this.__state[t]},set:function(e){"RGB"!==this.__state.space&&(M.recalculateRGB(this,t,n),this.__state.space="RGB"),this.__state[t]=e}})}function D(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space||M.recalculateHSV(this),this.__state[t]},set:function(e){"HSV"!==this.__state.space&&(M.recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=e}})}M.recalculateRGB=function(e,t,n){if("HEX"===e.__state.space)e.__state[t]=x.component_from_hex(e.__state.hex,n);else{if("HSV"!==e.__state.space)throw new Error("Corrupted color state");m.extend(e.__state,x.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}},M.recalculateHSV=function(e){var t=x.rgb_to_hsv(e.r,e.g,e.b);m.extend(e.__state,{s:t.s,v:t.v}),m.isNaN(t.h)?m.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h},M.COMPONENTS=["r","g","b","h","s","v","hex","a"],P(M.prototype,"r",2),P(M.prototype,"g",1),P(M.prototype,"b",0),D(M.prototype,"h"),D(M.prototype,"s"),D(M.prototype,"v"),Object.defineProperty(M.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(M.prototype,"hex",{get:function(){return"HEX"!==this.__state.space&&(this.__state.hex=x.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}});var L=function(){function e(t,n){T(this,e),this.initialValue=t[n],this.domElement=document.createElement("div"),this.object=t,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return E(e,[{key:"onChange",value:function(e){return this.__onChange=e,this}},{key:"onFinishChange",value:function(e){return this.__onFinishChange=e,this}},{key:"setValue",value:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),e}(),k={};m.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},(function(e,t){m.each(e,(function(e){k[e]=t}))}));var R=/(\d+(\.\d+)?)px/;function O(e){if("0"===e||m.isUndefined(e))return 0;var t=e.match(R);return m.isNull(t)?0:parseFloat(t[1])}var I={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(e,t,n){var i=n,o=t;m.isUndefined(o)&&(o=!0),m.isUndefined(i)&&(i=!0),e.style.position="absolute",o&&(e.style.left=0,e.style.right=0),i&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,n,i){var o=n||{},r=k[t];if(!r)throw new Error("Event type "+t+" not supported.");var a=document.createEvent(r);switch(r){case"MouseEvents":var s=o.x||o.clientX||0,l=o.y||o.clientY||0;a.initMouseEvent(t,o.bubbles||!1,o.cancelable||!0,window,o.clickCount||1,0,0,s,l,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var u=a.initKeyboardEvent||a.initKeyEvent;m.defaults(o,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),u(t,o.bubbles||!1,o.cancelable,window,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.keyCode,o.charCode);break;default:a.initEvent(t,o.bubbles||!1,o.cancelable||!0)}m.defaults(a,i),e.dispatchEvent(a)},bind:function(e,t,n,i){var o=i||!1;return e.addEventListener?e.addEventListener(t,n,o):e.attachEvent&&e.attachEvent("on"+t,n),I},unbind:function(e,t,n,i){var o=i||!1;return e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent&&e.detachEvent("on"+t,n),I},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var n=e.className.split(/ +/);-1===n.indexOf(t)&&(n.push(t),e.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return I},removeClass:function(e,t){if(t)if(e.className===t)e.removeAttribute("class");else{var n=e.className.split(/ +/),i=n.indexOf(t);-1!==i&&(n.splice(i,1),e.className=n.join(" "))}else e.className=void 0;return I},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return O(t["border-left-width"])+O(t["border-right-width"])+O(t["padding-left"])+O(t["padding-right"])+O(t.width)},getHeight:function(e){var t=getComputedStyle(e);return O(t["border-top-width"])+O(t["border-bottom-width"])+O(t["padding-top"])+O(t["padding-bottom"])+O(t.height)},getOffset:function(e){var t=e,n={left:0,top:0};if(t.offsetParent)do{n.left+=t.offsetLeft,n.top+=t.offsetTop,t=t.offsetParent}while(t);return n},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}},N=function(e){function t(e,n){T(this,t);var i=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),o=i;return i.__prev=i.getValue(),i.__checkbox=document.createElement("input"),i.__checkbox.setAttribute("type","checkbox"),I.bind(i.__checkbox,"change",(function(){o.setValue(!o.__prev)}),!1),i.domElement.appendChild(i.__checkbox),i.updateDisplay(),i}return A(t,e),E(t,[{key:"setValue",value:function(e){var n=w(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),w(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(L),V=function(e){function t(e,n,i){T(this,t);var o=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),r=i,a=o;if(o.__select=document.createElement("select"),m.isArray(r)){var s={};m.each(r,(function(e){s[e]=e})),r=s}return m.each(r,(function(e,t){var n=document.createElement("option");n.innerHTML=t,n.setAttribute("value",e),a.__select.appendChild(n)})),o.updateDisplay(),I.bind(o.__select,"change",(function(){var e=this.options[this.selectedIndex].value;a.setValue(e)})),o.domElement.appendChild(o.__select),o}return A(t,e),E(t,[{key:"setValue",value:function(e){var n=w(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n}},{key:"updateDisplay",value:function(){return I.isActive(this.__select)?this:(this.__select.value=this.getValue(),w(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this))}}]),t}(L),j=function(e){function t(e,n){T(this,t);var i=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),o=i;function r(){o.setValue(o.__input.value)}return i.__input=document.createElement("input"),i.__input.setAttribute("type","text"),I.bind(i.__input,"keyup",r),I.bind(i.__input,"change",r),I.bind(i.__input,"blur",(function(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())})),I.bind(i.__input,"keydown",(function(e){13===e.keyCode&&this.blur()})),i.updateDisplay(),i.domElement.appendChild(i.__input),i}return A(t,e),E(t,[{key:"updateDisplay",value:function(){return I.isActive(this.__input)||(this.__input.value=this.getValue()),w(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(L);function B(e){var t=e.toString();return t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0}var z=function(e){function t(e,n,i){T(this,t);var o=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),r=i||{};return o.__min=r.min,o.__max=r.max,o.__step=r.step,m.isUndefined(o.__step)?0===o.initialValue?o.__impliedStep=1:o.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(o.initialValue))/Math.LN10))/10:o.__impliedStep=o.__step,o.__precision=B(o.__impliedStep),o}return A(t,e),E(t,[{key:"setValue",value:function(e){var n=e;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!=0&&(n=Math.round(n/this.__step)*this.__step),w(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setValue",this).call(this,n)}},{key:"min",value:function(e){return this.__min=e,this}},{key:"max",value:function(e){return this.__max=e,this}},{key:"step",value:function(e){return this.__step=e,this.__impliedStep=e,this.__precision=B(e),this}}]),t}(L),F=function(e){function t(e,n,i){T(this,t);var o=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));o.__truncationSuspended=!1;var r=o,a=void 0;function s(){r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())}function l(e){var t=a-e.clientY;r.setValue(r.getValue()+t*r.__impliedStep),a=e.clientY}function u(){I.unbind(window,"mousemove",l),I.unbind(window,"mouseup",u),s()}return o.__input=document.createElement("input"),o.__input.setAttribute("type","text"),I.bind(o.__input,"change",(function(){var e=parseFloat(r.__input.value);m.isNaN(e)||r.setValue(e)})),I.bind(o.__input,"blur",(function(){s()})),I.bind(o.__input,"mousedown",(function(e){I.bind(window,"mousemove",l),I.bind(window,"mouseup",u),a=e.clientY})),I.bind(o.__input,"keydown",(function(e){13===e.keyCode&&(r.__truncationSuspended=!0,this.blur(),r.__truncationSuspended=!1,s())})),o.updateDisplay(),o.domElement.appendChild(o.__input),o}return A(t,e),E(t,[{key:"updateDisplay",value:function(){var e,n,i;return this.__input.value=this.__truncationSuspended?this.getValue():(e=this.getValue(),n=this.__precision,i=Math.pow(10,n),Math.round(e*i)/i),w(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(z);function H(e,t,n,i,o){return i+(e-t)/(n-t)*(o-i)}var U=function(e){function t(e,n,i,o,r){T(this,t);var a=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,{min:i,max:o,step:r})),s=a;function l(e){e.preventDefault();var t=s.__background.getBoundingClientRect();return s.setValue(H(e.clientX,t.left,t.right,s.__min,s.__max)),!1}function u(){I.unbind(window,"mousemove",l),I.unbind(window,"mouseup",u),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}function c(e){var t=e.touches[0].clientX,n=s.__background.getBoundingClientRect();s.setValue(H(t,n.left,n.right,s.__min,s.__max))}function d(){I.unbind(window,"touchmove",c),I.unbind(window,"touchend",d),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}return a.__background=document.createElement("div"),a.__foreground=document.createElement("div"),I.bind(a.__background,"mousedown",(function(e){document.activeElement.blur(),I.bind(window,"mousemove",l),I.bind(window,"mouseup",u),l(e)})),I.bind(a.__background,"touchstart",(function(e){1===e.touches.length&&(I.bind(window,"touchmove",c),I.bind(window,"touchend",d),c(e))})),I.addClass(a.__background,"slider"),I.addClass(a.__foreground,"slider-fg"),a.updateDisplay(),a.__background.appendChild(a.__foreground),a.domElement.appendChild(a.__background),a}return A(t,e),E(t,[{key:"updateDisplay",value:function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*e+"%",w(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateDisplay",this).call(this)}}]),t}(z),q=function(e){function t(e,n,i){T(this,t);var o=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),r=o;return o.__button=document.createElement("div"),o.__button.innerHTML=void 0===i?"Fire":i,I.bind(o.__button,"click",(function(e){return e.preventDefault(),r.fire(),!1})),I.addClass(o.__button,"button"),o.domElement.appendChild(o.__button),o}return A(t,e),E(t,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),t}(L),G=function(e){function t(e,n){T(this,t);var i=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));i.__color=new M(i.getValue()),i.__temp=new M(0);var o=i;i.domElement=document.createElement("div"),I.makeSelectable(i.domElement,!1),i.__selector=document.createElement("div"),i.__selector.className="selector",i.__saturation_field=document.createElement("div"),i.__saturation_field.className="saturation-field",i.__field_knob=document.createElement("div"),i.__field_knob.className="field-knob",i.__field_knob_border="2px solid ",i.__hue_knob=document.createElement("div"),i.__hue_knob.className="hue-knob",i.__hue_field=document.createElement("div"),i.__hue_field.className="hue-field",i.__input=document.createElement("input"),i.__input.type="text",i.__input_textShadow="0 1px 1px ",I.bind(i.__input,"keydown",(function(e){13===e.keyCode&&d.call(this)})),I.bind(i.__input,"blur",d),I.bind(i.__selector,"mousedown",(function(){I.addClass(this,"drag").bind(window,"mouseup",(function(){I.removeClass(o.__selector,"drag")}))})),I.bind(i.__selector,"touchstart",(function(){I.addClass(this,"drag").bind(window,"touchend",(function(){I.removeClass(o.__selector,"drag")}))}));var r,a=document.createElement("div");function s(e){p(e),I.bind(window,"mousemove",p),I.bind(window,"touchmove",p),I.bind(window,"mouseup",u),I.bind(window,"touchend",u)}function l(e){f(e),I.bind(window,"mousemove",f),I.bind(window,"touchmove",f),I.bind(window,"mouseup",c),I.bind(window,"touchend",c)}function u(){I.unbind(window,"mousemove",p),I.unbind(window,"touchmove",p),I.unbind(window,"mouseup",u),I.unbind(window,"touchend",u),h()}function c(){I.unbind(window,"mousemove",f),I.unbind(window,"touchmove",f),I.unbind(window,"mouseup",c),I.unbind(window,"touchend",c),h()}function d(){var e=y(this.value);!1!==e?(o.__color.__state=e,o.setValue(o.__color.toOriginal())):this.value=o.__color.toString()}function h(){o.__onFinishChange&&o.__onFinishChange.call(o,o.__color.toOriginal())}function p(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=o.__saturation_field.getBoundingClientRect(),n=e.touches&&e.touches[0]||e,i=n.clientX,r=n.clientY,a=(i-t.left)/(t.right-t.left),s=1-(r-t.top)/(t.bottom-t.top);return s>1?s=1:s<0&&(s=0),a>1?a=1:a<0&&(a=0),o.__color.v=s,o.__color.s=a,o.setValue(o.__color.toOriginal()),!1}function f(e){-1===e.type.indexOf("touch")&&e.preventDefault();var t=o.__hue_field.getBoundingClientRect(),n=1-((e.touches&&e.touches[0]||e).clientY-t.top)/(t.bottom-t.top);return n>1?n=1:n<0&&(n=0),o.__color.h=360*n,o.setValue(o.__color.toOriginal()),!1}return m.extend(i.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),m.extend(i.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:i.__field_knob_border+(i.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),m.extend(i.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),m.extend(i.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),m.extend(a.style,{width:"100%",height:"100%",background:"none"}),Y(a,"top","rgba(0,0,0,0)","#000"),m.extend(i.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),(r=i.__hue_field).style.background="",r.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",r.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",r.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",r.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",r.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",m.extend(i.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:i.__input_textShadow+"rgba(0,0,0,0.7)"}),I.bind(i.__saturation_field,"mousedown",s),I.bind(i.__saturation_field,"touchstart",s),I.bind(i.__field_knob,"mousedown",s),I.bind(i.__field_knob,"touchstart",s),I.bind(i.__hue_field,"mousedown",l),I.bind(i.__hue_field,"touchstart",l),i.__saturation_field.appendChild(a),i.__selector.appendChild(i.__field_knob),i.__selector.appendChild(i.__saturation_field),i.__selector.appendChild(i.__hue_field),i.__hue_field.appendChild(i.__hue_knob),i.domElement.appendChild(i.__input),i.domElement.appendChild(i.__selector),i.updateDisplay(),i}return A(t,e),E(t,[{key:"updateDisplay",value:function(){var e=y(this.getValue());if(!1!==e){var t=!1;m.each(M.COMPONENTS,(function(n){if(!m.isUndefined(e[n])&&!m.isUndefined(this.__color.__state[n])&&e[n]!==this.__color.__state[n])return t=!0,{}}),this),t&&m.extend(this.__color.__state,e)}m.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,i=255-n;m.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+n+","+n+","+n+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,Y(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),m.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+n+","+n+","+n+")",textShadow:this.__input_textShadow+"rgba("+i+","+i+","+i+",.7)"})}}]),t}(L),X=["-moz-","-o-","-webkit-","-ms-",""];function Y(e,t,n,i){e.style.background="",m.each(X,(function(o){e.style.cssText+="background: "+o+"linear-gradient("+t+", "+n+" 0%, "+i+" 100%); "}))}var W='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>',$=function(e,t){var n=e[t];return m.isArray(arguments[2])||m.isObject(arguments[2])?new V(e,t,arguments[2]):m.isNumber(n)?m.isNumber(arguments[2])&&m.isNumber(arguments[3])?m.isNumber(arguments[4])?new U(e,t,arguments[2],arguments[3],arguments[4]):new U(e,t,arguments[2],arguments[3]):m.isNumber(arguments[4])?new F(e,t,{min:arguments[2],max:arguments[3],step:arguments[4]}):new F(e,t,{min:arguments[2],max:arguments[3]}):m.isString(n)?new j(e,t):m.isFunction(n)?new q(e,t,""):m.isBoolean(n)?new N(e,t):null},K=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},Q=function(){function e(){T(this,e),this.backgroundElement=document.createElement("div"),m.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),I.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),m.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var t=this;I.bind(this.backgroundElement,"click",(function(){t.hide()}))}return E(e,[{key:"show",value:function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),m.defer((function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"}))}},{key:"hide",value:function(){var e=this,t=function t(){e.domElement.style.display="none",e.backgroundElement.style.display="none",I.unbind(e.domElement,"webkitTransitionEnd",t),I.unbind(e.domElement,"transitionend",t),I.unbind(e.domElement,"oTransitionEnd",t)};I.bind(this.domElement,"webkitTransitionEnd",t),I.bind(this.domElement,"transitionend",t),I.bind(this.domElement,"oTransitionEnd",t),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-I.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-I.getHeight(this.domElement)/2+"px"}}]),e}();!function(e,t){var n=t||document,i=document.createElement("style");i.type="text/css",i.innerHTML=e;var o=n.getElementsByTagName("head")[0];try{o.appendChild(i)}catch(e){}}(function(e){if("undefined"!=typeof window){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n"));var J="Default",Z=function(){try{return!!window.localStorage}catch(e){return!1}}(),ee=void 0,te=!0,ne=void 0,ie=!1,oe=[],re=function e(t){var n=this,i=t||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),I.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],i=m.defaults(i,{closeOnTop:!1,autoPlace:!0,width:e.DEFAULT_WIDTH}),i=m.defaults(i,{resizable:i.autoPlace,hideable:i.autoPlace}),m.isUndefined(i.load)?i.load={preset:J}:i.preset&&(i.load.preset=i.preset),m.isUndefined(i.parent)&&i.hideable&&oe.push(this),i.resizable=m.isUndefined(i.parent)&&i.resizable,i.autoPlace&&m.isUndefined(i.scrollable)&&(i.scrollable=!0);var o,r=Z&&"true"===localStorage.getItem(de(0,"isLocal")),a=void 0,s=void 0;if(Object.defineProperties(this,{parent:{get:function(){return i.parent}},scrollable:{get:function(){return i.scrollable}},autoPlace:{get:function(){return i.autoPlace}},closeOnTop:{get:function(){return i.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:i.load.preset},set:function(e){n.parent?n.getRoot().preset=e:i.load.preset=e,function(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value===e.preset&&(e.__preset_select.selectedIndex=t)}(this),n.revert()}},width:{get:function(){return i.width},set:function(e){i.width=e,ge(n,e)}},name:{get:function(){return i.name},set:function(e){i.name=e,s&&(s.innerHTML=i.name)}},closed:{get:function(){return i.closed},set:function(t){i.closed=t,i.closed?I.addClass(n.__ul,e.CLASS_CLOSED):I.removeClass(n.__ul,e.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=t?e.TEXT_OPEN:e.TEXT_CLOSED)}},load:{get:function(){return i.load}},useLocalStorage:{get:function(){return r},set:function(e){Z&&(r=e,e?I.bind(window,"unload",a):I.unbind(window,"unload",a),localStorage.setItem(de(0,"isLocal"),e))}}}),m.isUndefined(i.parent)){if(this.closed=i.closed||!1,I.addClass(this.domElement,e.CLASS_MAIN),I.makeSelectable(this.domElement,!1),Z&&r){n.useLocalStorage=!0;var l=localStorage.getItem(de(0,"gui"));l&&(i.load=JSON.parse(l))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=e.TEXT_CLOSED,I.addClass(this.__closeButton,e.CLASS_CLOSE_BUTTON),i.closeOnTop?(I.addClass(this.__closeButton,e.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(I.addClass(this.__closeButton,e.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),I.bind(this.__closeButton,"click",(function(){n.closed=!n.closed}))}else{void 0===i.closed&&(i.closed=!0);var u=document.createTextNode(i.name);I.addClass(u,"controller-name"),s=ae(n,u),I.addClass(this.__ul,e.CLASS_CLOSED),I.addClass(s,"title"),I.bind(s,"click",(function(e){return e.preventDefault(),n.closed=!n.closed,!1})),i.closed||(this.closed=!1)}i.autoPlace&&(m.isUndefined(i.parent)&&(te&&(ne=document.createElement("div"),I.addClass(ne,"dg"),I.addClass(ne,e.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(ne),te=!1),ne.appendChild(this.domElement),I.addClass(this.domElement,e.CLASS_AUTO_PLACE)),this.parent||ge(n,i.width)),this.__resizeHandler=function(){n.onResizeDebounced()},I.bind(window,"resize",this.__resizeHandler),I.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),I.bind(this.__ul,"transitionend",this.__resizeHandler),I.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),i.resizable&&me(this),a=function(){Z&&"true"===localStorage.getItem(de(0,"isLocal"))&&localStorage.setItem(de(0,"gui"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=a,i.parent||((o=n.getRoot()).width+=1,m.defer((function(){o.width-=1})))};function ae(e,t,n){var i=document.createElement("li");return t&&i.appendChild(t),n?e.__ul.insertBefore(i,n):e.__ul.appendChild(i),e.onResize(),i}function se(e){I.unbind(window,"resize",e.__resizeHandler),e.saveToLocalStorageIfPossible&&I.unbind(window,"unload",e.saveToLocalStorageIfPossible)}function le(e,t){var n=e.__preset_select[e.__preset_select.selectedIndex];n.innerHTML=t?n.value+"*":n.value}function ue(e,t){var n=e.getRoot(),i=n.__rememberedObjects.indexOf(t.object);if(-1!==i){var o=n.__rememberedObjectIndecesToControllers[i];if(void 0===o&&(o={},n.__rememberedObjectIndecesToControllers[i]=o),o[t.property]=t,n.load&&n.load.remembered){var r=n.load.remembered,a=void 0;if(r[e.preset])a=r[e.preset];else{if(!r.Default)return;a=r.Default}if(a[i]&&void 0!==a[i][t.property]){var s=a[i][t.property];t.initialValue=s,t.setValue(s)}}}}function ce(e,t,n,i){if(void 0===t[n])throw new Error('Object "'+t+'" has no property "'+n+'"');var o=void 0;if(i.color)o=new G(t,n);else{var r=[t,n].concat(i.factoryArgs);o=$.apply(e,r)}i.before instanceof L&&(i.before=i.before.__li),ue(e,o),I.addClass(o.domElement,"c");var a=document.createElement("span");I.addClass(a,"property-name"),a.innerHTML=o.property;var s=document.createElement("div");s.appendChild(a),s.appendChild(o.domElement);var l=ae(e,s,i.before);return I.addClass(l,re.CLASS_CONTROLLER_ROW),o instanceof G?I.addClass(l,"color"):I.addClass(l,C(o.getValue())),function(e,t,n){if(n.__li=t,n.__gui=e,m.extend(n,{options:function(t){if(arguments.length>1){var i=n.__li.nextElementSibling;return n.remove(),ce(e,n.object,n.property,{before:i,factoryArgs:[m.toArray(arguments)]})}if(m.isArray(t)||m.isObject(t)){var o=n.__li.nextElementSibling;return n.remove(),ce(e,n.object,n.property,{before:o,factoryArgs:[t]})}},name:function(e){return n.__li.firstElementChild.firstElementChild.innerHTML=e,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof U){var i=new F(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});m.each(["updateDisplay","onChange","onFinishChange","step","min","max"],(function(e){var t=n[e],o=i[e];n[e]=i[e]=function(){var e=Array.prototype.slice.call(arguments);return o.apply(i,e),t.apply(n,e)}})),I.addClass(t,"has-slider"),n.domElement.insertBefore(i.domElement,n.domElement.firstElementChild)}else if(n instanceof F){var o=function(t){if(m.isNumber(n.__min)&&m.isNumber(n.__max)){var i=n.__li.firstElementChild.firstElementChild.innerHTML,o=n.__gui.__listening.indexOf(n)>-1;n.remove();var r=ce(e,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return r.name(i),o&&r.listen(),r}return t};n.min=m.compose(o,n.min),n.max=m.compose(o,n.max)}else n instanceof N?(I.bind(t,"click",(function(){I.fakeEvent(n.__checkbox,"click")})),I.bind(n.__checkbox,"click",(function(e){e.stopPropagation()}))):n instanceof q?(I.bind(t,"click",(function(){I.fakeEvent(n.__button,"click")})),I.bind(t,"mouseover",(function(){I.addClass(n.__button,"hover")})),I.bind(t,"mouseout",(function(){I.removeClass(n.__button,"hover")}))):n instanceof G&&(I.addClass(t,"color"),n.updateDisplay=m.compose((function(e){return t.style.borderLeftColor=n.__color.toString(),e}),n.updateDisplay),n.updateDisplay());n.setValue=m.compose((function(t){return e.getRoot().__preset_select&&n.isModified()&&le(e.getRoot(),!0),t}),n.setValue)}(e,l,o),e.__controllers.push(o),o}function de(e,t){return document.location.href+"."+t}function he(e,t,n){var i=document.createElement("option");i.innerHTML=t,i.value=t,e.__preset_select.appendChild(i),n&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function pe(e,t){t.style.display=e.useLocalStorage?"block":"none"}function fe(e){var t=e.__save_row=document.createElement("li");I.addClass(e.domElement,"has-save"),e.__ul.insertBefore(t,e.__ul.firstChild),I.addClass(t,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",I.addClass(n,"button gears");var i=document.createElement("span");i.innerHTML="Save",I.addClass(i,"button"),I.addClass(i,"save");var o=document.createElement("span");o.innerHTML="New",I.addClass(o,"button"),I.addClass(o,"save-as");var r=document.createElement("span");r.innerHTML="Revert",I.addClass(r,"button"),I.addClass(r,"revert");var a=e.__preset_select=document.createElement("select");if(e.load&&e.load.remembered?m.each(e.load.remembered,(function(t,n){he(e,n,n===e.preset)})):he(e,J,!1),I.bind(a,"change",(function(){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].innerHTML=e.__preset_select[t].value;e.preset=this.value})),t.appendChild(a),t.appendChild(n),t.appendChild(i),t.appendChild(o),t.appendChild(r),Z){var s=document.getElementById("dg-local-explain"),l=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block","true"===localStorage.getItem(de(0,"isLocal"))&&l.setAttribute("checked","checked"),pe(e,s),I.bind(l,"change",(function(){e.useLocalStorage=!e.useLocalStorage,pe(e,s)}))}var u=document.getElementById("dg-new-constructor");I.bind(u,"keydown",(function(e){!e.metaKey||67!==e.which&&67!==e.keyCode||ee.hide()})),I.bind(n,"click",(function(){u.innerHTML=JSON.stringify(e.getSaveObject(),void 0,2),ee.show(),u.focus(),u.select()})),I.bind(i,"click",(function(){e.save()})),I.bind(o,"click",(function(){var t=prompt("Enter a new preset name.");t&&e.saveAs(t)})),I.bind(r,"click",(function(){e.revert()}))}function me(e){var t=void 0;function n(n){return n.preventDefault(),e.width+=t-n.clientX,e.onResize(),t=n.clientX,!1}function i(){I.removeClass(e.__closeButton,re.CLASS_DRAG),I.unbind(window,"mousemove",n),I.unbind(window,"mouseup",i)}function o(o){return o.preventDefault(),t=o.clientX,I.addClass(e.__closeButton,re.CLASS_DRAG),I.bind(window,"mousemove",n),I.bind(window,"mouseup",i),!1}e.__resize_handle=document.createElement("div"),m.extend(e.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),I.bind(e.__resize_handle,"mousedown",o),I.bind(e.__closeButton,"mousedown",o),e.domElement.insertBefore(e.__resize_handle,e.domElement.firstElementChild)}function ge(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function ve(e,t){var n={};return m.each(e.__rememberedObjects,(function(i,o){var r={},a=e.__rememberedObjectIndecesToControllers[o];m.each(a,(function(e,n){r[n]=t?e.initialValue:e.getValue()})),n[o]=r})),n}function be(e){0!==e.length&&K.call(window,(function(){be(e)})),m.each(e,(function(e){e.updateDisplay()}))}re.toggleHide=function(){ie=!ie,m.each(oe,(function(e){e.domElement.style.display=ie?"none":""}))},re.CLASS_AUTO_PLACE="a",re.CLASS_AUTO_PLACE_CONTAINER="ac",re.CLASS_MAIN="main",re.CLASS_CONTROLLER_ROW="cr",re.CLASS_TOO_TALL="taller-than-window",re.CLASS_CLOSED="closed",re.CLASS_CLOSE_BUTTON="close-button",re.CLASS_CLOSE_TOP="close-top",re.CLASS_CLOSE_BOTTOM="close-bottom",re.CLASS_DRAG="drag",re.DEFAULT_WIDTH=245,re.TEXT_CLOSED="Close Controls",re.TEXT_OPEN="Open Controls",re._keydownHandler=function(e){"text"===document.activeElement.type||72!==e.which&&72!==e.keyCode||re.toggleHide()},I.bind(window,"keydown",re._keydownHandler,!1),m.extend(re.prototype,{add:function(e,t){return ce(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return ce(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.splice(this.__controllers.indexOf(e),1);var t=this;m.defer((function(){t.onResize()}))},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&ne.removeChild(this.domElement);var e=this;m.each(this.__folders,(function(t){e.removeFolder(t)})),I.unbind(window,"keydown",re._keydownHandler,!1),se(this)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var n=new re(t);this.__folders[e]=n;var i=ae(this,n.domElement);return I.addClass(i,"folder"),n},removeFolder:function(e){this.__ul.removeChild(e.domElement.parentElement),delete this.__folders[e.name],this.load&&this.load.folders&&this.load.folders[e.name]&&delete this.load.folders[e.name],se(e);var t=this;m.each(e.__folders,(function(t){e.removeFolder(t)})),m.defer((function(){t.onResize()}))},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var e=this.getRoot();if(e.scrollable){var t=I.getOffset(e.__ul).top,n=0;m.each(e.__ul.childNodes,(function(t){e.autoPlace&&t===e.__save_row||(n+=I.getHeight(t))})),window.innerHeight-t-20<n?(I.addClass(e.domElement,re.CLASS_TOO_TALL),e.__ul.style.height=window.innerHeight-t-20+"px"):(I.removeClass(e.domElement,re.CLASS_TOO_TALL),e.__ul.style.height="auto")}e.__resize_handle&&m.defer((function(){e.__resize_handle.style.height=e.__ul.offsetHeight+"px"})),e.__closeButton&&(e.__closeButton.style.width=e.width+"px")},onResizeDebounced:m.debounce((function(){this.onResize()}),50),remember:function(){if(m.isUndefined(ee)&&((ee=new Q).domElement.innerHTML=W),this.parent)throw new Error("You can only call remember on a top level GUI.");var e=this;m.each(Array.prototype.slice.call(arguments),(function(t){0===e.__rememberedObjects.length&&fe(e),-1===e.__rememberedObjects.indexOf(t)&&e.__rememberedObjects.push(t)})),this.autoPlace&&ge(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var e=this.load;return e.closed=this.closed,this.__rememberedObjects.length>0&&(e.preset=this.preset,e.remembered||(e.remembered={}),e.remembered[this.preset]=ve(this)),e.folders={},m.each(this.__folders,(function(t,n){e.folders[n]=t.getSaveObject()})),e},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=ve(this),le(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered.Default=ve(this,!0)),this.load.remembered[e]=ve(this),this.preset=e,he(this,e,!0),this.saveToLocalStorageIfPossible()},revert:function(e){m.each(this.__controllers,(function(t){this.getRoot().load.remembered?ue(e||this.getRoot(),t):t.setValue(t.initialValue),t.__onFinishChange&&t.__onFinishChange.call(t,t.getValue())}),this),m.each(this.__folders,(function(e){e.revert(e)})),e||le(this.getRoot(),!1)},listen:function(e){var t=0===this.__listening.length;this.__listening.push(e),t&&be(this.__listening)},updateDisplay:function(){m.each(this.__controllers,(function(e){e.updateDisplay()})),m.each(this.__folders,(function(e){e.updateDisplay()}))}});var ye=re;const _e={getCanvas:e=>document.getElementById(e)||(console.error(`There is no canvas with id ${e} on this page.`),null),getGLContext:e=>e.getContext("webgl2")||console.error("WebGL2 is not available in your browser."),autoResizeCanvas(e){const t=()=>{e.width=window.innerWidth,e.height=window.innerHeight};t(),window.addEventListener("resize",t)},getShader(e,t){const n=document.getElementById(t);if(!n)return null;const i=n.text.trim();let o;if("x-shader/x-vertex"===n.type)o=e.createShader(e.VERTEX_SHADER);else{if("x-shader/x-fragment"!==n.type)return null;o=e.createShader(e.FRAGMENT_SHADER)}return e.shaderSource(o,i),e.compileShader(o),e.getShaderParameter(o,e.COMPILE_STATUS)?o:(console.error(e.getShaderInfoLog(o)),null)},normalizeColor:e=>e.map((e=>e/255)),denormalizeColor:e=>e.map((e=>255*e)),configureControls(e,t={width:300}){const n=t.gui||new ye(t),i={},o=e=>"function"==typeof e;return Object.keys(e).forEach((t=>{const r=e[t];if(o(r))return i[t]=r,n.add(i,t);if(!o(a=r)&&"object"==typeof a&&(null===a.value||void 0===a.value))return _e.configureControls(r,{gui:n.addFolder(t)});var a;const{value:s,min:l,max:u,step:c,options:d,onChange:h=(()=>null)}=r;let p;i[t]=s,p=d?n.add(i,t,d):(e=>"string"==typeof e&&~e.indexOf("#")||Array.isArray(e)&&e.length>=3)(s)?n.addColor(i,t):n.add(i,t,l,u,c),p.onChange((e=>h(e,i)))})),n},restarVectores(e,t){const n=[];for(let i=0;i<e.length;i++)n.push(e[i]-t[i]);return n},normalizarVector(e){const t=[];let n=0;for(let t=0;t<e.length;t++)n+=e[t]*e[t];n=Math.sqrt(n);for(let i=0;i<e.length;i++){const o=0===n?0:e[i]/n;t.push(o)}return t},calcularNormales(e){const t=[];for(let n=0;n<e.length;n++){const i=e[n];t.push([i[1],-i[0]])}return t},pasarTanAVector3(e){const t=[];for(let n=0;n<e.length;n++)t.push([0,e[n][1],e[n][0]]);return t},productoCruz(e,t){const n=[];return n[0]=e[1]*t[2]-e[2]*t[1],n[1]=e[2]*t[0]-e[0]*t[2],n[2]=e[0]*t[1]-e[1]*t[0],n},calcularVectorBinormal(e,t){const n=[];for(let i=0;i<t.length;i++){const o=t[i],r=this.productoCruz(o,e);n.push(_e.normalizarVector(r))}return n},deRadianesAGrados:e=>180*e/Math.PI>360?180*e/Math.PI-360:180*e/Math.PI,crearForma(e,t){const{puntos:n,puntosTangentes:i}=t.extraerPuntos(e),o=_e.calcularNormales(i);return n.length!==o.length&&(console.error("Se agrega la normal [1,0] al pt:",n[n.length-1]),o.push([1,0])),{puntos:n,normales:o,tangentes:i}},crearRecorrido(e,t,n=[1,0,0]){const{puntos:i,puntosTangentes:o}=t.extraerPuntos(e),r=_e.pasarTanAVector3(o),a=n,s=_e.calcularVectorBinormal(a,r);return i.length===o.length&&o.length===s.length||console.error("No coinciden puntos, tangentes y binormales",i.length,o.length,s.length),{puntos:i,tangentes:r,binormales:s,vectorNormal:a}},crearRecorridoCircular(e,t,n){const i=2*Math.PI*t,o=[],r=[],a=[];for(let t=0;t<=n;t++){const s=i*t/n,l=e*Math.cos(s),u=e*Math.sin(s),c=Math.cos(s),d=Math.sin(s),h=-Math.sin(s),p=Math.cos(s);o.push([l,u]),r.push([c,d,0]),a.push([h,p,0])}return{puntos:o,tangentes:a,binormales:r,vectorNormal:[0,0,1]}},nuevasCoordenadas(e,t,n=!1){const i=t.vertices,o=t.normales,a=t.tangentes,s=[],u=[],d=[];let h=0,p=3;for(i.length!==o.length&&console.log("Vertices y normales distinta longitud");p<=i.length;){const t=r(...i.slice(h,p)),f=r(...o.slice(h,p)),m=r(...a.slice(h,p));c(f,f,e),c(t,t,e),c(m,m,e),n?s.unshift(...t):s.push(...t),l(f,f),n?u.unshift(...f):u.push(...f),l(m,m),n?d.unshift(...m):d.push(...m),h+=3,p+=3}return s.length!==u.length&&console.log("Vertices y normales nuevas distinta longitud"),i.length!==s.length&&console.log("Vertices transformados no coinciden en longitud"),o.length!==u.length&&console.log("Normales transformadas no coinciden en longitud"),{vertices:s,normales:u,tangentes:d}},I3(e,t,n=3){t&&console.log(t);for(let t=0;t<e.length;t+=3)console.log(e[t].toFixed(n)+" "+e[t+1].toFixed(n)+" "+e[t+2].toFixed(n))},arrayDeVectores(e,t){const n=[];for(let i=0;i<e.length;i+=t)n.push([...e.slice(i,i+t)]);return n},I2(e,t){const n=[],i=[];t&&"noImprimir"!==t&&console.log(t);for(let o=0;o<e.length;o+=2)n.push(e[o]),i.push(e[o+1]),"noImprimir"!==t&&console.log(e[o].toFixed(4)+" "+e[o+1].toFixed(4));return{columna1:n,columna2:i}},calcularTanYBiTan(e){const{vertices:t,indices:n,textureCoords:i,normales:o}=e,r=_e.arrayDeVectores(t,3),a=_e.arrayDeVectores(i,2),s=_e.arrayDeVectores(o,3),l=[],u=[];for(let e=0;e<r.length;e++)l[e]=[0,0,0],u[e]=[0,0,0];const c={x:0,y:0,z:0},d={x:0,y:0,z:0};let h=0,p=!1;for(let e=0;e<n.length-2;e++){const t=n[e],i=n[e+1],o=n[e+2],s=r[t],f=r[i],m=r[o],g=[f[0]-s[0],f[1]-s[1],f[2]-s[2]],v=[m[0]-s[0],m[1]-s[1],m[2]-s[2]],b=a[t],y=a[i],_=a[o],x=y[0]-b[0],C=y[1]-b[1],T=_[0]-b[0],E=_[1]-b[1];let w=1/(x*E-T*C);p||w===1/0||w===-1/0||0===w||(h=Math.abs(w),p=!0),w===1/0&&(w=h),w===-1/0&&(w=-h),c.x=w*(E*g[0]-C*v[0]),c.y=w*(E*g[1]-C*v[1]),c.z=w*(E*g[2]-C*v[2]),d.x=w*(x*v[0]-T*g[0]),d.y=w*(x*v[1]-T*g[1]),d.z=w*(x*v[2]-T*g[2]);const A=l[t],S=l[i],M=l[o],P=u[t],D=u[i],L=u[o];l[t]=[A[0]+c.x,A[1]+c.y,A[2]+c.z],l[i]=[S[0]+c.x,S[1]+c.y,S[2]+c.z],l[o]=[M[0]+c.x,M[1]+c.y,M[2]+c.z],u[t]=[P[0]+d.x,P[1]+d.y,P[2]+d.z],u[i]=[D[0]+d.x,D[1]+d.y,D[2]+d.z],u[o]=[L[0]+d.x,L[1]+d.y,L[2]+d.z]}const f=[],m=[];for(let e=0;e<r.length;e++){let t=l[e];const n=u[e],i=s[e];(_e.Dot(_e.Cross(t,n),i)>0?1:-1)<0&&(t=_e.MultiplyVector(t,-1)),f.push(..._e.normalizarVector(t)),m.push(..._e.normalizarVector(n))}return{tangentes:f,bitangentes:m}},Dot:(e,t)=>e[0]*t[0]+e[1]*t[1]+e[2]*t[2],Reject(e,t){let n=_e.Dot(e,t)/_e.Dot(t,t);return[e[0]-t[0]*n,e[1]-t[1]*n,e[2]-t[2]*n]},Cross:(e,t)=>[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]],MultiplyVector:(e,t)=>[e[0]*t,e[1]*t,e[2]*t],crearVectorEntre(e,t,n){const i=(e-t)/(n-1),o=[];for(let e=0;e<=n-1;e++)o.push(t+e*i);return o}};class xe{constructor(e,t,n){return this.gl=e,this.program=e.createProgram(),t&&n?(e.attachShader(this.program,_e.getShader(e,t)),e.attachShader(this.program,_e.getShader(e,n)),e.linkProgram(this.program),this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS)?void this.useProgram():console.error("Could not initialize shaders.")):console.error("No shader IDs were provided")}useProgram(){this.gl.useProgram(this.program)}load(e,t){this.useProgram(),this.setAttributeLocations(e),this.setUniformLocations(t)}setAttributeLocations(e){e.forEach((e=>{this[e]=this.gl.getAttribLocation(this.program,e)}))}setUniformLocations(e){e.forEach((e=>{this[e]=this.gl.getUniformLocation(this.program,e)}))}getUniform(e){return this.gl.getUniform(this.program,e)}}class Ce{constructor(e,t){this.gl=e,this.program=t,this.objects=[]}get(e){return this.objects.find((t=>t.alias===e))}load(e,t,n){return fetch(e).then((e=>e.json())).then((e=>{e.visible=!0,e.alias=t||e.alias,this.add(e,n)})).catch((e=>console.error(e,...arguments)))}loadByParts(e,t,n){for(let i=1;i<=t;i++){const t=`${e}${i}.json`;this.load(t,n)}}add(e,t){const{gl:n,program:i}=this;if(e.diffuse=e.diffuse||[1,1,1,1],e.Kd=e.Kd||e.diffuse.slice(0,3),e.ambient=e.ambient||[.2,.2,.2,1],e.Ka=e.Ka||e.ambient.slice(0,3),e.specular=e.specular||[1,1,1,1],e.Ks=e.Ks||e.specular.slice(0,3),e.specularExponent=e.specularExponent||0,e.Ns=e.Ns||e.specularExponent,e.d=e.d||1,e.transparency=e.transparency||e.d,e.illum=e.illum||1,Object.assign(e,t),e.ibo=n.createBuffer(),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.ibo),n.bufferData(n.ELEMENT_ARRAY_BUFFER,new Uint16Array(e.indices),n.STATIC_DRAW),e.vao=n.createVertexArray(),n.bindVertexArray(e.vao),i.aVertexPosition>=0){const t=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,t),n.bufferData(n.ARRAY_BUFFER,new Float32Array(e.vertices),n.STATIC_DRAW),n.enableVertexAttribArray(i.aVertexPosition),n.vertexAttribPointer(i.aVertexPosition,3,n.FLOAT,!1,0,0)}if(i.aVertexNormal>=0){const t=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,t),n.bufferData(n.ARRAY_BUFFER,new Float32Array(e.normales),n.STATIC_DRAW),n.enableVertexAttribArray(i.aVertexNormal),n.vertexAttribPointer(i.aVertexNormal,3,n.FLOAT,!1,0,0)}if(e.scalars&&i.aVertexColor>=0){const t=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,t),n.bufferData(n.ARRAY_BUFFER,new Float32Array(e.scalars),n.STATIC_DRAW),n.enableVertexAttribArray(i.aVertexColor),n.vertexAttribPointer(i.aVertexColor,4,n.FLOAT,!1,0,0)}if(e.textureCoords&&i.aVertexTextureCoords>=0){const t=n.createBuffer();if(n.bindBuffer(n.ARRAY_BUFFER,t),n.bufferData(n.ARRAY_BUFFER,new Float32Array(e.textureCoords),n.STATIC_DRAW),n.enableVertexAttribArray(i.aVertexTextureCoords),n.vertexAttribPointer(i.aVertexTextureCoords,2,n.FLOAT,!1,0,0),i.aVertexTangent>=0){const t=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,t),n.bufferData(n.ARRAY_BUFFER,new Float32Array(e.tangentes),n.STATIC_DRAW),n.enableVertexAttribArray(i.aVertexTangent),n.vertexAttribPointer(i.aVertexTangent,3,n.FLOAT,!1,0,0)}}this.objects.push(e),n.bindVertexArray(null),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,null),n.bindBuffer(n.ARRAY_BUFFER,null)}traverse(e){for(let t=0;t<this.objects.length&&void 0===e(this.objects[t],t);t++);}remove(e){const t=this.get(e);if(void 0===t)return void console.warn(`Object with alias ${e} does not exist`);const n=this.objects.indexOf(t);this.objects.splice(n,1)}renderFirst(e){const t=this.get(e),n=this.objects.indexOf(t);0!==n&&(this.objects.splice(n,1),this.objects.splice(0,0,t),this.printRenderOrder())}renderLast(e){const t=this.get(e),n=this.objects.indexOf(t);0!==n&&(this.objects.splice(n,1),this.objects.push(t),this.printRenderOrder())}renderSooner(e){const t=this.get(e),n=this.objects.indexOf(t);0!==n&&(this.objects.splice(n,1),this.objects.splice(n-1,0,t),this.printRenderOrder())}renderLater(e){const t=this.get(e),n=this.objects.indexOf(t);n!==this.objects.length-1&&(this.objects.splice(n,1),this.objects.splice(n+1,0,t),this.printRenderOrder())}printRenderOrder(){const e=this.objects.map((e=>e.alias)).join(" > ");console.info("Render Order:",e)}}function Te(){var e=new i(16);return i!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Ee(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function we(e,t,n,o,r,a,s,l,u,c,d,h,p,f,m,g){var v=new i(16);return v[0]=e,v[1]=t,v[2]=n,v[3]=o,v[4]=r,v[5]=a,v[6]=s,v[7]=l,v[8]=u,v[9]=c,v[10]=d,v[11]=h,v[12]=p,v[13]=f,v[14]=m,v[15]=g,v}function Ae(e,t,n,i,o,r,a,s,l,u,c,d,h,p,f,m,g){return e[0]=t,e[1]=n,e[2]=i,e[3]=o,e[4]=r,e[5]=a,e[6]=s,e[7]=l,e[8]=u,e[9]=c,e[10]=d,e[11]=h,e[12]=p,e[13]=f,e[14]=m,e[15]=g,e}function Se(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Me(e,t){if(e===t){var n=t[1],i=t[2],o=t[3],r=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=i,e[9]=r,e[11]=t[14],e[12]=o,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function Pe(e,t){var n=t[0],i=t[1],o=t[2],r=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],d=t[9],h=t[10],p=t[11],f=t[12],m=t[13],g=t[14],v=t[15],b=n*s-i*a,y=n*l-o*a,_=n*u-r*a,x=i*l-o*s,C=i*u-r*s,T=o*u-r*l,E=c*m-d*f,w=c*g-h*f,A=c*v-p*f,S=d*g-h*m,M=d*v-p*m,P=h*v-p*g,D=b*P-y*M+_*S+x*A-C*w+T*E;return D?(D=1/D,e[0]=(s*P-l*M+u*S)*D,e[1]=(o*M-i*P-r*S)*D,e[2]=(m*T-g*C+v*x)*D,e[3]=(h*C-d*T-p*x)*D,e[4]=(l*A-a*P-u*w)*D,e[5]=(n*P-o*A+r*w)*D,e[6]=(g*_-f*T-v*y)*D,e[7]=(c*T-h*_+p*y)*D,e[8]=(a*M-s*A+u*E)*D,e[9]=(i*A-n*M-r*E)*D,e[10]=(f*C-m*_+v*b)*D,e[11]=(d*_-c*C-p*b)*D,e[12]=(s*w-a*S-l*E)*D,e[13]=(n*S-i*w+o*E)*D,e[14]=(m*y-f*x-g*b)*D,e[15]=(c*x-d*y+h*b)*D,e):null}function De(e,t,n){var i=t[0],o=t[1],r=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=t[8],h=t[9],p=t[10],f=t[11],m=t[12],g=t[13],v=t[14],b=t[15],y=n[0],_=n[1],x=n[2],C=n[3];return e[0]=y*i+_*s+x*d+C*m,e[1]=y*o+_*l+x*h+C*g,e[2]=y*r+_*u+x*p+C*v,e[3]=y*a+_*c+x*f+C*b,y=n[4],_=n[5],x=n[6],C=n[7],e[4]=y*i+_*s+x*d+C*m,e[5]=y*o+_*l+x*h+C*g,e[6]=y*r+_*u+x*p+C*v,e[7]=y*a+_*c+x*f+C*b,y=n[8],_=n[9],x=n[10],C=n[11],e[8]=y*i+_*s+x*d+C*m,e[9]=y*o+_*l+x*h+C*g,e[10]=y*r+_*u+x*p+C*v,e[11]=y*a+_*c+x*f+C*b,y=n[12],_=n[13],x=n[14],C=n[15],e[12]=y*i+_*s+x*d+C*m,e[13]=y*o+_*l+x*h+C*g,e[14]=y*r+_*u+x*p+C*v,e[15]=y*a+_*c+x*f+C*b,e}function Le(e,t,n){var i,o,r,a,s,l,u,c,d,h,p,f,m=n[0],g=n[1],v=n[2];return t===e?(e[12]=t[0]*m+t[4]*g+t[8]*v+t[12],e[13]=t[1]*m+t[5]*g+t[9]*v+t[13],e[14]=t[2]*m+t[6]*g+t[10]*v+t[14],e[15]=t[3]*m+t[7]*g+t[11]*v+t[15]):(i=t[0],o=t[1],r=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],d=t[8],h=t[9],p=t[10],f=t[11],e[0]=i,e[1]=o,e[2]=r,e[3]=a,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=d,e[9]=h,e[10]=p,e[11]=f,e[12]=i*m+s*g+d*v+t[12],e[13]=o*m+l*g+h*v+t[13],e[14]=r*m+u*g+p*v+t[14],e[15]=a*m+c*g+f*v+t[15]),e}function ke(e,t,n){var i=n[0],o=n[1],r=n[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Re(e,t,n,i){var o,r,a,s,l,u,c,d,h,p,f,m,g,v,b,y,_,x,C,T,E,w,A,S,M=i[0],P=i[1],D=i[2],L=Math.hypot(M,P,D);return L<1e-6?null:(M*=L=1/L,P*=L,D*=L,o=Math.sin(n),a=1-(r=Math.cos(n)),s=t[0],l=t[1],u=t[2],c=t[3],d=t[4],h=t[5],p=t[6],f=t[7],m=t[8],g=t[9],v=t[10],b=t[11],y=M*M*a+r,_=P*M*a+D*o,x=D*M*a-P*o,C=M*P*a-D*o,T=P*P*a+r,E=D*P*a+M*o,w=M*D*a+P*o,A=P*D*a-M*o,S=D*D*a+r,e[0]=s*y+d*_+m*x,e[1]=l*y+h*_+g*x,e[2]=u*y+p*_+v*x,e[3]=c*y+f*_+b*x,e[4]=s*C+d*T+m*E,e[5]=l*C+h*T+g*E,e[6]=u*C+p*T+v*E,e[7]=c*C+f*T+b*E,e[8]=s*w+d*A+m*S,e[9]=l*w+h*A+g*S,e[10]=u*w+p*A+v*S,e[11]=c*w+f*A+b*S,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function Oe(e,t,n){var i=Math.sin(n),o=Math.cos(n),r=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],d=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=r*o+u*i,e[5]=a*o+c*i,e[6]=s*o+d*i,e[7]=l*o+h*i,e[8]=u*o-r*i,e[9]=c*o-a*i,e[10]=d*o-s*i,e[11]=h*o-l*i,e}function Ie(e,t,n){var i=Math.sin(n),o=Math.cos(n),r=t[0],a=t[1],s=t[2],l=t[3],u=t[8],c=t[9],d=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=r*o-u*i,e[1]=a*o-c*i,e[2]=s*o-d*i,e[3]=l*o-h*i,e[8]=r*i+u*o,e[9]=a*i+c*o,e[10]=s*i+d*o,e[11]=l*i+h*o,e}function Ne(e,t,n){var i=Math.sin(n),o=Math.cos(n),r=t[0],a=t[1],s=t[2],l=t[3],u=t[4],c=t[5],d=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=r*o+u*i,e[1]=a*o+c*i,e[2]=s*o+d*i,e[3]=l*o+h*i,e[4]=u*o-r*i,e[5]=c*o-a*i,e[6]=d*o-s*i,e[7]=h*o-l*i,e}function Ve(){var e=new i(4);return i!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function je(e,t,n,i,o){return e[0]=t,e[1]=n,e[2]=i,e[3]=o,e}function Be(e,t,n){var i=t[0],o=t[1],r=t[2],a=t[3];return e[0]=n[0]*i+n[4]*o+n[8]*r+n[12]*a,e[1]=n[1]*i+n[5]*o+n[9]*r+n[13]*a,e[2]=n[2]*i+n[6]*o+n[10]*r+n[14]*a,e[3]=n[3]*i+n[7]*o+n[11]*r+n[15]*a,e}Ve();class ze{constructor(e=ze.ORBITING_TYPE){this.position=o(),this.focus=o(),this.up=o(),this.right=o(),this.normal=o(),this.matrix=Te(),this.steps=0,this.azimuth=0,this.elevation=0,this.fov=45*Math.PI/180,this.minZ=.1,this.maxZ=1e4,this.factorVelocidad=500,this.azimuthActual=0,this.elevationActual=-30,this.timeOutIdPool=[],this.rotationMatrix=null,this.setType(e)}setRotationMatrix(e){this.rotationMatrix=e}isOrbiting(){return this.type===ze.ORBITING_TYPE}isTracking(){return this.type===ze.TRACKING_TYPE}setType(e){~ze.TYPES.indexOf(e)?this.type=e:console.error(`Camera type (${e}) not supported`)}goTo(e=[0,0,0],t=0,n=0,i=[0,0,0]){this.setPosition(e),this.setAzimuth(t),this.setElevation(n),this.setFocus(i)}dolly(e){const t=o(),n=o();l(t,this.normal);const i=e-this.steps;this.isTracking()?(n[0]=this.position[0]-i*t[0],n[1]=this.position[1]-i*t[1],n[2]=this.position[2]-i*t[2]):(n[0]=this.position[0],n[1]=this.position[1],n[2]=this.position[2]-i),this.steps=e,this.setPosition(n)}setPosition(e){a(this.position,e),this.update()}setFocus(e){a(this.focus,e),this.update()}colocarPaulatinamenteLaCamaraEn(e,t){const n=this.azimuthActual,i=this.elevationActual,o=(this.elevation-e)/this.factorVelocidad,r=(this.azimuth-t)/this.factorVelocidad;Math.abs(o)>.001||Math.abs(r)>.001?(this.elevation-=o,this.azimuth-=r,this.update(),n===t&&i===e?this.timeOutIdPool.push(setTimeout((()=>{this.colocarPaulatinamenteLaCamaraEn(e,t)}),10)):(this.borrarTimeOutIdPool(),this.azimuthActual=t,this.elevationActual=e)):this.borrarTimeOutIdPool()}borrarTimeOutIdPool(){this.timeOutIdPool.forEach((e=>{clearTimeout(e)})),this.timeOutIdPool=[]}setAzimuth(e){this.changeAzimuth(e-this.azimuth)}changeAzimuth(e){this.azimuth+=e,(this.azimuth>360||this.azimuth<-360)&&(this.azimuth=this.azimuth%360),this.update()}setElevation(e){this.changeElevation(e-this.elevation)}changeElevation(e){this.elevation+=e,(this.elevation>360||this.elevation<-360)&&(this.elevation=this.elevation%360),this.update()}lookAt(){const e=Ve();je(e,0,0,0,1),Be(e,e,this.matrix),this.cameraPositionCoordDelMundo=e;const t=o();var n,i,r;n=t,i=e,r=this.focus,n[0]=i[0]-r[0],n[1]=i[1]-r[1],n[2]=i[2]-r[2],l(t,t);const a=o();u(a,this.up,t),l(a,a);const s=o();u(s,t,a),l(s,s),Se(this.matrix),Ae(this.matrix,a[0],a[1],a[2],0,s[0],s[1],s[2],0,t[0],t[1],t[2],0,e[0],e[1],e[2],1)}calculateOrientation(){const e=Ve();je(e,1,0,0,0),Be(e,e,this.matrix),a(this.right,e);const t=Ve();je(t,0,1,0,0),Be(t,t,this.matrix),a(this.up,t);const n=Ve();je(n,0,0,1,0),Be(n,n,this.matrix),a(this.normal,n)}dejarDeSeguirALaCapsula(){this.seguirCapsula=!1}seguirALaCapsula(){this.seguirCapsula=!0}update(){if(Se(this.matrix),this.isTracking()?(Le(this.matrix,this.matrix,this.position),Ie(this.matrix,this.matrix,this.azimuth*Math.PI/180),Oe(this.matrix,this.matrix,this.elevation*Math.PI/180)):(Le(this.matrix,this.matrix,this.focus),this.seguirCapsula&&De(this.matrix,this.matrix,this.rotationMatrix),Ie(this.matrix,this.matrix,this.azimuth*Math.PI/180),Oe(this.matrix,this.matrix,this.elevation*Math.PI/180),Le(this.matrix,this.matrix,this.position)),this.isTracking()){const e=Ve();je(e,0,0,0,1),Be(e,e,this.matrix),a(this.position,e)}this.calculateOrientation(),this.isOrbiting()&&this.lookAt()}logCamera(){console.log(`posCamara: ${this.position[0].toFixed(2)}, ${this.position[1].toFixed(2)}, ${this.position[2].toFixed(2)}`),console.log(`azimuth: ${this.azimuth.toFixed(2)}`),console.log(`elevation: ${this.elevation.toFixed(2)}`)}getViewTransform(){const e=Te();return Pe(e,this.matrix),e}}function Fe(e,t,n,i,o){return function(e,t){const n=1-e;return n*n*n*t}(e,t)+function(e,t){const n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,i)+function(e,t){return e*e*e*t}(e,o)}ze.TYPES=["ORBITING_TYPE","TRACKING_TYPE"],ze.TYPES.forEach((e=>ze[e]=e));class He{constructor(e=[0,0],t=[0,0],n=[0,0],i=[0,0]){this.type="CurvaDeBezier",this.v0=e,this.v1=t,this.v2=n,this.v3=i}extraerPuntos(e=5){const t=[],n=[];for(let i=0;i<=e;i++)t.push(this.extraerPunto(i/e)),n.push(this.getTangent(i/e));return{puntos:t,puntosTangentes:n}}extraerPunto(e,t=[0,0]){const n=t,i=this.v0,o=this.v1,r=this.v2,a=this.v3;return n[0]=Fe(e,i[0],o[0],r[0],a[0]),n[1]=Fe(e,i[1],o[1],r[1],a[1]),n}getTangent(e){const t=1e-4;let n=e-t,i=e+t;n<0&&(n=0),i>1&&(i=1);const o=this.extraerPunto(n),r=this.extraerPunto(i),a=_e.restarVectores(r,o);return _e.normalizarVector(a)}}class Ue{constructor(e){this.dimensionesTriangulos=e}construir(e){const t=[],n=[],i=[],o=[];for(let r=0;r<=this.dimensionesTriangulos.filas;r++)for(let a=0;a<=this.dimensionesTriangulos.columnas;a++){let s=a/this.dimensionesTriangulos.columnas,l=r/this.dimensionesTriangulos.filas,u=e.getPosicion(s,l);t.push(u[0]),t.push(u[1]),t.push(u[2]);let c=e.getCoordenadasTextura(s,l);i.push(c[0]),i.push(c[1]);let d=e.getTangente(s,l);o.push(d[0]),o.push(d[1]),o.push(d[2]);let h=e.getNormal(s,l);n.push(h[0]),n.push(h[1]),n.push(h[2])}const r=this.dimensionesTriangulos.columnas+1,a=[];for(let e=0;e<this.dimensionesTriangulos.filas;e++){for(let t=0;t<this.dimensionesTriangulos.columnas+1;t+=2)a.push(e*r+t),a.push((e+1)*r+t),a.push(e*r+t+1),a.push((e+1)*r+t+1);const t=a.length;this.dimensionesTriangulos.columnas%2?(a.push(a[t-1]),a.push((e+1)*r+0)):(a[t-1]=a[t-2],a[t-2]=a[t-3])}return a.pop(),a.pop(),{positionBuffer:t,normalBuffer:n,uvBuffer:i,indexBuffer:a,tangenteBuffer:o}}}const qe={Textura:{diffuse:[1,1,1,1],ambient:[.2,.2,.2,1]},PanelSolar:[0,40/255,166/255,1],Violeta:[1,0,138/255,1],Pastilla:[248/255,180/255,57/255,1],RojoMetalico:[.71875,0,.1796,1],sunLightColor:[[255,176,186,255],[191,255,209,255],[255,186,255,255]]};class Ge{constructor(e,t){this.alias=t,this.vertices=[],this.indices=[],this.textureCoords=[],this.normales=[],this.tangentes=[],this.diffuse=qe.RojoMetalico,this.visible=!0,this.dimensionesTriangulos=e,this.wireframe=!1}superficie(){}construir(){const e=new Ue(this.dimensionesTriangulos).construir(this.superficie());this.vertices=e.positionBuffer,this.indices=e.indexBuffer,this.normales=e.normalBuffer,this.textureCoords=e.uvBuffer,this.tangentes=e.tangenteBuffer}}class Xe extends Ge{constructor(e,t,n,i=!1){super(n,e),this.dimensionesCilindro=t,this.invertirNormales=i,this.construir()}superficie(){const e=this.dimensionesCilindro.radioSuperior,t=this.dimensionesCilindro.radioInferior,n=this.dimensionesCilindro.altura,i=(t-e)/n,o=this.invertirNormales;return{getPosicion:function(i,o){const r=o*(e-t)+t,a=2*Math.PI*i;return[r*Math.sin(a),o*n,r*Math.cos(a)]},getNormal:function(e,t){const n=2*Math.PI*e,r=_e.normalizarVector([Math.sin(n),i,Math.cos(n)]);return!0===o?r.map((e=>-e)):r},getCoordenadasTextura:function(e,t){return[e,t]},getTangente:function(i,r){const a=2*Math.PI*i,s=r*(e-t)+t,l=2*Math.PI*s,u=[l*Math.cos(a),0,-l*Math.sin(a)],c=e-t,d=[c*Math.sin(a),n,c*Math.cos(a)],h=u.map(((e,t)=>e+d[t])),p=_e.normalizarVector(h);return!0===o?p.map((e=>-e)):p}}}}class Ye extends Ge{constructor(e,t,n){super(n,e),this.dimensionesTubo=t,this.construir()}superficie(){const e=this.dimensionesTubo.radio,t=this.dimensionesTubo.altura;return{getPosicion:function(n,i){const o=2*Math.PI*n,r=e,a=r*Math.cos(o),s=r*Math.sin(o);return[a,i*t,s]},getNormal:function(e,t){const n=2*Math.PI*e;return[Math.cos(n),0,Math.sin(n)]},getCoordenadasTextura:function(e,t){return[e,t]},getTangente:function(n,i){const o=2*Math.PI*n,r=2*Math.PI*e;return _e.normalizarVector([-r*Math.sin(o),t,r*Math.cos(o)])}}}}class We extends Ge{constructor(e,t,n){super(n,e),this.radio=t,this.construir()}superficie(){const e=this.radio;return{getPosicion:function(t,n){const i=2*Math.PI*t;return[e*n*Math.cos(i),0,e*n*Math.sin(i)]},getNormal:function(e,t){return[0,1,0]},getCoordenadasTextura:function(e,t){return[e,t]},getTangente:function(t,n){const i=2*Math.PI*e*n,o=2*Math.PI*t,r=[-i*Math.sin(o),0,i*Math.cos(o)],a=[e*Math.cos(o),0,e*Math.sin(o)],s=r.map(((e,t)=>e+a[t]));return _e.normalizarVector(s)}}}}class $e extends Ge{constructor(e,t,n){super(n,e),this.dimensiones=t,this.construir()}superficie(){const e=this.dimensiones.ancho,t=this.dimensiones.largo;return{getPosicion:function(n,i){return[(n-.5)*e,0,(i-.5)*t]},getNormal:function(e,t){return[0,1,0]},getCoordenadasTextura:function(e,t){return[e,t]},getTangente:function(e,t){return[1,0,0]}}}}class Ke{constructor(){this.curvas=[],this.puntoActual=[0,0],this.esCurvaCerrada=!1}curvaCerrada(e){this.esCurvaCerrada=e}actualizarPuntoActual(e,t){return this.puntoActual[0]=e,this.puntoActual[1]=t,this}extraerPuntos(e=12){const t=[],n=[];let i;for(let o=0,r=this.curvas;o<r.length;o++){const a=r[o];let s,l;if(a&&"CurvaDeBezier"===a.type){const{puntos:t,puntosTangentes:i}=a.extraerPuntos(e);s=t,l=i,n.push(...l)}else s=a;for(let e=0;e<s.length;e++){const n=s[e];i&&i[0]===n[0]&&i[1]===n[1]||(t.push(n),i=n)}}return!0===this.esCurvaCerrada&&n.push(n[0]),{puntos:t,puntosTangentes:n}}clonarPuntoActual(){return[this.puntoActual[0],this.puntoActual[1]]}CurvaBezierA(e,t,n,i,o,r){const a=new He(this.clonarPuntoActual(),[e,t],[n,i],[o,r]);return this.curvas.push(a),this.actualizarPuntoActual(o,r),this}iniciarEn(e,t){return this.actualizarPuntoActual(e,t),this}lineaA(e,t){const n=[this.clonarPuntoActual(),[e,t]];return this.curvas.push(n),this.actualizarPuntoActual(e,t),this}}class Qe extends Ge{constructor(e,t,n){super(n,e),this.puntosDeLaForma=t,this.construir()}superficie(){const e=this.puntosDeLaForma;let t,n,i=0;return{getPosicion:function(o,r){t=e[i][0],n=e[i][1];const a=r*e[i][0],s=r*e[i][1];return i++,1===o&&(i=0),[a,0,s]},getNormal:(e,t)=>[0,1,0],getCoordenadasTextura:function(e,t){return[e,1-t]},getTangente:(e,i)=>_e.normalizarVector([-n,0,t])}}}class Je extends Ge{constructor(e,t,n,i,o=!1){super(i,e),this.datosDelRecorrido=n,this.datosDeLaForma=t,this.recorridoXY=o,this.construir()}superficie(){let e=0,t=0;const n=this.datosDelRecorrido,i=this.recorridoXY,o=this.datosDeLaForma;let r;return{getPosicion:function(a,s){const[l,u]=o.puntos[e],[c,d]=o.normales[e],h=n.binormales[t],p=n.tangentes[t],f=n.puntos[t],m=n.vectorNormal,g=Te();i?Ae(g,m[0],h[0],p[0],f[0],m[1],h[1],p[1],f[1],m[2],h[2],p[2],0,0,0,0,1):Ae(g,m[0],h[0],p[0],0,m[1],h[1],p[1],f[1],m[2],h[2],p[2],f[0],0,0,0,1),Me(g,g);const v=Ve();je(v,l,u,0,1),Be(v,v,g);const b=Te();return Ae(b,m[0],h[0],p[0],0,m[1],h[1],p[1],0,m[2],h[2],p[2],0,0,0,0,1),Me(b,b),r=Ve(),je(r,c,d,0,1),Be(r,r,b),[v[0],v[1],v[2]]},getNormal(n,i){e++,1===n&&(e=0,t++);const o=_e.normalizarVector([r[0],r[1],r[2]]);return[o[0],o[1],o[2]]},getCoordenadasTextura:function(e,t){return[e,1-t]},getTangente:(e,t)=>[e,t,e-1]}}}class Ze extends Ge{constructor(e,t,n,i,o=!1){super(i,e),this.datosDelRecorrido=n,this.datosDeLaForma=t,this.recorridoXY=o,this.construir()}superficie(){let e=0,t=0;const n=this.datosDelRecorrido,i=this.recorridoXY,o=this.datosDeLaForma;let r,a;return{getPosicion:function(s,l){const[u,c]=o.puntos[e],[d,h]=o.normales[e],[p,f]=o.tangentes[e],m=n.binormales[t],g=n.tangentes[t],v=n.puntos[t],b=n.vectorNormal,y=Te();i?Ae(y,b[0],m[0],g[0],v[0],b[1],m[1],g[1],v[1],b[2],m[2],g[2],0,0,0,0,1):Ae(y,b[0],m[0],g[0],0,b[1],m[1],g[1],v[1],b[2],m[2],g[2],v[0],0,0,0,1),Me(y,y);const _=Ve();je(_,u,c,0,1),Be(_,_,y);const x=Te();return Ae(x,b[0],m[0],g[0],0,b[1],m[1],g[1],0,b[2],m[2],g[2],0,0,0,0,1),Me(x,x),r=Ve(),je(r,d,h,0,1),Be(r,r,x),a=Ve(),je(a,p,f,0,1),Be(a,a,x),[_[0],_[1],_[2]]},getTangente(e,t){const n=_e.normalizarVector([a[0],a[1],a[2]]);return[n[0],n[1],n[2]]},getNormal(n,i){e++,1===n&&(e=0,t++);const o=_e.normalizarVector([r[0],r[1],r[2]]);return[o[0],o[1],o[2]]},getCoordenadasTextura:function(e,t){return[t,e]}}}}class et{constructor(e,t,n=et.BLOQUES_8,i=16,o=8){this.scene=t,this.radioDelAnillo=e,this.bloqueActual=null,this.pasoDiscretoRecorrido=i,this.divisionesForma=o,this.dictionary={},et.TYPES.forEach((e=>{this.dictionary[e]=[]})),this.construirBloques()}obtenerNuevasCoordenadasTapaAtras(e,t){const n=Se(Te());Re(n,n,e,[0,0,1]),Re(n,n,Math.PI/2,[0,1,0]);const i=Se(Te());Le(i,i,[15.2*Math.cos(e),15.2*Math.sin(e),0]),De(i,i,n);const o=_e.nuevasCoordenadas(i,t,!1),r=_e.nuevasCoordenadas(n,t,!1),a=r.normales,s=r.tangentes;return{vertices:o.vertices,normales:a,tangentes:s}}construirBloques(){const{radioDelAnillo:e,pasoDiscretoRecorrido:t,divisionesForma:n}=this,i=new Ke;i.iniciarEn(2.2,.6),i.CurvaBezierA(2.2,.8,2,1,1.8,1),i.lineaA(-1.8,1),i.CurvaBezierA(-2,1,-2.2,.8,-2.2,.6),i.lineaA(-2.2,-.6),i.CurvaBezierA(-2.2,-.8,-2,-1,-1.8,-1),i.lineaA(1.8,-1),i.CurvaBezierA(2,-1,2.2,-.8,2.2,-.6),i.lineaA(2.2,.6).curvaCerrada(!0);const o=_e.crearForma(n,i);o.puntos.splice(9,0,[0,1]),o.puntos.splice(19,0,[-2.2,0]),o.puntos.splice(29,0,[0,-1]),o.puntos.splice(39,0,[2.2,0]),o.normales.splice(9,0,[0,1]),o.normales.splice(19,0,[-1,0]),o.normales.splice(29,0,[0,-1]),o.normales.splice(39,0,[1,0]),o.tangentes.splice(9,0,[-1,0]),o.tangentes.splice(19,0,[0,-1]),o.tangentes.splice(29,0,[1,0]),o.tangentes.splice(39,0,[0,1]);const r=o.puntos.length-1,a={filas:t,columnas:r},s=new Ge(null,"bloque"),l=new Ge(null,"bloque"),u=new Ge(null,"bloque"),c=new Ge(null,"bloque"),d=new Ge(null,"bloque"),h=_e.crearRecorridoCircular(e,1/8,a.filas),p=_e.crearRecorridoCircular(e,.1,a.filas),f=_e.crearRecorridoCircular(e,1/12,a.filas),m=_e.crearRecorridoCircular(e,1/14,a.filas),g=_e.crearRecorridoCircular(e,1/16,a.filas),v=new Ze("bloque4_cuerpo",o,h,a,!0),b=new Ze("bloque5_cuerpo",o,p,a,!0),y=new Ze("bloque6_cuerpo",o,f,a,!0),_=new Ze("bloque7_cuerpo",o,m,a,!0),x=new Ze("bloque8_cuerpo",o,g,a,!0),C=new Qe("bloque4_tapaAtras",o.puntos,{filas:1,columnas:r}),T=new Qe("bloque4_tapaAdelante",o.puntos,{filas:1,columnas:r}),E=Se(Te());Le(E,E,[15.2,0,0]),Re(E,E,Math.PI/2,[0,1,0]),Re(E,E,Math.PI,[1,0,0]);const w=Se(Te());Re(w,w,Math.PI/2,[0,1,0]),Re(w,w,Math.PI,[1,0,0]);const A=_e.nuevasCoordenadas(w,T,!1),S=_e.nuevasCoordenadas(E,T,!1);S.normales=A.normales,S.tangentes=A.tangentes;const M=this.obtenerNuevasCoordenadasTapaAtras(Math.PI/4,C),P=this.obtenerNuevasCoordenadasTapaAtras(Math.PI/5,C),D=this.obtenerNuevasCoordenadasTapaAtras(Math.PI/6,C),L=this.obtenerNuevasCoordenadasTapaAtras(Math.PI/7,C),k=this.obtenerNuevasCoordenadasTapaAtras(Math.PI/8,C);let R=0,O=[],I=[];for(let e=0;e<T.vertices.length;e+=3){const t={x:T.vertices[e],y:T.vertices[e+1],z:T.vertices[e+2]},n={x:T.vertices[(e+3)%T.vertices.length],y:T.vertices[(e+4)%T.vertices.length],z:T.vertices[(e+5)%T.vertices.length]};if(0===t.x&&0===t.y&&0===t.z||0===n.x&&0===n.y&&0===n.z)continue;const i=Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)+Math.pow(n.z-t.z,2));O.push(i),R+=i}let N=0;I.push(0),O.map((e=>{N+=e,I.push(N/R)}));const V=[];for(let e=0;e<h.puntos.length+4;e++)V.push(e/(h.puntos.length+3));const j=[];for(let e=0;e<V.length;e++)for(let t=0;t<I.length;t++)j.push(1-I[t],V[e]);const B=[];v.indices.forEach((e=>{B.push(e+T.indices[T.indices.length-1]+1)}));const z=[];C.indices.forEach((e=>{z.push(e+B[B.length-1]+1)}));const F=[];F.push(...T.indices,T.indices[T.indices.length-1],B[0],...B,B[B.length-1],z[0],...z),s.indices.push(...F),l.indices.push(...F),u.indices.push(...F),c.indices.push(...F),d.indices.push(...F),s.vertices.push(...S.vertices,...v.vertices,...M.vertices),l.vertices.push(...S.vertices,...b.vertices,...P.vertices),u.vertices.push(...S.vertices,...y.vertices,...D.vertices),c.vertices.push(...S.vertices,..._.vertices,...L.vertices),d.vertices.push(...S.vertices,...x.vertices,...k.vertices),s.normales.push(...S.normales,...v.normales,...M.normales),l.normales.push(...S.normales,...b.normales,...P.normales),u.normales.push(...S.normales,...y.normales,...D.normales),c.normales.push(...S.normales,..._.normales,...L.normales),d.normales.push(...S.normales,...x.normales,...k.normales),s.tangentes.push(...S.tangentes,...v.tangentes,...M.tangentes),l.tangentes.push(...S.tangentes,...b.tangentes,...P.tangentes),u.tangentes.push(...S.tangentes,...y.tangentes,...D.tangentes),c.tangentes.push(...S.tangentes,..._.tangentes,...L.tangentes),d.tangentes.push(...S.tangentes,...x.tangentes,...k.tangentes),s.textureCoords.push(...j),l.textureCoords.push(...j),u.textureCoords.push(...j),c.textureCoords.push(...j),d.textureCoords.push(...j);let H=4;for(;H--;)this.dictionary[et.BLOQUES_4].push(s);for(H=5;H--;)this.dictionary[et.BLOQUES_5].push(l);for(H=6;H--;)this.dictionary[et.BLOQUES_6].push(u);for(H=7;H--;)this.dictionary[et.BLOQUES_7].push(c);for(H=8;H--;)this.dictionary[et.BLOQUES_8].push(d)}setType(e){~et.TYPES.indexOf(e)?this.type=e:console.error(`Bloque type (${e}) not supported`),this.removerBloqueActualDeLaEscena(),this.actualizarEscena()}dameElTipoDeBloqueActual(){return this.type}removerBloqueActualDeLaEscena(){null!=this.bloqueActual&&this.bloqueActual.forEach((e=>{this.scene.remove(e.alias)}))}actualizarEscena(){this.dictionary[this.type].forEach((e=>{this.scene.add(e,{texture:"bloque",diffuse:qe.Textura.diffuse,ambient:qe.Textura.ambient})})),this.bloqueActual=this.dictionary[this.type]}}et.TYPES=["BLOQUES_8","BLOQUES_7","BLOQUES_6","BLOQUES_5","BLOQUES_4"],et.TYPES.forEach((e=>et[e]=e));class tt{constructor(e,t,n,i,a,s){this.bloque=a,this.camera=e,this.canvas=t,this.droneCam=n,this.spotLightDir=i,this.picker=null,this.msg=s,this.isGuiActive=!1,this.mostrarControlesCapsula=!1,this.dragging=!1,this.picking=!1,this.ctrl=!1,this.x=0,this.y=0,this.lastX=0,this.lastY=0,this.button=0,this.key=0,this.dloc=0,this.dstep=0,this.motionFactor=10,this.keyIncrement=2,this.spotLightTypeOptions=0,this.bloqueTypeOptions=et.TYPES.length-1,this.controlesCapsula=!1,this.focusCamera={Nave:!1,PanelesSolares:!1,Capsula:!1,Luna:!1,Tierra:!1},t.onmousedown=e=>this.onMouseDown(e),t.onmouseup=e=>this.onMouseUp(e),t.onmousemove=e=>this.onMouseMove(e),t.onwheel=e=>this.onMouseWheel(e),window.onkeydown=e=>this.onKeyDown(e),window.onkeyup=e=>this.onKeyUp(e),this.dondeEstoy="Nave",this.Camara={Nave:{position:o(),azimuth:0,elevation:0,focus:o()},PanelesSolares:{position:r(0,0,29.5),azimuth:-180,elevation:-30,focus:o()},Capsula:{position:r(0,0,20),azimuth:0,elevation:-30.8,focus:o()},Luna:{position:r(0,0,20),azimuth:0,elevation:-30.8,focus:o()},Tierra:{position:r(0,0,20),azimuth:0,elevation:-30.8,focus:o()}}}setParamCamara(e){const t=d.lunaCamaraInitValues[e];this.Camara.Luna=Object.assign({},t);const n=d.tierraCamaraInitValues[e];this.Camara.Tierra=Object.assign({},n);const i=d.panelesSolaresCamaraInitValues[e];this.Camara.PanelesSolares=Object.assign({},i);const o=d.capsulaCamaraInitValues[e];this.Camara.Capsula=Object.assign({},o)}setFocusCapsula(e){this.Camara.Capsula.focus=e}setFocus(e,t){this.Camara.Nave.focus=e,this.Camara.PanelesSolares.focus=t}setFocusLuna(e){this.Camara.Luna.focus=e}setFocusTierra(e){this.Camara.Tierra.focus=e}setPicker(e){this.picker=e}get2DCoords(e){let t=0,n=0,i=this.canvas;for(;i&&"BODY"!==i.tagName;)t+=i.offsetTop,n+=i.offsetLeft,i=i.offsetParent;return n+=window.pageXOffset,t-=window.pageYOffset,{x:e.clientX-n,y:this.canvas.height-(e.clientY-t)}}onMouseUp(e){this.dragging=!1,!e.shiftKey&&this.picker&&(this.picking=!1,this.picker.stop()),this.droneCam.updateWithMouseReset()}onMouseDown(e){if(this.dragging=!0,this.x=e.clientX,this.y=e.clientY,this.button=e.button,this.dstep=Math.max(this.camera.position[0],this.camera.position[1],this.camera.position[2])/100,!this.picker)return;const t=this.get2DCoords(e);this.picking=this.picker.find(t),this.picking||this.picker.stop()}dollyHelper(e,t=3){for(this.dstep=Math.max(this.camera.position[0],this.camera.position[1],this.camera.position[2])/100;t--;)this.dolly(e)}onMouseWheel(e){const t=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));this.shift=e.shiftKey,this.shift&&this.controlesCapsula?this.cambiarAnguloDeAperturaSpotLight(t):this.dollyHelper(t)}cambiarAnguloDeAperturaSpotLight(e){this.spotLightDir.cambiarAnguloDeApertura(e)}onMouseMove(e){if(this.lastX=this.x,this.lastY=this.y,this.x=e.clientX,this.y=e.clientY,!this.dragging)return;this.ctrl=e.ctrlKey,this.alt=e.altKey,this.shift=e.shiftKey;const t=this.x-this.lastX,n=this.y-this.lastY;this.picking&&this.picker.moveCallback?this.picker.moveCallback(t,n):(this.button||(this.shift&&this.controlesCapsula?this.rotarCapsula(t,n):this.rotate(t,n)),1===this.button&&this.controlesCapsula&&this.spotLight(t,n))}rotarCapsula(e,t){const{width:n,height:i}=this.canvas,o=e*(2/n),r=t*(-2/i);this.droneCam.updateWithMouse(r,o)}spotLight(e,t){const{width:n,height:i}=this.canvas,o=-20/i,r=e*(20/n)*this.motionFactor,a=t*o*this.motionFactor;this.spotLightDir.cambiarAzimuth(r),this.spotLightDir.cambiarElevation(a)}configurarCamaraDe(e){a(this.Camara[this.dondeEstoy].position,this.camera.position),this.Camara[this.dondeEstoy].azimuth=this.camera.azimuth,this.Camara[this.dondeEstoy].elevation=this.camera.elevation,this.camera.goTo(this.Camara[e].position,this.Camara[e].azimuth,this.Camara[e].elevation,this.Camara[e].focus),this.dondeEstoy=e,"Nave"===e?(this.focusCamera.PanelesSolares=!1,this.focusCamera.Capsula=!1,this.focusCamera.Luna=!1,this.focusCamera.Tierra=!1,this.focusCamera.Nave=!0):"PanelesSolares"===e?(this.focusCamera.Nave=!1,this.focusCamera.Capsula=!1,this.focusCamera.Luna=!1,this.focusCamera.Tierra=!1,this.focusCamera.PanelesSolares=!0):"Capsula"===e?(this.focusCamera.Nave=!1,this.focusCamera.PanelesSolares=!1,this.focusCamera.Luna=!1,this.focusCamera.Tierra=!1,this.focusCamera.Capsula=!0):"Luna"===e?(this.focusCamera.Nave=!1,this.focusCamera.PanelesSolares=!1,this.focusCamera.Luna=!0,this.focusCamera.Tierra=!1,this.focusCamera.Capsula=!1):"Tierra"===e&&(this.focusCamera.Nave=!1,this.focusCamera.PanelesSolares=!1,this.focusCamera.Luna=!1,this.focusCamera.Tierra=!0,this.focusCamera.Capsula=!1)}onKeyDown(e){if(this.key=e.keyCode,this.ctrl=e.ctrlKey,!this.ctrl)switch(this.key){case 49:return this.controlesCapsula=!1,this.droneCam.activarControlesTeclado(!1),this.camera.borrarTimeOutIdPool(),this.camera.dejarDeSeguirALaCapsula(),this.msg.clear(),this.msg.info("Estacin Espacial"),this.configurarCamaraDe("Nave");case 50:return this.controlesCapsula=!1,this.droneCam.activarControlesTeclado(!1),this.camera.borrarTimeOutIdPool(),this.camera.dejarDeSeguirALaCapsula(),this.msg.clear(),this.msg.info("Paneles Solares"),this.configurarCamaraDe("PanelesSolares");case 51:return this.controlesCapsula=!0,this.droneCam.activarControlesTeclado(),this.camera.seguirALaCapsula(),this.msg.clear(),this.mostrarControlesCapsula||(this.mostrarControlesCapsula=!0,this.msg.menuControlesCapsula()),this.msg.info("Capsula"),this.configurarCamaraDe("Capsula");case 52:return this.controlesCapsula=!1,this.droneCam.activarControlesTeclado(!1),this.camera.borrarTimeOutIdPool(),this.camera.dejarDeSeguirALaCapsula(),this.msg.clear(),this.msg.info("Luna"),this.configurarCamaraDe("Luna");case 53:return this.controlesCapsula=!1,this.droneCam.activarControlesTeclado(!1),this.camera.borrarTimeOutIdPool(),this.camera.dejarDeSeguirALaCapsula(),this.msg.clear(),this.msg.info("Tierra"),this.configurarCamaraDe("Tierra");case 88:return this.dollyHelper(-1);case 90:return this.dollyHelper(1);case 72:return this.isGuiActive?(this.gui.hide(),this.msg.clear(),void(this.isGuiActive=!this.isGuiActive)):(this.gui.show(),this.isGuiActive=!this.isGuiActive,this.msg.clear(),this.controlesCapsula?this.msg.menuControlesCapsula():this.msg.menuControlesGral());case 70:if(!this.controlesCapsula)return;switch(this.spotLightTypeOptions++,this.spotLightTypeOptions){case 1:this.spotLightDir.activarLuces(),this.spotLightDir.lucesBlancas(),this.msg.success("Luces Blancas");break;case 2:this.spotLightDir.apagarLuces(),this.msg.success("Luces Apagadas");break;default:this.spotLightDir.activarLuces(),this.spotLightDir.lucesRG(),this.msg.success("Luces Rojas y Verdes"),this.spotLightTypeOptions=0}return;case 66:this.bloqueTypeOptions--,this.bloqueTypeOptions<0&&(this.bloqueTypeOptions=et.TYPES.length-1);const e=et.TYPES[this.bloqueTypeOptions];return this.msg.warning(e),void this.bloque.setType(e);case 101:case 67:if(!this.controlesCapsula)return;return this.msg.success("Luces Centradas"),this.spotLightDir.setOriginalDirectionVector()}}onKeyUp(e){17===e.keyCode&&(this.ctrl=!1)}dolly(e){e>0?this.dloc+=this.dstep:this.dloc-=this.dstep,this.camera.dolly(this.dloc)}rotate(e,t){const{width:n,height:i}=this.canvas,o=-20/i,r=e*(-20/n)*this.motionFactor,a=t*o*this.motionFactor;this.camera.changeAzimuth(r),this.camera.changeElevation(a)}}class nt{constructor(e,t,n,i){this.stack=[],this.gl=e,this.program=t,this.camera=n,this.canvas=i,this.modelViewMatrix=Te(),this.projectionMatrix=Te(),this.normalMatrix=Te(),this.calculateModelView(),this.updatePerspective(),this.calculateNormal()}calculateModelView(){this.modelViewMatrix=this.camera.getViewTransform()}calculateNormal(){Ee(this.normalMatrix,this.modelViewMatrix),Pe(this.normalMatrix,this.normalMatrix),Me(this.normalMatrix,this.normalMatrix)}updatePerspective(){var e,t,n,i,o,r,a;e=this.projectionMatrix,t=this.camera.fov,n=this.canvas.width/this.canvas.height,i=this.camera.minZ,o=this.camera.maxZ,a=1/Math.tan(t/2),e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=o&&o!==1/0?(r=1/(i-o),e[10]=(o+i)*r,e[14]=2*o*i*r):(e[10]=-1,e[14]=-2*i)}setMatrixUniforms(){this.calculateNormal(),this.gl.uniformMatrix4fv(this.program.uModelViewMatrix,!1,this.modelViewMatrix),this.gl.uniformMatrix4fv(this.program.uProjectionMatrix,!1,this.projectionMatrix),this.gl.uniformMatrix4fv(this.program.uNormalMatrix,!1,this.normalMatrix)}push(){const e=Te();Ee(e,this.modelViewMatrix),this.stack.push(e)}pop(){return this.stack.length?this.modelViewMatrix=this.stack.pop():null}}const it={filas:36,columnas:8},ot={ancho:.1,largo:6},rt={filas:8,columnas:1},at={filas:36,columnas:1},st={filas:30,columnas:15},lt={filas:10,columnas:8},ut={filas:5,columnas:st.columnas};class ct{constructor(e=300,t){this.velocidadMediaDeGiro=e,this.anguloEnProceso=-5,this.anguloActual=0,this.intervaloEnGrados=t,this.timeOutIdPool=[],this._GIRO={LINEAL:1,LOG:0},this.MODO_GIRO=this._GIRO.LINEAL}empezarEn(e,t){this.panelSolar=t;const n=Math.floor(_e.deRadianesAGrados(e));n%this.intervaloEnGrados==0&&n!==this.anguloEnProceso&&(this.anguloEnProceso=n,this.calcularParametrosYAnimar())}dameUnaVelocidadDeGiroRandom(){return Math.floor(this.velocidadMediaDeGiro*(.5+Math.random()))}dameUnNuevoAngulo(){const e=Math.random(),t=Math.random();let n=Math.random()<.5?this.panelSolar.anguloRotacion*(1-e):this.panelSolar.anguloRotacion*(1+t);return n=Math.floor(n>360?n%360:n),n<18&&(n=10*n+1),n}elegirUnGiro(e){Math.random()<e?this.MODO_GIRO=this._GIRO.LINEAL:this.MODO_GIRO=this._GIRO.LOG}calcularParametrosYAnimar(){const e=this.dameUnaVelocidadDeGiroRandom(),t=this.dameUnNuevoAngulo();this.anguloActual=t,this.elegirUnGiro(.6),this.cambiarElAnguloRotacionPanelSolar(t,e)}cambiarElAnguloRotacionPanelSolar(e,t){const n=this.anguloActual,i=this.panelSolar.anguloRotacion-e;let o;0!==t?(o=i/t,Math.abs(o)>.02?(this.panelSolar.anguloRotacion-=o,n===e?this.timeOutIdPool.push(setTimeout((()=>{this.cambiarElAnguloRotacionPanelSolar(e,t-this.MODO_GIRO)}),10)):(this.limpiarElPool(),this.anguloActual=e,this.cambiarElAnguloRotacionPanelSolar(e,t-this.MODO_GIRO))):this.limpiarElPool()):this.limpiarElPool()}limpiarElPool(){this.timeOutIdPool.forEach((e=>clearTimeout(e))),this.timeOutIdPool=[]}}function dt(e,t,n,a){let s,l,u=.3,d=.01,h=.05,p=o();s=e?r(...e):o(),l=t?we(...t):Te();let f=Te(),m={xVel:0,zVel:0,yVel:0,xVelTarget:0,zVelTarget:0,yVelTarget:0,yRotVelTarget:0,yRotVel:0,zRotVelTarget:0,zRotVel:0,xRotVelTarget:0,xRotVel:0,rightAxisMode:"move"},g=Object.assign({},m);this.listener=function(n){switch(n.keyCode){case 38:case 87:g.zVelTarget=u;break;case 40:case 83:g.zVelTarget=-.3;break;case 37:case 65:g.xVelTarget=u;break;case 39:case 68:g.xVelTarget=-.3;break;case 81:case 32:case 33:g.yVelTarget=u;break;case 69:case 34:g.yVelTarget=-.3;break;case 75:g.xRotVelTarget=d;break;case 73:g.xRotVelTarget=-.01;break;case 74:g.yRotVelTarget=d;break;case 76:g.yRotVelTarget=-.01;break;case 85:g.zRotVelTarget=d;break;case 79:g.zRotVelTarget=-.01;break;case 82:p=o(),s=r(e[0],e[1],e[2]),g=Object.assign({},m),l=we(...t),a.setOriginalDirectionVector();break;case 84:p=o(),g=Object.assign({},m);break;case 102:return a.cambiarAzimuth(2);case 100:return a.cambiarAzimuth(-2);case 104:return a.cambiarElevation(2);case 103:return a.cambiarAzimuth(-2),a.cambiarElevation(2);case 97:return a.cambiarElevation(-2),a.cambiarAzimuth(-2);case 99:return a.cambiarElevation(-2),a.cambiarAzimuth(2);case 105:return a.cambiarAzimuth(2),a.cambiarElevation(2);case 98:return a.cambiarElevation(-2)}},this.activarControlesTeclado=function(e=!0){e?(document.addEventListener("keydown",this.listener),document.addEventListener("keyup",(function(e){switch(e.keyCode){case 40:case 87:case 38:case 83:g.zVelTarget=0;break;case 37:case 65:case 39:case 68:g.xVelTarget=0;break;case 81:case 69:case 34:case 33:case 32:g.yVelTarget=0;break;case 74:case 76:g.yRotVelTarget=0;break;case 73:case 75:g.xRotVelTarget=0;break;case 85:case 79:g.zRotVelTarget=0}}))):document.removeEventListener("keydown",this.listener)},this.updateWithMouseReset=function(){g.xRotVelTarget=0,g.yRotVelTarget=0},this.updateWithMouse=function(e,t){g.xRotVelTarget=e,g.yRotVelTarget=-t},this.getCamState=function(){return g},this.update=function(){g.xVel+=(g.xVelTarget-g.xVel)*h,g.yVel+=(g.yVelTarget-g.yVel)*h,g.zVel+=(g.zVelTarget-g.zVel)*h,g.xRotVel+=(g.xRotVelTarget-g.xRotVel)*h,g.yRotVel+=(g.yRotVelTarget-g.yRotVel)*h,g.zRotVel+=(g.zRotVelTarget-g.zRotVel)*h;let e=r(-g.xVel,g.yVel,-g.zVel);var t,n,i;return Math.abs(g.xRotVel)>0&&Re(l,l,g.xRotVel,r(1,0,0)),Math.abs(g.yRotVel)>0&&Re(l,l,g.yRotVel,r(0,1,0)),Math.abs(g.zRotVel)>0&&Re(l,l,g.zRotVel,r(0,0,1)),c(e,e,l),n=s,i=e,(t=s)[0]=n[0]+i[0],t[1]=n[1]+i[1],t[2]=n[2]+i[2],f=Te(),Le(f,f,s),De(f,f,l),{rotationMatrix:l,position:s}},this.getViewMatrix=function(){let e=(t=f,(n=new i(16))[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15],n);var t,n;return Pe(e,e),e},this.getMatrix=function(){return f},this.getDeltaTraslacion=function(){return u}}const ht={bloqueTransform:null,centrarElBloque:.42,distanciaNucleoDelAnilloYNave:d.NucleoPS.altura+d.CilindroNucleoPS.altura,distanciaModuloVioletaYNave:d.NucleoPS.altura+2*d.CilindroNucleoPS.altura+d.profundidadModuloVioleta,posicionBloque:0},pt={torusTransform:null,distanciaTubosInteriores:d.anillo.radio,sentidoTuboInterior:1,desplazamientoTuboInterior:0,factorDesplazamientoEntreTubosInteriores:3,pastillaTransform:null,alturaTapaSuperior:.9,alturaTapaInferior:.1},ft={nucleoPSTransform:null,nucleoAnilloTransform:null},mt={capsulaTransform:null,spotLights:{red:{position:[.65,0,-2.48],diffuse:[1,0,0,1],translateFactor:[.65,0,2.48]},green:{position:[-.65,0,-2.48],diffuse:[0,1,0,1],translateFactor:[-.65,0,2.48]},direction:[0,0,-1],scaleFactor:[.1,.26,.18],blanca:{diffuse:[1,1,1,1]}}},gt={naveTransform:null},vt={tuboTransform:null,tuboSecundarioTransform:null,distanciaRelativaConElTuboPrincipal:3.5,distanciaConElNucleo:4.5,panelTransform:null},bt={esferaTransform:null,radio:2,angulo:Math.PI/4,posRelativaALaNave:8.8};class yt{constructor(e,t,n,i,o,r,a,s){this.spotLight=s,this.lights=a,this.animacion=r,this.bloque=o,this.transforms=e,this.droneCam=t,this.controles=n,this.camera=i,this.paramAnillo={pastillaEnElMedio:1.55,factorDeVelocidad:5},this.panelSolar={anguloRotacion:310,animar:!0,posicion1:[0,-d.panelSolar.tapa.largo/2,0],posicion2:[0,d.panelSolar.tuboSecundario.altura+d.panelSolar.tapa.largo/2,0]},this.posicionAnillo=0,this.cargarParametrosBloques(),this.fuegoColaVars=[.9,25,2e3,.04],this.cuboTransform=e.modelViewMatrix,this.cargarParametrosMundo()}cargarParametrosMundo(){this.tierraLunaTransform=[{tierra:{x:904,y:-939,z:1554,rx:.87,ry:4.89,rz:3.73,radio:1405},luna:{x:525,y:850,z:-722,rx:1.96,ry:1.08,rz:0,radio:345}},{tierra:{x:-1101,y:-1047,z:1392,rx:1.49,ry:4.01,rz:3.39,radio:1405},luna:{x:1283,y:-17,z:-180,rx:1.42,ry:2.78,rz:5.98,radio:345}},{tierra:{x:-2131,y:-939,z:741,rx:.4,ry:1.89,rz:1.83,radio:1405},luna:{x:796,y:145,z:1066,rx:.87,ry:.67,rz:2.57,radio:345}}]}cargarParametrosBloques(){let e=360,t=8;this.parametrosBloques={},et.TYPES.forEach((n=>{this.parametrosBloques[n]={anguloPosicion:e,anguloTapaAtras:180/t--},e-=45}))}setAlias(e){this.alias=e}capsula(){const{transforms:e,droneCam:t,controles:n,camera:i}=this;if("capsula"===this.alias){mt.capsulaTransform=e.modelViewMatrix;const{rotationMatrix:r,position:a}=t.update(),l=o(),u=o();s(l,...mt.spotLights.green.position),s(u,...mt.spotLights.red.position);const d=t.getMatrix();c(u,u,d),c(l,l,d),this.spotLight.cambiarDireccionCon(r),this.lights.get("redLight").setPosition([u[0],u[1],u[2]]),this.lights.get("greenLight").setPosition([l[0],l[1],l[2]]),n.setFocusCapsula(a),!0===n.focusCamera.Capsula&&i.setFocus(a),i.setRotationMatrix(r),De(mt.capsulaTransform,mt.capsulaTransform,d),Re(mt.capsulaTransform,mt.capsulaTransform,Math.PI,[1,0,0])}else if("capsulaCola"===this.alias)Le(e.modelViewMatrix,mt.capsulaTransform,[0,0,.2]);else if("capsulaFuegoCola"===this.alias){const t=e.modelViewMatrix;Re(t,mt.capsulaTransform,-Math.PI/2,[0,0,1]),Le(t,t,[0,0,mt.curvaColav0x+.5+.2]),Re(t,t,-Math.PI/2,[1,0,0])}else if("capsulaFuegoCuerpo"===this.alias){const t=e.modelViewMatrix;Le(t,mt.capsulaTransform,[0,0,mt.CilAaltura+mt.FuegoCuerpoAltura]),Re(t,t,-Math.PI/2,[1,0,0])}else if("redLight"===this.alias){const t=e.modelViewMatrix;Le(t,mt.capsulaTransform,mt.spotLights.red.translateFactor),ke(t,t,mt.spotLights.scaleFactor)}else if("greenLight"===this.alias){const t=e.modelViewMatrix;Le(t,mt.capsulaTransform,mt.spotLights.green.translateFactor),ke(t,t,mt.spotLights.scaleFactor)}}esfera(){const{transforms:e}=this;"esfera"===this.alias&&(bt.esferaTransform=e.modelViewMatrix,Le(bt.esferaTransform,gt.naveTransform,[0,0,-bt.posRelativaALaNave]))}bloques(){const{bloque:e,transforms:t}=this,n=e.dameElTipoDeBloqueActual(),i=this.parametrosBloques[n];if("bloque"===this.alias){ht.bloqueTransform=t.modelViewMatrix;const e=(22.5+90*ht.posicionBloque)*Math.PI/i.anguloPosicion;Re(ht.bloqueTransform,pt.pastillaTransform,e,[0,1,0]),Le(ht.bloqueTransform,ht.bloqueTransform,[0,ht.centrarElBloque,0]),Re(ht.bloqueTransform,ht.bloqueTransform,Math.PI/2,[1,0,0]),ht.posicionBloque++}}modulosVioleta(){const{transforms:e}=this;"moduloVioletaPS"===this.alias?Le(e.modelViewMatrix,gt.naveTransform,[0,0,0]):"moduloVioletaAnillo"===this.alias&&Le(e.modelViewMatrix,gt.naveTransform,[0,0,-ht.distanciaModuloVioletaYNave])}nucleoDelPanelSolar(){const{transforms:e}=this,t=d.profundidadModuloVioleta+d.CilindroNucleoPS.altura;"nucleoPS"===this.alias&&(ft.nucleoPSTransform=e.modelViewMatrix,Le(ft.nucleoPSTransform,gt.naveTransform,[0,0,t]),Re(ft.nucleoPSTransform,ft.nucleoPSTransform,Math.PI/2,[1,0,0]))}panelesSolares(){const{transforms:e}=this;"tuboPrincipal"===this.alias?(vt.tuboTransform=e.modelViewMatrix,Le(vt.tuboTransform,ft.nucleoPSTransform,[0,vt.distanciaConElNucleo,0])):"tapaPrincipal"===this.alias?Le(e.modelViewMatrix,vt.tuboTransform,[0,d.panelSolar.tuboPrincipal.altura,0]):"tuboSecundario"===this.alias?(vt.tuboSecundarioTransform=e.modelViewMatrix,Le(vt.tuboSecundarioTransform,vt.tuboTransform,[d.panelSolar.tuboSecundario.altura/2,vt.distanciaRelativaConElTuboPrincipal,0]),Ne(vt.tuboSecundarioTransform,vt.tuboSecundarioTransform,Math.PI/2),vt.distanciaRelativaConElTuboPrincipal+=d.panelSolar.distanciaEntreTubosSecundarios):"panelSolar1"!==this.alias&&"panelSolar2"!==this.alias||(vt.panelTransform=e.modelViewMatrix,"panelSolar1"===this.alias?Le(vt.panelTransform,vt.tuboSecundarioTransform,this.panelSolar.posicion1):Le(vt.panelTransform,vt.tuboSecundarioTransform,this.panelSolar.posicion2),Oe(vt.panelTransform,vt.panelTransform,-Math.PI/2),Ne(vt.panelTransform,vt.panelTransform,2*Math.PI*this.panelSolar.anguloRotacion/360),Le(vt.panelTransform,vt.panelTransform,[0,-d.panelSolar.tuboSecundario.radio,0]))}nucleoDelAnillo(){const{transforms:e}=this;"nucleoAnillo"===this.alias&&(ft.nucleoAnilloTransform=e.modelViewMatrix,Le(ft.nucleoAnilloTransform,gt.naveTransform,[0,0,-ht.distanciaNucleoDelAnilloYNave]),Re(ft.nucleoAnilloTransform,ft.nucleoAnilloTransform,Math.PI/2,[1,0,0]))}animarAnillo(e){this.posicionAnillo+=e}anillo(){const{transforms:e,posicionAnillo:t,animacion:n}=this;if("pastillaCuerpo"===this.alias){pt.pastillaTransform=e.modelViewMatrix;const i=t/this.paramAnillo.factorDeVelocidad;Re(pt.pastillaTransform,ft.nucleoAnilloTransform,i,[0,1,0]),Le(pt.pastillaTransform,pt.pastillaTransform,[0,this.paramAnillo.pastillaEnElMedio,0]),this.panelSolar.animar?n.empezarEn(i,this.panelSolar):n.limpiarElPool()}else if("torus"===this.alias)pt.torusTransform=e.modelViewMatrix,Le(pt.torusTransform,pt.pastillaTransform,[0,d.pastillas.cuerpo.altura/2,0]),Re(pt.torusTransform,pt.torusTransform,Math.PI/2,[1,0,0]);else if("anillo_tuboH1"===this.alias)Le(e.modelViewMatrix,pt.torusTransform,[-d.anillo.distanciaEntreTubos,-d.anillo.tubo.altura/2,0]);else if("anillo_tuboH2"===this.alias)Le(e.modelViewMatrix,pt.torusTransform,[d.anillo.distanciaEntreTubos,-d.anillo.tubo.altura/2,0]);else if("anillo_tuboV1"===this.alias){const t=e.modelViewMatrix;Le(t,pt.torusTransform,[d.anillo.tubo.altura/2,d.anillo.distanciaEntreTubos,0]),Re(t,t,Math.PI/2,[0,0,1])}else if("anillo_tuboV2"===this.alias){const t=e.modelViewMatrix;Le(t,pt.torusTransform,[d.anillo.tubo.altura/2,-d.anillo.distanciaEntreTubos,0]),Re(t,t,Math.PI/2,[0,0,1])}else if("anillo_tuboInterior"===this.alias){const t=e.modelViewMatrix;pt.desplazamientoTuboInterior<d.anillo.tubo.altura?Le(t,pt.torusTransform,[0,pt.distanciaTubosInteriores-pt.desplazamientoTuboInterior,0]):Le(t,pt.torusTransform,[pt.factorDesplazamientoEntreTubosInteriores*pt.distanciaTubosInteriores-pt.desplazamientoTuboInterior,0,0]),Re(t,t,pt.sentidoTuboInterior*Math.PI/4,[0,0,1]),Le(t,t,[0,-d.anillo.tuboInterior.altura/2,0]),pt.sentidoTuboInterior*=-1,pt.desplazamientoTuboInterior+=2*d.anillo.distanciaEntreTubos}}luna(){const{transforms:e,mundo:t,controles:n,camera:i}=this;if("luna"===this.alias){const o=e.modelViewMatrix,r=[t.luna.x,t.luna.y,t.luna.z];n.setFocusLuna(r),!0===n.focusCamera.Luna&&i.setFocus(r);const a=this.posicionAnillo/20;Le(o,o,r),Re(o,o,a,[0,1,0]),Oe(o,o,t.luna.rx),Ne(o,o,t.luna.ry),Ie(o,o,t.luna.rz)}}tierra(){const{transforms:e,mundo:t,camera:n,controles:i}=this;if("tierra"===this.alias){const o=e.modelViewMatrix,r=[t.tierra.x,t.tierra.y,t.tierra.z];i.setFocusTierra(r),!0===i.focusCamera.Tierra&&n.setFocus(r);const a=this.posicionAnillo/50;Le(o,o,r),Re(o,o,a,[0,1,0]),Oe(o,o,t.tierra.rx),Ne(o,o,t.tierra.ry),Ie(o,o,t.tierra.rz)}}tierraLunaEnElMundo(e){this.mundo=this.tierraLunaTransform[e]}fuegoColaCapsula(){const{fuegoColaVars:e,droneCam:t}=this,n=t.getCamState(),i=t.getDeltaTraslacion(),o={x:0,y:0};let r;const a=Math.abs(n.xVel),s=Math.abs(n.yVel),l=Math.abs(n.zVel);return o.x=-n.xVel*(20-20*n.zVel*.5/i)/i,o.y=n.yVel*(20-20*n.zVel*.5/i)/i,a>s&&a>l?(r=Math.abs(n.xVel),n.zVel.toFixed(2)<0&&(r+=1.5*n.zVel,r<.01&&(r=n.zVel))):s>a&&s>l?(r=Math.abs(n.yVel),n.zVel.toFixed(2)<0&&(r+=1.5*n.zVel,r<.01&&(r=n.zVel))):l>a&&l>s&&(r=n.zVel),r<0&&(o.x=-o.x,o.y=-o.y),e[3]=r/5,o}}class _t{constructor(e){this.id=e,this.position=[0,0,0],this.ambient=[0,0,0,0],this.diffuse=[0,0,0,0],this.specular=[0,0,0,0]}setDirection(e){this.direction=e.slice(0)}setPosition(e){this.position=e.slice(0)}setDiffuse(e){this.diffuse=e.slice(0)}setAmbient(e){this.ambient=e.slice(0)}setSpecular(e){this.specular=e.slice(0)}setProperty(e,t){this[e]=t}}class xt{constructor(){this.list=[]}add(e){e instanceof _t?this.list.push(e):console.error("The parameter is not a light")}getArray(e){return this.list.reduce(((t,n)=>t.concat(n[e])),[])}get(e){return"string"==typeof e?this.list.find((t=>t.id===e)):this.list[e]}}class Ct{constructor(e,t){this.lights=e,this.stack=[],this.originalDirection={vector:[0,0,0],azimuth:0,elevation:0},this.umbralDeDireccion=30,this.luzSpotLightEncendida=!0,this.umbralAnguloDeApertura=40,this.anguloDeApertura=t}cambiarAnguloDeApertura(e){this.anguloDeApertura+=e,this.anguloDeApertura<0&&(this.anguloDeApertura=0),this.anguloDeApertura>this.umbralAnguloDeApertura&&(this.anguloDeApertura=this.umbralAnguloDeApertura)}activarLuces(){this.luzSpotLightEncendida=!0}lucesBlancas(){const e=mt.spotLights.blanca.diffuse;this.lights.get("redLight").setDiffuse(e),this.lights.get("greenLight").setDiffuse(e)}lucesRG(){const e=mt.spotLights.green.diffuse,t=mt.spotLights.red.diffuse;this.lights.get("redLight").setDiffuse(t),this.lights.get("greenLight").setDiffuse(e)}apagarLuces(){this.luzSpotLightEncendida=!1}validarAngulos(){return(this.azimuth<0||this.azimuth>360)&&(this.azimuth=this.azimuth%360),(this.elevation<0||this.elevation>360)&&(this.elevation=this.elevation%360),{azimuth:this.azimuth,elevation:this.elevation}}azimuthElevationToVector(){this.validarAngulos();const{azimuth:e,elevation:t}=this,n=e*Math.PI/180,i=t*Math.PI/180,o=Math.cos(i)*Math.cos(n),r=Math.cos(i)*Math.sin(n),a=Math.sin(i);this.vector=[o,a,r]}printNewVector(){console.clear(),console.log(`${this.azimuth.toFixed(1)} azimuth, ${this.elevation.toFixed(1)} elevation`),console.log(`-> ${this.vector[0].toFixed(2)}, ${this.vector[1].toFixed(2)}, ${this.vector[2].toFixed(2)}`)}cambiarAzimuth(e){this.azimuth+=e,Math.abs(this.azimuth+90)>this.umbralDeDireccion?this.azimuth-=e:this.azimuthElevationToVector()}cambiarElevation(e){this.elevation+=e,Math.abs(this.elevation)>this.umbralDeDireccion?this.elevation-=e:this.azimuthElevationToVector()}actualizarEnLaEscena(){const{vector:e}=this;this.lights.get("redLight").setDirection(e),this.lights.get("greenLight").setDirection(e),this.pop()}cambiarDireccionCon(e){this.push(),c(this.vector,this.vector,e),this.actualizarEnLaEscena()}push(){const e=this.vector.slice(0);this.stack.push(e)}pop(){return this.stack.length?this.vector=this.stack.pop():null}esteEsElLightsArray(e){this.lightArray=e,this.lightArray[6]=this.lightArray[3],this.lightArray[7]=this.lightArray[4],this.lightArray[8]=this.lightArray[5],this.vector=[this.lightArray[3],this.lightArray[4],this.lightArray[5]],this.originalDirection.vector=this.vector.slice(0),this.calculateAzimuthElevation()}calculateAzimuthElevation(){this.azimuth=180*Math.atan2(this.vector[2],this.vector[0])/Math.PI,this.elevation=180*Math.atan2(this.vector[1],Math.sqrt(this.vector[0]*this.vector[0]+this.vector[2]*this.vector[2]))/Math.PI;const{azimuth:e,elevation:t}=this.validarAngulos();this.originalDirection.azimuth=e,this.originalDirection.elevation=t}setOriginalDirectionVector(){this.pop(),this.vector=this.originalDirection.vector.slice(0),this.elevation=this.originalDirection.elevation,this.azimuth=this.originalDirection.azimuth}}class Tt{constructor(e,t){this.gl=e,this.glTexture=e.createTexture(),this.image=new Image,this.image.onload=()=>this.handleLoadedTexture(),t&&this.setImage(t)}setImage(e){this.image.src=e}handleLoadedTexture(){const{gl:e,image:t,glTexture:n}=this;e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)}}const Et=n.p+"assets/images/8ab40f718b980383b31344b595247259.jpg",wt=n.p+"assets/images/d13c703d8d81a74b76513d3b148c5b90.jpg",At=n.p+"assets/images/37793c358f680d148683b61b4dc7ec56.jpg",St=n.p+"assets/images/2c72bf10f998ffe1383ddec512b325e6.jpg",Mt=n.p+"assets/images/0c7b3762b566f9203236c0ded51cdf43.jpg",Pt=n.p+"assets/images/85995578057a6749eeb17da378697d65.jpg",Dt=n.p+"assets/images/4583b65f3a700395e74f85efe112532b.jpg",Lt=n.p+"assets/images/9cdfa8ba7c088ad3893c8359395c4990.jpg",kt=n.p+"assets/images/1b453aecde6ee844a942847e24d2412f.jpg",Rt=n.p+"assets/images/56b01432ebd754e8564167279da412a0.jpg",Ot=n.p+"assets/images/3dd880c5aab006b6c425c1e9110cefc3.jpg",It=n.p+"assets/images/822da2e7af7bc38f4aae43b420ba2641.jpg",Nt=n.p+"assets/images/15e96339007f60800ffbdee8d6d20236.jpg",Vt=n.p+"assets/images/ca4a3f820e104ddd582c623a187244be.jpg",jt=n.p+"assets/images/bd83c313aa8e056443121a8c37f0224b.jpg",Bt=n.p+"assets/images/722021527eb5e395acce71670983c5c5.jpg",zt=n.p+"assets/images/bd6e368a42baffa99d8e2057e2e2ffda.jpg",Ft=n.p+"assets/images/78496f709b4e1900407b7e6c56dafc30.jpg",Ht=n.p+"assets/images/520f922a9852bac2d8e88eabfc388f39.jpg",Ut=n.p+"assets/images/61a208320e9bd89095a33e81d3d64e68.jpg",qt=n.p+"assets/images/9e97e391b8a6b0b706695c7241046a65.jpg",Gt=n.p+"assets/images/2bbc17554c912ddddfd1d89ae97929b0.jpg",Xt=n.p+"assets/images/df4df2a1da4e43620b1ecd224f6b88ea.jpg",Yt=n.p+"assets/images/e1c4cde6566fba6859cd18f1e756526c.jpg",Wt=n.p+"assets/images/b3e4e246180cf4fc4db4ff79a2ac9503.jpg",$t=n.p+"assets/images/6320b427e7b1d15c0b6aac87fbcca862.jpg",Kt=n.p+"assets/images/822082929ee02b542afc1d99af01fd82.jpg";class Qt{constructor(e){this.gl=e,this.textureMap={},this.cargarTexturas()}cargarTexturas(){const{gl:e}=this;this.textureMap.UV={diffuse:new Tt(e,Et),normal:new Tt(e,wt)},this.textureMap.bloque={diffuse:new Tt(e,Pt),normal:new Tt(e,Dt),specular:new Tt(e,Lt)},this.textureMap.moduloVioleta={diffuse:new Tt(e,At),normal:new Tt(e,St),specular:new Tt(e,Mt)},this.textureMap.tierra={diffuse:new Tt(e,kt),normal:new Tt(e,Rt),specular:new Tt(e,Ot),clouds:new Tt(e,It)},this.textureMap.luna={diffuse:new Tt(e,Nt),normal:new Tt(e,Vt),specular:new Tt(e,jt)},this.textureMap.torus={diffuse:new Tt(e,Bt),normal:new Tt(e,zt),specular:new Tt(e,Ft)},this.textureMap.capsula={diffuse:new Tt(e,Ht),normal:new Tt(e,Ut),specular:new Tt(e,qt)},this.textureMap.esfera={diffuse:new Tt(e,Gt),normal:new Tt(e,Xt),specular:new Tt(e,Yt)},this.textureMap.panelSolar={diffuse:new Tt(e,Wt),normal:new Tt(e,$t),specular:new Tt(e,Kt)}}}const Jt=JSON.parse('{"diffuse":[1,1,1,1],"vertices":[-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,-0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,0.5],"indices":[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23],"scalars":[1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,1,0,1,1,1,0,1,1,1,0,1,1,1,0,1],"textureCoords":[0,0,1,0,1,1,0,1,1,0,1,1,0,1,0,0,0,1,0,0,1,0,1,1,1,1,0,1,0,0,1,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1]}'),Zt=JSON.parse('{"vertices":[0.17101,0,0.469846,0.13835,0.100517,0.469846,0,0,0.5,0.052845,0.16264,0.469846,-0.052845,0.16264,0.469846,-0.13835,0.100517,0.469846,-0.17101,-1.49502e-8,0.469846,-0.13835,-0.100517,0.469846,-0.052845,-0.16264,0.469846,0.052845,-0.16264,0.469846,0.13835,-0.100517,0.469846,0.17101,0,-0.469846,0,0,-0.5,0.13835,0.100517,-0.469846,0.052845,0.16264,-0.469846,-0.052845,0.16264,-0.469846,-0.13835,0.100517,-0.469846,-0.17101,-1.49502e-8,-0.469846,-0.13835,-0.100517,-0.469846,-0.052845,-0.16264,-0.469846,0.052845,-0.16264,-0.469846,0.13835,-0.100517,-0.469846,0.321394,0,0.383022,0.260013,0.188911,0.383022,0.433013,0,0.25,0.350315,0.254518,0.25,0.492404,0,0.0868241,0.398363,0.289428,0.0868241,0.492404,0,-0.0868241,0.398363,0.289428,-0.0868241,0.433013,0,-0.25,0.350315,0.254518,-0.25,0.321394,0,-0.383022,0.260013,0.188911,-0.383022,0.0993161,0.305664,0.383022,0.133808,0.41182,0.25,0.152161,0.468304,0.0868241,0.152161,0.468304,-0.0868241,0.133808,0.41182,-0.25,0.0993161,0.305664,-0.383022,-0.0993162,0.305664,0.383022,-0.133808,0.41182,0.25,-0.152161,0.468304,0.0868241,-0.152161,0.468304,-0.0868241,-0.133808,0.41182,-0.25,-0.0993162,0.305664,-0.383022,-0.260013,0.188911,0.383022,-0.350315,0.254518,0.25,-0.398363,0.289428,0.0868241,-0.398363,0.289428,-0.0868241,-0.350315,0.254518,-0.25,-0.260013,0.18891,-0.383022,-0.321394,-2.80971e-8,0.383022,-0.433013,-3.78552e-8,0.25,-0.492404,-4.30473e-8,0.0868241,-0.492404,-4.30473e-8,-0.0868241,-0.433013,-3.78552e-8,-0.25,-0.321394,-2.80971e-8,-0.383022,-0.260013,-0.188911,0.383022,-0.350315,-0.254519,0.25,-0.398363,-0.289428,0.0868241,-0.398363,-0.289428,-0.0868241,-0.350315,-0.254519,-0.25,-0.260013,-0.188911,-0.383022,-0.0993161,-0.305664,0.383022,-0.133808,-0.41182,0.25,-0.152161,-0.468304,0.0868241,-0.152161,-0.468304,-0.0868241,-0.133808,-0.41182,-0.25,-0.0993161,-0.305664,-0.383022,0.0993162,-0.305664,0.383022,0.133808,-0.41182,0.25,0.152161,-0.468304,0.0868241,0.152161,-0.468304,-0.0868241,0.133808,-0.41182,-0.25,0.0993162,-0.305664,-0.383022,0.260013,-0.18891,0.383022,0.350315,-0.254518,0.25,0.398363,-0.289428,0.0868241,0.398363,-0.289428,-0.0868241,0.350315,-0.254518,-0.25,0.260013,-0.18891,-0.383022],"indices":[0,1,2,1,3,2,3,4,2,4,5,2,5,6,2,6,7,2,7,8,2,8,9,2,9,10,2,10,0,2,11,12,13,13,12,14,14,12,15,15,12,16,16,12,17,17,12,18,18,12,19,19,12,20,20,12,21,21,12,11,0,22,23,0,23,1,22,24,25,22,25,23,24,26,27,24,27,25,26,28,29,26,29,27,28,30,31,28,31,29,30,32,33,30,33,31,32,11,13,32,13,33,1,23,34,1,34,3,23,25,35,23,35,34,25,27,36,25,36,35,27,29,37,27,37,36,29,31,38,29,38,37,31,33,39,31,39,38,33,13,14,33,14,39,3,34,40,3,40,4,34,35,41,34,41,40,35,36,42,35,42,41,36,37,43,36,43,42,37,38,44,37,44,43,38,39,45,38,45,44,39,14,15,39,15,45,4,40,46,4,46,5,40,41,47,40,47,46,41,42,48,41,48,47,42,43,49,42,49,48,43,44,50,43,50,49,44,45,51,44,51,50,45,15,16,45,16,51,5,46,52,5,52,6,46,47,53,46,53,52,47,48,54,47,54,53,48,49,55,48,55,54,49,50,56,49,56,55,50,51,57,50,57,56,51,16,17,51,17,57,6,52,58,6,58,7,52,53,59,52,59,58,53,54,60,53,60,59,54,55,61,54,61,60,55,56,62,55,62,61,56,57,63,56,63,62,57,17,18,57,18,63,7,58,64,7,64,8,58,59,65,58,65,64,59,60,66,59,66,65,60,61,67,60,67,66,61,62,68,61,68,67,62,63,69,62,69,68,63,18,19,63,19,69,8,64,70,8,70,9,64,65,71,64,71,70,65,66,72,65,72,71,66,67,73,66,73,72,67,68,74,67,74,73,68,69,75,68,75,74,69,19,20,69,20,75,9,70,76,9,76,10,70,71,77,70,77,76,71,72,78,71,78,77,72,73,79,72,79,78,73,74,80,73,80,79,74,75,81,74,81,80,75,20,21,75,21,81,10,76,22,10,22,0,76,77,24,76,24,22,77,78,26,77,26,24,78,79,28,78,28,26,79,80,30,79,30,28,80,81,32,80,32,30,81,21,11,81,11,32],"ambient":[1,1,1,1],"diffuse":[1,1,1,1],"specular":[1,1,1,1]}');class en{constructor(e){this.gl=e,this.crearTextura()}crearTextura(){const e=this.gl;this.cubeTexture=e.createTexture(),e.bindTexture(e.TEXTURE_CUBE_MAP,this.cubeTexture),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_R,e.CLAMP_TO_EDGE),e.bindTexture(e.TEXTURE_CUBE_MAP,null)}cargarTexturasCubemap(e){const{gl:t}=this;switch(e){case 0:n.e(985).then(n.bind(n,985)).then((e=>{this.loadCubemapFace(t.TEXTURE_CUBE_MAP_POSITIVE_X,e.default)})),n.e(122).then(n.bind(n,122)).then((e=>{this.loadCubemapFace(t.TEXTURE_CUBE_MAP_NEGATIVE_X,e.default)})),n.e(840).then(n.bind(n,840)).then((e=>{this.loadCubemapFace(t.TEXTURE_CUBE_MAP_POSITIVE_Y,e.default)})),n.e(634).then(n.bind(n,634)).then((e=>{this.loadCubemapFace(t.TEXTURE_CUBE_MAP_NEGATIVE_Y,e.default)})),n.e(660).then(n.bind(n,660)).then((e=>{this.loadCubemapFace(t.TEXTURE_CUBE_MAP_POSITIVE_Z,e.default)})),n.e(943).then(n.bind(n,943)).then((e=>{this.loadCubemapFace(t.TEXTURE_CUBE_MAP_NEGATIVE_Z,e.default)}));break;case 1:n.e(670).then(n.bind(n,670)).then((e=>{this.loadCubemapFace(t.TEXTURE_CUBE_MAP_POSITIVE_X,e.default)})),n.e(548).then(n.bind(n,548)).then((e=>{this.loadCubemapFace(t.TEXTURE_CUBE_MAP_NEGATIVE_X,e.default)})),n.e(895).then(n.bind(n,895)).then((e=>{this.loadCubemapFace(t.TEXTURE_CUBE_MAP_POSITIVE_Y,e.default)})),n.e(172).then(n.bind(n,172)).then((e=>{this.loadCubemapFace(t.TEXTURE_CUBE_MAP_NEGATIVE_Y,e.default)})),n.e(130).then(n.bind(n,130)).then((e=>{this.loadCubemapFace(t.TEXTURE_CUBE_MAP_POSITIVE_Z,e.default)})),n.e(724).then(n.bind(n,724)).then((e=>{this.loadCubemapFace(t.TEXTURE_CUBE_MAP_NEGATIVE_Z,e.default)}));break;case 2:n.e(103).then(n.bind(n,103)).then((e=>{this.loadCubemapFace(t.TEXTURE_CUBE_MAP_POSITIVE_X,e.default)})),n.e(67).then(n.bind(n,67)).then((e=>{this.loadCubemapFace(t.TEXTURE_CUBE_MAP_NEGATIVE_X,e.default)})),n.e(804).then(n.bind(n,804)).then((e=>{this.loadCubemapFace(t.TEXTURE_CUBE_MAP_POSITIVE_Y,e.default)})),n.e(624).then(n.bind(n,624)).then((e=>{this.loadCubemapFace(t.TEXTURE_CUBE_MAP_NEGATIVE_Y,e.default)})),n.e(907).then(n.bind(n,907)).then((e=>{this.loadCubemapFace(t.TEXTURE_CUBE_MAP_POSITIVE_Z,e.default)})),n.e(954).then(n.bind(n,954)).then((e=>{this.loadCubemapFace(t.TEXTURE_CUBE_MAP_NEGATIVE_Z,e.default)}))}}loadCubemapFace(e,t){const{gl:n,cubeTexture:i}=this,o=new Image;o.src=t,o.onload=()=>{n.bindTexture(n.TEXTURE_CUBE_MAP,i),n.texImage2D(e,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,o),n.bindTexture(n.TEXTURE_CUBE_MAP,null)}}}var tn=n(901),nn=n.n(tn);nn().options={closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-bottom-right",preventDuplicates:!1,preventOpenDuplicates:!0,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"2000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"slideDown",hideMethod:"fadeOut"};class on{constructor(){this.msg="<span style=\"color: black!important;font-size:100%;font-family:'Courier New',monospace \"><b>mensaje</b></span>",this.menuControlesTitulo="<span style=\"color: black!important;font-size:100%;font-family:'Courier New',monospace \"><b>mensaje</b></span></br>",this.menuControlesDescripcion="<span style=\"color: gold!important;font-size:100%;font-family:'Courier New',monospace \">mensaje</span></br>",this.crearTypes()}clear(){nn().clear()}crearTypes(){this.info=e=>{this.crearMensaje("info",e)},this.success=e=>{this.crearMensaje("success",e)},this.warning=e=>{let t;switch(e){case"BLOQUES_8":t="8 Bloques";break;case"BLOQUES_7":t="7 Bloques";break;case"BLOQUES_6":t="6 Bloques";break;case"BLOQUES_5":t="5 Bloques";break;case"BLOQUES_4":t="4 Bloques"}this.crearMensaje("warning",t)},this.error=(e,t="",n={})=>{this.crearMensaje("error",e,t,n)}}crearMensaje(e,t,n="",i={}){nn()[e](this.msg.replace("mensaje",t),n,i)}menuControlesGral(){nn().error(this.menuControlesTitulo.replace("mensaje","Cmara:")+this.menuControlesDescripcion.replace("mensaje","---\x3eclickIzq + mouse")+this.menuControlesTitulo.replace("mensaje","Zoom in/out:")+this.menuControlesDescripcion.replace("mensaje","---\x3emouseWheel")+this.menuControlesDescripcion.replace("mensaje","---\x3ez/x")+this.menuControlesTitulo.replace("mensaje","Cantidad de Bloques:")+this.menuControlesDescripcion.replace("mensaje","---\x3eB")+this.menuControlesTitulo.replace("mensaje","Estacin Espacial:")+this.menuControlesDescripcion.replace("mensaje","---\x3e1")+this.menuControlesTitulo.replace("mensaje","Paneles Solares:")+this.menuControlesDescripcion.replace("mensaje","---\x3e2")+this.menuControlesTitulo.replace("mensaje","Cpsula:")+this.menuControlesDescripcion.replace("mensaje","---\x3e3")+this.menuControlesTitulo.replace("mensaje","Satlite Luna:")+this.menuControlesDescripcion.replace("mensaje","---\x3e4")+this.menuControlesTitulo.replace("mensaje","Planeta Tierra:")+this.menuControlesDescripcion.replace("mensaje","---\x3e5")+this.menuControlesTitulo.replace("mensaje","Controles")+this.menuControlesDescripcion.replace("mensaje","---\x3eH"),"",{closeButton:!0,timeOut:2e4,extendedTimeOut:1e3,preventDuplicates:!0,progressBar:!0})}menuControlesCapsula(){nn().error(this.menuControlesTitulo.replace("mensaje","Desplazamiento: &larr;&uarr;&darr;&rarr;")+this.menuControlesDescripcion.replace("mensaje","---\x3eAWSDQE")+this.menuControlesDescripcion.replace("mensaje","---\x3espaceBar")+this.menuControlesTitulo.replace("mensaje","Giro:")+this.menuControlesDescripcion.replace("mensaje","---\x3eJKLOIU")+this.menuControlesDescripcion.replace("mensaje","---\x3eshift + clickIzq + &nbsp;&nbsp;&nbsp;&nbsp;mouse")+this.menuControlesTitulo.replace("mensaje","Faros direccin:")+this.menuControlesDescripcion.replace("mensaje","---\x3emiddleClick + mouse")+this.menuControlesDescripcion.replace("mensaje","---\x3eNumPad Keys")+this.menuControlesTitulo.replace("mensaje","Faros ngulo:")+this.menuControlesDescripcion.replace("mensaje","---\x3eshift + mouseWheel")+this.menuControlesTitulo.replace("mensaje","Faros centrar:")+this.menuControlesDescripcion.replace("mensaje","---\x3eC, NumPad5")+this.menuControlesTitulo.replace("mensaje","Faros turnar tipo:")+this.menuControlesDescripcion.replace("mensaje","---\x3eF")+this.menuControlesTitulo.replace("mensaje","Controles Cpsula")+this.menuControlesDescripcion.replace("mensaje","---\x3eH"),"",{closeButton:!0,timeOut:9e4,extendedTimeOut:1e3,preventDuplicates:!0,progressBar:!0})}}let rn,an,sn,ln,un,cn,dn,hn,pn,fn,mn,gn,vn,bn,yn,_n,xn,Cn,Tn,En,wn,An,Sn,Mn,Pn,Dn,Ln=!0,kn=!1,Rn=!0,On=[],In=!0,Nn=Math.floor(3*Math.random());function Vn(){rn.viewport(0,0,rn.canvas.width,rn.canvas.height),rn.clear(rn.COLOR_BUFFER_BIT|rn.DEPTH_BUFFER_BIT),un.updatePerspective();try{an.traverse((e=>{if(!e.hidden){if(un.calculateModelView(),un.push(),cn.setAlias(e.alias),"cubeMap"===e.alias){const e=un.modelViewMatrix,t=4096;ke(e,e,[t,t,t]),Re(e,e,Math.PI,[1,0,0])}"floor"!==e.alias&&"axis"!==e.alias&&(e.wireframe=kn),"nave"===e.alias&&(gt.naveTransform=un.modelViewMatrix,mn=[0,0,0],gn=[0,0,15.5],pn.setFocus(mn,gn),!0===pn.focusCamera.Nave?ln.setFocus(mn):!0===pn.focusCamera.PanelesSolares&&ln.setFocus(gn)),cn.luna(),cn.tierra(),cn.nucleoDelPanelSolar(),cn.panelesSolares(),cn.nucleoDelAnillo(),cn.anillo(),cn.bloques(),cn.modulosVioleta(),cn.esfera(),cn.capsula(),un.setMatrixUniforms(),un.pop(),rn.uniform3fv(sn.uLightDirection,Cn.getArray("direction")),rn.uniform3fv(sn.uLightPosition,Cn.getArray("position")),rn.uniform4fv(sn.uLightDiffuse,Cn.getArray("diffuse")),rn.uniform1f(sn.uOuterCutOff,Tn.anguloDeApertura),rn.uniform1f(sn.uTime,cn.posicionAnillo),rn.uniformMatrix4fv(sn.uViewMatrix,!1,un.modelViewMatrix),un.calculateNormal(),rn.uniformMatrix4fv(sn.uNormalViewMatrix,!1,un.normalMatrix),function(e){if(rn.uniform1i(sn.uLuzSpotLightEncendida,Tn.luzSpotLightEncendida),rn.uniform1i(sn.uIsTheCubeMapShader,!1),rn.uniform1i(sn.uHasTexture,!1),rn.uniform1i(sn.uActivateEarthTextures,!1),rn.uniform1i(sn.uActivateSpecularTexture,!1),rn.uniform1i(sn.uColaCapsula,!1),rn.uniform1i(sn.uLightSource,!1),"capsulaCola"===e.alias){const e=cn.fuegoColaCapsula();rn.uniform1i(sn.uColaCapsula,!0),rn.uniform4fv(sn.uColaVars,cn.fuegoColaVars),rn.uniform2fv(sn.uAnguloColaCapsula,[e.x,e.y])}if("greenLight"!==e.alias&&"redLight"!==e.alias||("greenLight"===e.alias&&(e.diffuse=Cn.get("redLight").diffuse),"redLight"===e.alias&&(e.diffuse=Cn.get("greenLight").diffuse),Tn.luzSpotLightEncendida&&rn.uniform1i(sn.uLightSource,!0)),rn.uniform4fv(sn.uMaterialDiffuse,e.diffuse),rn.uniform4fv(sn.uMaterialSpecular,e.specular),rn.uniform4fv(sn.uMaterialAmbient,e.ambient),rn.uniform1i(sn.uWireframe,e.wireframe),rn.bindVertexArray(e.vao),rn.bindBuffer(rn.ELEMENT_ARRAY_BUFFER,e.ibo),"cubeMap"===e.alias)rn.uniform1i(sn.uIsTheCubeMapShader,!0),rn.activeTexture(rn.TEXTURE0),rn.bindTexture(rn.TEXTURE_CUBE_MAP,An.cubeTexture);else if(e.texture){rn.uniform1i(sn.uHasTexture,!0);const t=wn.textureMap[e.texture];rn.activeTexture(rn.TEXTURE1),rn.bindTexture(rn.TEXTURE_2D,t.diffuse.glTexture),rn.activeTexture(rn.TEXTURE2),rn.bindTexture(rn.TEXTURE_2D,t.normal.glTexture),"tierra"===e.alias&&(rn.uniform1i(sn.uActivateEarthTextures,!0),rn.activeTexture(rn.TEXTURE3),rn.bindTexture(rn.TEXTURE_2D,t.clouds.glTexture)),t.specular&&(rn.uniform1i(sn.uActivateSpecularTexture,Rn),rn.activeTexture(rn.TEXTURE4),rn.bindTexture(rn.TEXTURE_2D,t.specular.glTexture))}if(e.wireframe)"floor"===e.alias||"axis"===e.alias?rn.drawElements(rn.LINES,e.indices.length,rn.UNSIGNED_SHORT,0):(rn.uniform4fv(sn.uMaterialDiffuse,qe.RojoMetalico),rn.drawElements(rn.LINE_STRIP,e.indices.length,rn.UNSIGNED_SHORT,0));else{const t=Ln?rn.TRIANGLE_STRIP:rn.TRIANGLES;"cubeMap"===e.alias?rn.drawElements(rn.TRIANGLES,e.indices.length,rn.UNSIGNED_SHORT,0):rn.drawElements(t,e.indices.length,rn.UNSIGNED_SHORT,0)}rn.bindVertexArray(null),rn.bindBuffer(rn.ARRAY_BUFFER,null),rn.bindBuffer(rn.ELEMENT_ARRAY_BUFFER,null),rn.bindTexture(rn.TEXTURE_2D,null),rn.bindTexture(rn.TEXTURE_CUBE_MAP,null)}(e)}})),ht.posicionBloque=0,vt.distanciaRelativaConElTuboPrincipal=3.5,pt.sentidoTuboInterior=1,pt.desplazamientoTuboInterior=0}catch(e){console.error(e)}}function jn(){if(vn=(new Date).getTime()-bn,vn<30)return;let e=Math.floor(vn/30);for(;e>0;)cn.animarAnillo(.01),Vn(),e-=1;bn=(new Date).getTime()}Dn=30,function(){const e=_e.getCanvas("webgl-canvas");_e.autoResizeCanvas(e),rn=_e.getGLContext(e),rn.clearColor(.9,.9,.9,1),rn.clearDepth(100),rn.enable(rn.DEPTH_TEST),rn.depthFunc(rn.LEQUAL),sn=new xe(rn,"vertex-shader","fragment-shader"),sn.load(["aVertexPosition","aVertexNormal","aVertexTangent","aVertexColor","aVertexTextureCoords"],["uProjectionMatrix","uViewMatrix","uModelViewMatrix","uNormalMatrix","uMaterialDiffuse","uMaterialAmbient","uMaterialSpecular","uLightAmbient","uLightDiffuse","uLightSpecular","uLightPosition","uLightDirection","uShininess","uWireframe","uAnguloColaCapsula","uHasTexture","uIsTheCubeMapShader","uSampler","uCloudSampler","uSpecularSampler","uActivateEarthTextures","uActivateSpecularTexture","uNormalSampler","uCubeSampler","uLightSource","uOuterCutOff","uLerpOuterCutOff","uLightRadius","uLightDecay","uMinLambertTerm","uLuzSolarEncendida","uLuzSpotLightEncendida","uTime","uColaCapsula","uColaVars","uNormalViewMatrix"]),an=new Ce(rn,sn),ln=new ze(ze.ORBITING_TYPE,70,0);const t=d.naveCamaraInitValues[Nn];ln.goTo(t.position,t.azimuth,t.elevation,[0,0,0]),Cn=new xt,Tn=new Ct(Cn,22);const n=d.capsulaCamaraInitValues[Nn].droneCameraControl;fn=new dt(n.position,n.rotationMatrix,ln,Tn),un=new nt(rn,sn,ln,e),dn=new et(d.anillo.radio,an),Mn=new on,pn=new tt(ln,e,fn,Tn,dn,Mn),cn=new yt(un,fn,pn,ln,dn,new ct(300,30),Cn,Tn)}(),function(){An=new en(rn),pn.setParamCamara(Nn),cn.tierraLunaEnElMundo(Nn),yn=_e.normalizeColor(qe.sunLightColor[Nn]);const e=mt.spotLights;On=[{id:"sunLight",name:"Luz solar",position:d.lightPosition[Nn],diffuse:yn,direction:d.lightPosition[Nn]},{id:"greenLight",name:"Green Light",position:e.green.position,diffuse:e.green.diffuse,direction:e.direction},{id:"redLight",name:"Red Light",position:e.red.position,diffuse:e.red.diffuse,direction:e.direction}],On.forEach((({id:e,position:t,diffuse:n,direction:i})=>{const o=new _t(e);o.setPosition(t),o.setDiffuse(n),o.setProperty("direction",i),Cn.add(o)})),Tn.esteEsElLightsArray(Cn.getArray("direction")),En=Tn.azimuth,Sn=Tn.elevation,_n=[.1,.1,.1,1],xn=[1,1,1,1],rn.uniform3fv(sn.uLightPosition,Cn.getArray("position")),rn.uniform3fv(sn.uLightDirection,Cn.getArray("direction")),rn.uniform4fv(sn.uLightDiffuse,Cn.getArray("diffuse")),rn.uniform1i(sn.uLuzSolarEncendida,!0),rn.uniform1i(sn.uLuzSpotLightEncendida,Tn.luzSpotLightEncendida),rn.uniform4fv(sn.uLightAmbient,_n),rn.uniform4fv(sn.uLightSpecular,xn),rn.uniform1f(sn.uShininess,230),rn.uniform1f(sn.uOuterCutOff,22),rn.uniform1f(sn.uLerpOuterCutOff,.75),rn.uniform1f(sn.uLightRadius,80),rn.uniform1f(sn.uLightDecay,.65),rn.uniform1f(sn.uMinLambertTerm,.1),An.cargarTexturasCubemap(Nn),wn=new Qt(rn),rn.uniform1i(sn.uCubeSampler,0),rn.uniform1i(sn.uSampler,1),rn.uniform1i(sn.uNormalSampler,2),rn.uniform1i(sn.uCloudSampler,3),rn.uniform1i(sn.uSpecularSampler,4)}(),an.add(new Ge(null,"nave")),function(){const e={filas:16,columnas:50},t=3,n=2,i=new Ge(null,"nucleoPS"),o=new Ye("nucleoPS_tubo",d.NucleoPS,e),r=new Xe("nucleoPS_cilindroSup",d.CilindroNucleoPS,e),a=new Xe("nucleoPS_cilindroInf",d.CilindroNucleoPS,e),s=new We("nucleoPS_tapaSup",d.CilindroNucleoPS.radioSuperior,e),l=new We("nucleoPS_tapaInf",d.CilindroNucleoPS.radioSuperior,e),u=d.CilindroNucleoPS.radioSuperior,c=d.CilindroNucleoPS.radioInferior-d.CilindroNucleoPS.radioSuperior,h=d.CilindroNucleoPS.altura,p=Math.sqrt(c*c+h*h),f=d.NucleoPS.altura;let m=u+p+f+p+u;m/=n;const g=[];g.push(0);const v=_e.crearVectorEntre(1,0,e.filas+1).slice(1);v.push(1);const b=[u/m,p/m,f/m,p/m,u/m],y=[];y.push(0),b.reduce((function(e,t){return y.push(e),e+t})),b.map((function(e,t){g.push(...v.map((n=>n*e+y[t])))})),g.pop();const _=_e.crearVectorEntre(0,t,e.columnas+1),x=[];for(let t=0;t<=e.filas;t++)x.push(4+2*(e.filas-1)+t);const C=[];for(let e=0;e<g.length;e++)for(let t=0;t<_.length;t++)x.includes(e)?C.push(1-_[t],g[e]):C.push(_[t],g[e]);const T=Se(Te());Re(T,T,Math.PI/2,[0,1,0]),Le(T,T,[0,d.NucleoPS.altura,0]);const E=Se(Te());Re(E,E,Math.PI/2,[0,1,0]);const w=Se(Te());Le(w,w,[0,d.NucleoPS.altura+d.CilindroNucleoPS.altura,0]);const A=Se(Te());Re(A,A,-Math.PI/2,[0,1,0]),Re(A,A,-Math.PI,[1,0,0]);const S=Se(Te());Re(S,S,Math.PI,[1,0,0]),Le(S,S,[0,d.CilindroNucleoPS.altura,0]);const M=Se(Te());Re(M,M,Math.PI,[1,0,0]);const P=Se(Te()),D=_e.nuevasCoordenadas(P,o,!0),L=_e.nuevasCoordenadas(T,r,!0),k=_e.nuevasCoordenadas(E,r,!0);L.normales=k.normales,L.tangentes=k.tangentes;const R=_e.nuevasCoordenadas(w,s),O=_e.nuevasCoordenadas(A,a),I=_e.nuevasCoordenadas(S,l,!0),N=_e.nuevasCoordenadas(M,l,!0);I.normales=N.normales,I.tangentes=N.tangentes;const V=[];s.indices.forEach((e=>{V.push(e)}));const j=[];r.indices.forEach((e=>{j.push(e+V[V.length-1]+1)}));const B=[];o.indices.forEach((e=>{B.push(e+j[j.length-1]+1)}));const z=[];a.indices.forEach((e=>{z.push(e+B[B.length-1]+1)}));const F=[];l.indices.forEach((e=>{F.push(e+z[z.length-1]+1)})),i.indices.push(...V,V[V.length-1],j[0],...j,j[j.length-1],B[0],...B,B[B.length-1],z[0],...z,z[z.length-1],F[0],...F),i.vertices.push(...R.vertices,...L.vertices,...D.vertices,...O.vertices,...I.vertices),i.normales.push(...s.normales,...L.normales,...D.normales,...O.normales,...I.normales),i.tangentes.push(...s.tangentes,...L.tangentes,...D.tangentes,...O.tangentes,...I.tangentes),i.textureCoords.push(...C),i.diffuse=qe.Textura.diffuse,i.ambient=qe.Textura.ambient,i.texture="moduloVioleta";const H=Object.assign({},i);H.alias="nucleoAnillo",an.add(i),an.add(H)}(),hn=new class{constructor(e){this.scene=e,this.panelesEnEscena=[],this.cantidadDeFilas=4,this.cambiarAlturaDelTuboPrincipal(),this.construirPanelSolar()}construirPanelSolar(){const e=new Ge(null,"panelSolar"),t=new $e("tapaSuperior",d.panelSolar.tapa,it),n=new $e("LadoA",d.panelSolar.lado,rt),i=new $e("LadoB",ot,at),o=new $e("LadoA1",d.panelSolar.lado,rt),r=new $e("LadoB1",ot,at),a=new $e("tapaInferior",d.panelSolar.tapa,it),s=Se(Te());Le(s,s,[0,d.panelSolar.lado.ancho,0]);const l=_e.calcularTanYBiTan(t);t.tangentes=l.tangentes;const u=_e.nuevasCoordenadas(s,t,!1);u.normales=t.normales,u.tangentes=t.tangentes;const c=Se(Te());Re(c,c,Math.PI,[1,0,0]);const h=_e.calcularTanYBiTan(a);a.tangentes=h.tangentes;const p=_e.nuevasCoordenadas(c,a,!1),f=Se(Te());Re(f,f,Math.PI/2,[0,0,1]),Re(f,f,Math.PI,[0,1,1]);const m=Se(Te());Le(m,m,[0,d.panelSolar.lado.ancho/2,d.panelSolar.tapa.largo/2]),De(m,m,f);const g=_e.calcularTanYBiTan(n);n.tangentes=g.tangentes;const v=_e.nuevasCoordenadas(f,n,!1),b=_e.nuevasCoordenadas(m,n,!1);b.normales=v.normales,b.tangentes=v.tangentes;const y=Se(Te());Re(y,y,Math.PI,[1,1,0]);const _=Se(Te());Le(_,_,[d.panelSolar.lado.largo/2,d.panelSolar.lado.ancho/2,0]),De(_,_,y);const x=_e.calcularTanYBiTan(i);i.tangentes=x.tangentes;const C=_e.nuevasCoordenadas(y,i,!1),T=_e.nuevasCoordenadas(_,i,!1);T.normales=C.normales,T.tangentes=C.tangentes;const E=Se(Te());Re(E,E,Math.PI/2,[1,0,0]),Re(E,E,-Math.PI,[1,0,1]);const w=Se(Te());Le(w,w,[0,d.panelSolar.lado.ancho/2,-d.panelSolar.tapa.largo/2]),De(w,w,E);const A=_e.calcularTanYBiTan(o);o.tangentes=A.tangentes;const S=_e.nuevasCoordenadas(E,o,!1),M=_e.nuevasCoordenadas(w,o,!1);M.normales=S.normales,M.tangentes=S.tangentes;const P=Se(Te());Re(P,P,-Math.PI,[0,0,1]),Re(P,P,-Math.PI,[1,1,0]);const D=Se(Te());Le(D,D,[-d.panelSolar.lado.largo/2,d.panelSolar.lado.ancho/2,0]),De(D,D,P);const L=_e.calcularTanYBiTan(r);r.tangentes=L.tangentes;const k=_e.nuevasCoordenadas(P,r,!1),R=_e.nuevasCoordenadas(D,r,!1);R.normales=k.normales,R.tangentes=k.tangentes;const O=_e.crearVectorEntre(4.5,0,it.filas+1),I=_e.crearVectorEntre(1,0,it.columnas+1),N=[];for(let e=0;e<O.length;e++)for(let t=0;t<I.length;t++)N.push(I[t],O[e]);u.textureCoords=N;const V=_e.crearVectorEntre(2,0,rt.filas+1),j=_e.crearVectorEntre(.5,0,rt.columnas+1),B=[];for(let e=0;e<V.length;e++)for(let t=0;t<j.length;t++)B.push(j[t],V[e]);b.textureCoords=B;const z=_e.crearVectorEntre(9,0,at.filas+1),F=_e.crearVectorEntre(.5,0,at.columnas+1),H=[];for(let e=0;e<z.length;e++)for(let t=0;t<F.length;t++)H.push(F[t],z[e]);T.textureCoords=H;const U=[];n.indices.forEach((e=>{U.push(e+t.indices[t.indices.length-1]+1)}));const q=[];i.indices.forEach((e=>{q.push(e+U[U.length-1]+1)}));const G=[];o.indices.forEach((e=>{G.push(e+q[q.length-1]+1)}));const X=[];r.indices.forEach((e=>{X.push(e+G[G.length-1]+1)}));const Y=[];a.indices.forEach((e=>{Y.push(e+X[X.length-1]+1)})),e.indices.push(...t.indices,t.indices[t.indices.length-1],U[0],...U,U[U.length-1],q[0],...q,q[q.length-1],G[0],...G,G[G.length-1],X[0],...X,X[X.length-1],Y[0],...Y),e.vertices.push(...u.vertices,...b.vertices,...T.vertices,...M.vertices,...R.vertices,...p.vertices),e.normales.push(...u.normales,...b.normales,...T.normales,...M.normales,...R.normales,...p.normales),e.textureCoords.push(...u.textureCoords,...b.textureCoords,...T.textureCoords,...b.textureCoords,...T.textureCoords,...u.textureCoords),e.tangentes.push(...u.tangentes,...b.tangentes,...T.tangentes,...M.tangentes,...R.tangentes,...p.tangentes),e.diffuse=qe.Textura.diffuse,e.ambient=qe.Textura.ambient,e.texture="panelSolar",this.panelSolar1=e,this.panelSolar1.alias="panelSolar1",this.panelSolar2=Object.assign({},e),this.panelSolar2.alias="panelSolar2",this.tapaPrincipal=new We("tapaPrincipal",d.panelSolar.tuboPrincipal.radio,ut),this.tapaPrincipal.diffuse=qe.Pastilla,this.tuboSecundario=new Ye("tuboSecundario",d.panelSolar.tuboSecundario,lt)}nuevosPanelesEnEscena(){this.scene.add(this.panelSolar1),this.scene.add(this.panelSolar2),this.panelesEnEscena.push(this.panelSolar1,this.panelSolar2)}removerPanelesSolares(){const{scene:e}=this;e.remove("tuboPrincipal"),e.remove("tapaPrincipal");for(let t=0;t<this.cantidadDeFilas;t++)e.remove("tuboSecundario"),this.removerParPaneles()}removerParPaneles(e=2){let t=0;if(this.panelesEnEscena.length<e)console.error("No hay mas paneles para remover");else for(;t<e;)this.scene.remove(this.panelesEnEscena.pop().alias),t++}cambiarAlturaDelTuboPrincipal(){d.panelSolar.tuboPrincipal.altura=this.cantidadDeFilas*d.panelSolar.distanciaEntreTubosSecundarios+2.15}cargarPanelesSolares(){const{scene:e}=this;this.tuboPrincipal=new Ye("tuboPrincipal",d.panelSolar.tuboPrincipal,st),e.add(this.tuboPrincipal),e.add(this.tapaPrincipal);for(let t=0;t<this.cantidadDeFilas;t++)e.add(this.tuboSecundario),this.nuevosPanelesEnEscena()}}(an),hn.cargarPanelesSolares(),function(){const e={filas:8,columnas:12},t={filas:80,columnas:12},n={radioSuperior:2.3,radioInferior:d.pastillas.cuerpo.radio,altura:.1},i={filas:8,columnas:55},o=new Ge(null,"pastillaCuerpo"),r=new Ye("pastillaCuerpo1",d.pastillas.cuerpo,i),a=new Xe("pastillaCilindroSup1",n,i),s=new We("pastillaTapaSup1",n.radioSuperior,i),l=new Xe("pastillaCilindroInf1",n,i),u=new We("pastillaTapaInf1",n.radioSuperior,i),c=Se(Te());Re(c,c,Math.PI/2,[0,1,0]);const h=Se(Te());Le(h,h,[0,d.pastillas.cuerpo.altura,0]),De(h,h,c);const p=_e.calcularTanYBiTan(a);a.tangentes=p.tangentes;const f=_e.nuevasCoordenadas(c,a,!1),m=_e.nuevasCoordenadas(h,a,!1);m.normales=f.normales,m.tangentes=f.tangentes;const g=Se(Te());Le(g,g,[0,pt.alturaTapaSuperior,0]);const v=_e.calcularTanYBiTan(s);s.tangentes=v.tangentes;const b=_e.nuevasCoordenadas(g,s,!1);b.normales=s.normales,b.tangentes=s.tangentes;const y=Se(Te());Re(y,y,-Math.PI,[1,0,0]),Re(y,y,Math.PI/2,[0,1,0]);const _=_e.calcularTanYBiTan(l);l.tangentes=_.tangentes;const x=_e.nuevasCoordenadas(y,l,!1),C=Se(Te());Re(C,C,-Math.PI,[1,0,0]);const T=Se(Te());Le(T,T,[0,-pt.alturaTapaInferior,0]),De(T,T,C);const E=_e.calcularTanYBiTan(u);u.tangentes=E.tangentes;const w=_e.nuevasCoordenadas(C,u,!1),A=_e.nuevasCoordenadas(T,u,!1);A.normales=w.normales,A.tangentes=w.tangentes;const S=[];a.indices.forEach((e=>{S.push(e+r.indices[r.indices.length-1]+1)}));const M=[];s.indices.forEach((e=>{M.push(e+S[S.length-1]+1)}));const P=[];l.indices.forEach((e=>{P.push(e+M[M.length-1]+1)}));const D=[];u.indices.forEach((e=>{D.push(e+P[P.length-1]+1)})),o.indices.push(...r.indices,r.indices[r.indices.length-1],S[0],...S,S[S.length-1],M[0],...M,M[M.length-1],P[0],...P,P[P.length-1],D[0],...D),o.vertices.push(...r.vertices,...m.vertices,...b.vertices,...x.vertices,...A.vertices),o.normales.push(...r.normales,...m.normales,...b.normales,...x.normales,...A.normales),o.textureCoords.push(...r.textureCoords,...a.textureCoords,...s.textureCoords,...l.textureCoords,...u.textureCoords),o.tangentes.push(...r.tangentes,...m.tangentes,...b.tangentes,...x.tangentes,...A.tangentes),o.diffuse=qe.Pastilla,an.add(o),function(){const e=30,t=200,n=t,i=e,o=d.anillo.radioInterior,r=_e.crearRecorridoCircular(o,1,i),a={puntos:r.puntos,normales:r.binormales.map((e=>[e[0],e[1]])),tangentes:r.tangentes.map((e=>[e[0],e[1]]))},s={filas:n,columnas:a.puntos.length-1},l=_e.crearRecorridoCircular(d.anillo.radio,1,s.filas),u=new Ze("torus",a,l,s,!0),c=[];let h=[];const p=[];for(let t=0;t<=e;t++)p.push(t/e);const f=[],m=t/8-1;f.push(0);for(let e=0;e<=m;e++)for(let t=1;t<=8;t++)f.push(t/8+e);h.push(...f);for(let e=0;e<h.length;e++)for(let t=0;t<p.length;t++)c.push(h[e],p[t]);u.textureCoords.length!==c.length&&console.error("Distintas cantidades de texturas"),u.textureCoords=c;const g=_e.calcularTanYBiTan(u);u.tangentes=g.tangentes,u.diffuse=qe.Textura.diffuse,u.ambient=qe.Textura.ambient,u.texture="torus",an.add(u)}(),an.add(new Ye("anillo_tuboH1",d.anillo.tubo,t)),an.add(new Ye("anillo_tuboH2",d.anillo.tubo,t)),an.add(new Ye("anillo_tuboV1",d.anillo.tubo,t)),an.add(new Ye("anillo_tuboV2",d.anillo.tubo,t));const L=2*Math.ceil(d.anillo.tubo.altura/(2*d.anillo.distanciaEntreTubos));for(let t=0;t<L;t++)an.add(new Ye("anillo_tuboInterior",d.anillo.tuboInterior,e))}(),dn.setType(et.BLOQUES_4),function(){const e=new He([0,0],[.666,0],[1.333,0],[d.profundidadModuloVioleta,0]),t=new Ke;t.iniciarEn(1,.5).CurvaBezierA(1,.8,.8,1,.5,1).lineaA(-.5,1).CurvaBezierA(-.8,1,-1,.8,-1,.5).lineaA(-1,-.5).CurvaBezierA(-1,-.8,-.8,-1,-.5,-1).lineaA(.5,-1).CurvaBezierA(.8,-1,1,-.8,1,-.5).lineaA(1,.5).curvaCerrada(!0);const n=_e.crearRecorrido(10,e),i=_e.crearForma(8,t);i.puntos.splice(9,0,[0,1]),i.puntos.splice(19,0,[-1,0]),i.puntos.splice(29,0,[0,-1]),i.puntos.splice(39,0,[1,0]),i.normales.splice(9,0,[0,1]),i.normales.splice(19,0,[-1,0]),i.normales.splice(29,0,[0,-1]),i.normales.splice(39,0,[1,0]),i.tangentes.splice(9,0,[-1,0]),i.tangentes.splice(19,0,[0,-1]),i.tangentes.splice(29,0,[1,0]),i.tangentes.splice(39,0,[0,1]);const o=[],r=[],a=[];for(let e=9;e<i.puntos.length-1;e++)o.push(i.puntos[e]),r.push(i.normales[e]),a.push(i.tangentes[e]);for(let e=0;e<9;e++)o.push(i.puntos[e]),r.push(i.normales[e]),a.push(i.tangentes[e]);o.push(o[0]),r.push(r[0]),a.push(a[0]),i.puntos=o,i.normales=r,i.tangentes=a;const s={filas:10,columnas:i.puntos.length-1};let l=0,u=[],c=[];for(let e=0;e<i.puntos.length-1;e++){const t=i.puntos[e],n=i.puntos[e+1],o=Math.sqrt(Math.pow(n[0]-t[0],2)+Math.pow(n[1]-t[1],2));u.push(o),l+=o}let h=0;c.push(0),u.map((e=>{h+=e,c.push(h/(l/4))}));const p=[];for(let e=0;e<s.columnas;e++)p.push(e/s.filas);const f=[];for(let e=0;e<p.length;e++)for(let t=0;t<c.length;t++)f.push(1-c[t],p[e]);const m=new Ze("moduloVioletaPS",i,n,s),g=_e.calcularTanYBiTan(m);m.tangentes=g.tangentes,m.textureCoords=f,m.diffuse=qe.Textura.diffuse,m.ambient=qe.Textura.ambient,m.texture="moduloVioleta";const v=Object.assign({},m);v.alias="moduloVioletaAnillo",an.add(m),an.add(v)}(),function(){const e=bt.radio,t=_e.crearRecorridoCircular(e,2/8,20),n=bt.angulo,i={puntos:t.puntos.map((e=>[e[0]*Math.cos(n)-e[1]*Math.sin(n),e[0]*Math.sin(n)+e[1]*Math.cos(n)])),normales:t.binormales.map((e=>[e[0]*Math.cos(n)-e[1]*Math.sin(n),e[0]*Math.sin(n)+e[1]*Math.cos(n)])),tangentes:t.tangentes.map((e=>[e[0]*Math.cos(n)-e[1]*Math.sin(n),e[0]*Math.sin(n)+e[1]*Math.cos(n)]))},o=i.puntos.length-1,r={filas:50,columnas:o},a=_e.crearRecorridoCircular(0,1,r.filas),s=new Ge(null,"esfera"),l=new Ze("esfera_cuerpo",i,a,r,!0),u=new We("esfera_TapaAtras",e*Math.sin(n),{filas:1,columnas:50}),c=new We("esfera_TapaAdelante",e*Math.sin(n),{filas:1,columnas:50}),d=Se(Te());Re(d,d,Math.PI/2,[1,0,0]);const h=Se(Te());Le(h,h,[0,0,bt.radio*Math.cos(bt.angulo)]),De(h,h,d);const p=_e.calcularTanYBiTan(c);c.tangentes=p.tangentes;const f=_e.nuevasCoordenadas(d,c,!1),m=_e.nuevasCoordenadas(h,c,!1);m.normales=f.normales,m.tangentes=f.tangentes;const g=Se(Te());Re(g,g,-Math.PI/2,[1,0,0]);const v=Se(Te());Le(v,v,[0,0,-bt.radio*Math.cos(bt.angulo)]),De(v,v,g);const b=_e.calcularTanYBiTan(u);u.tangentes=b.tangentes;const y=_e.nuevasCoordenadas(g,u,!0),_=_e.nuevasCoordenadas(v,u,!0);_.normales=y.normales,_.tangentes=y.tangentes;const{columna1:x,_:C}=_e.I2(c.textureCoords,"noImprimir"),T=_e.crearVectorEntre(3,0,Math.floor(x.length/2)),E=[];E.push(0,.1);const w=[];for(let e=0;e<E.length;e++)for(let t=0;t<T.length;t++)w.push(1-T[t],E[e]);const A=[],S=[];A.push(.9,1.3);for(let e=0;e<A.length;e++)for(let t=0;t<T.length;t++)S.push(1-T[t],A[e]);const M=[],P=_e.crearVectorEntre(.9,.1,o+1);for(let e=0;e<T.length;e++)for(let t=0;t<P.length;t++)M.push(T[e],P[t]);const D=[],L=[];l.indices.forEach((e=>{D.push(e+c.indices[c.indices.length-1]+1)})),u.indices.forEach((e=>{L.push(e+D[D.length-1]+1)})),s.indices.push(...c.indices,61,62,...D,712,713,...L),s.vertices.push(...m.vertices,...l.vertices,..._.vertices),s.normales.push(...m.normales,...l.normales,..._.normales),s.textureCoords.push(...w,...M,...S);const k=_e.calcularTanYBiTan(l);s.tangentes.push(...m.tangentes,...k.tangentes,..._.tangentes),s.diffuse=qe.Textura.diffuse,s.ambient=qe.Textura.ambient,s.texture="esfera",an.add(s)}(),function(){const e=[[247,144/255,0,1],[247,90/255,0,1],[247,19/255,0,1]],t={filas:1,columnas:60},n={filas:1,columnas:60};mt.curvaColav0x=-1.99;const i=new He([mt.curvaColav0x,.78],[-1.2,.785],[-.66,.52],[-.14,.18]).extraerPuntos(41),o={puntos:i.puntos,normales:i.puntosTangentes.map((e=>[-e[1],e[0]]))},r={filas:60,columnas:o.puntos.length-1},a=_e.crearRecorridoCircular(0,1,60),s=new He([.3,1.5],[1.185,1.44],[1.844,1.185],[2.5,.7]).extraerPuntos(16),l={puntos:s.puntos,normales:s.puntosTangentes.map((e=>[-e[1],e[0]]))},u={filas:60,columnas:l.puntos.length-1},c=new Ge(null,"capsula");mt.CilAaltura=.1;const d=new Xe("capsulaCuerpoCilindroA",{radioSuperior:.4,radioInferior:1.2,altura:mt.CilAaltura},t),h=new Xe("capsulaCuerpoCilindroB",{radioSuperior:1.2,radioInferior:1.5,altura:.2},t),p=new Je("capsulaCuerpoBezierA",l,a,u,!0),f=new Xe("capsulaCuerpoCilindroC",{radioSuperior:.7,radioInferior:.6,altura:.01},t),m=new Xe("capsulaCuerpoCilindroD",{radioSuperior:.6,radioInferior:.4,altura:2.9-2.51},t),g=new Xe("capsulaCuerpoCilindroE",{radioSuperior:.4,radioInferior:0,altura:.001},t),v=Se(Te());Re(v,v,-Math.PI/2,[1,0,0]);const b=Se(Te());Le(b,b,[0,0,.1]),De(b,b,v);const y=_e.calcularTanYBiTan(d);d.tangentes=y.tangentes;const _=_e.nuevasCoordenadas(v,d,!1),x=_e.nuevasCoordenadas(b,d,!1);x.normales=_.normales,x.tangentes=_.tangentes;const C=Se(Te());Re(C,C,-Math.PI/2,[1,0,0]);const T=Se(Te());Le(T,T,[0,0,.3]),De(T,T,C);const E=_e.calcularTanYBiTan(h);h.tangentes=E.tangentes;const w=_e.nuevasCoordenadas(C,h,!1),A=_e.nuevasCoordenadas(T,h,!1);A.normales=w.normales,A.tangentes=w.tangentes;const S=Se(Te());Re(S,S,Math.PI/2,[0,0,1]);const M=_e.calcularTanYBiTan(p);p.tangentes=M.tangentes;const P=_e.nuevasCoordenadas(S,p,!1),D=Se(Te());Re(D,D,-Math.PI/2,[1,0,0]);const L=Se(Te());Le(L,L,[0,0,2.51]),De(L,L,D);const k=_e.calcularTanYBiTan(f);f.tangentes=k.tangentes;const R=_e.nuevasCoordenadas(D,f,!1),O=_e.nuevasCoordenadas(L,f,!1);O.normales=R.normales,O.tangentes=R.tangentes;const I=Se(Te());Re(I,I,-Math.PI/2,[1,0,0]);const N=Se(Te());Le(N,N,[0,0,2.9]),De(N,N,I);const V=_e.calcularTanYBiTan(m);m.tangentes=V.tangentes;const j=_e.nuevasCoordenadas(I,m,!1),B=_e.nuevasCoordenadas(N,m,!1);B.normales=j.normales,B.tangentes=j.tangentes;const z=Se(Te());Re(z,z,-Math.PI/2,[1,0,0]);const F=Se(Te());Le(F,F,[0,0,2.901]),De(F,F,z);const H=_e.calcularTanYBiTan(g);g.tangentes=H.tangentes;const U=_e.nuevasCoordenadas(z,g,!1),q=_e.nuevasCoordenadas(F,g,!1);q.normales=U.normales,q.tangentes=U.tangentes;const G=_e.I2(d.textureCoords,"noImprimir"),X=[];X.push(.1,0);const Y=[];Y.push(.2,.1);const W=[];W.push(.82,.8);const $=[];$.push(.9,.82);const K=[];K.push(1,.9);const Q=[],J=[],Z=[],ee=[],te=[],ne=G.columna1.length/2,ie=_e.crearVectorEntre(4,0,ne);for(let e=0;e<X.length;e++)for(let t=0;t<ne;t++)Q.push(ie[t],X[e]),J.push(ie[t],Y[e]),Z.push(ie[t],W[e]),ee.push(ie[t],$[e]),te.push(ie[t],K[e]);const oe=[],re=_e.crearVectorEntre(.8,.2,17);for(let e=0;e<ne;e++)for(let t=0;t<re.length;t++)oe.push(1-ie[e],re[t]);const ae=[];h.indices.forEach((e=>{ae.push(e+d.indices[d.indices.length-1]+1)}));const se=[];p.indices.forEach((e=>{se.push(e+ae[ae.length-1]+1)}));const le=[];f.indices.forEach((e=>{le.push(e+se[se.length-1]+1)}));const ue=[];m.indices.forEach((e=>{ue.push(e+le[le.length-1]+1)}));const ce=[];g.indices.forEach((e=>{ce.push(e+ue[ue.length-1]+1)})),c.indices.push(...d.indices,d.indices[d.indices.length-1],ae[0],...ae,ae[ae.length-1],se[0],...se,se[se.length-1],le[0],...le,le[le.length-1],ue[0],...ue,ue[ue.length-1],ce[0],...ce),c.vertices.push(...x.vertices,...A.vertices,...P.vertices,...O.vertices,...B.vertices,...q.vertices),c.normales.push(...x.normales,...A.normales,...P.normales,...O.normales,...B.normales,...q.normales),c.textureCoords.push(...Q,...J,...oe,...Z,...ee,...te),c.tangentes.push(...x.tangentes,...A.tangentes,...P.tangentes,...O.tangentes,...B.tangentes,...q.tangentes),c.diffuse=qe.Textura.diffuse,c.ambient=qe.Textura.ambient,c.texture="capsula",an.add(c);const de=new Ge(null,"capsulaCola"),he=new Je("capsulaCola_",o,a,r,!0),pe=new Xe("capsulaFuegoCola_",{radioSuperior:.78,radioInferior:.05,altura:.5},n,!0),fe=Se(Te());Re(fe,fe,-Math.PI/2,[1,0,0]);const me=Se(Te());Le(me,me,[0,0,mt.curvaColav0x+.5]),De(me,me,fe);const ge=_e.nuevasCoordenadas(fe,pe,!1),ve=_e.nuevasCoordenadas(me,pe,!1);ve.normales=ge.normales;const be=[];pe.indices.forEach((e=>{be.push(e+he.indices[he.indices.length-1]+1)})),de.indices.push(...he.indices,he.indices[he.indices.length-1],be[0],...be),de.vertices.push(...he.vertices,...ve.vertices),de.normales.push(...he.normales,...ve.normales),de.textureCoords.push(...he.textureCoords,...pe.textureCoords),de.diffuse=e[1],an.add(de),mt.FuegoCuerpoAltura=.5;const ye=new Xe("capsulaFuegoCuerpo",{radioSuperior:1.2,radioInferior:.05,altura:mt.FuegoCuerpoAltura},t,!0);an.add(ye,{diffuse:e[0]})}(),On.forEach((({id:e,diffuse:t})=>{const n=Object.assign({},Zt);"sunLight"===e&&(n.hidden=!0),n.alias=e,n.diffuse=t,an.add(n)})),function(){const e=_e.crearRecorridoCircular(345,.5,50),t={puntos:e.puntos,normales:e.binormales.map((e=>[e[0],e[1]])),tangentes:e.tangentes.map((e=>[e[0],e[1]]))},n={filas:50,columnas:t.puntos.length-1},i=_e.crearRecorridoCircular(0,1,n.filas),o=new Ze("luna",t,i,n,!0),r=_e.calcularTanYBiTan(o);o.tangentes=r.tangentes,o.diffuse=qe.Textura.diffuse,o.ambient=qe.Textura.ambient,o.texture="luna",an.add(o)}(),function(){const e=_e.crearRecorridoCircular(1405,.5,50),t={puntos:e.puntos,normales:e.binormales.map((e=>[e[0],e[1]])),tangentes:e.tangentes.map((e=>[e[0],e[1]]))},n={filas:50,columnas:t.puntos.length-1},i=_e.crearRecorridoCircular(0,1,n.filas),o=new Ze("tierra",t,i,n,!0),r=_e.calcularTanYBiTan(o);o.tangentes=r.tangentes,o.diffuse=qe.Textura.diffuse;o.ambient=[.1,.1,.1,1],o.texture="tierra",an.add(o)}(),an.add(Jt,{alias:"cubeMap"}),window.onload=function(){bn=(new Date).getTime(),setInterval(jn,.03),Pn=_e.configureControls({PanelesSolares:{Filas:{value:hn.cantidadDeFilas,min:1,max:10,step:1,onChange:e=>{hn.removerPanelesSolares(),hn.cantidadDeFilas=e,hn.cambiarAlturaDelTuboPrincipal(),hn.cargarPanelesSolares()}},Angulo:{value:cn.panelSolar.anguloRotacion,min:0,max:360,step:1,onChange:e=>cn.panelSolar.anguloRotacion=e},AnimarPaneles:{value:cn.panelSolar.animar,onChange:e=>cn.panelSolar.animar=e}},SpotLights:{Penumbra:{value:.75,min:0,max:1,step:.01,onChange:e=>rn.uniform1f(sn.uLerpOuterCutOff,e)},Angulo:{value:Tn.anguloDeApertura,min:0,max:Tn.umbralAnguloDeApertura,step:.1,onChange:e=>{Tn.anguloDeApertura=e}},LuzDistancia:{value:4,min:.01,max:10,step:1,onChange:e=>rn.uniform1f(sn.uLightRadius,20*e)},Decay:{value:.65,min:.01,max:1,step:.001,onChange:e=>{rn.uniform1f(sn.uLightDecay,e)}}},"Fuego Cola":{Gradiente:{value:cn.fuegoColaVars[0],min:-Math.PI,max:Math.PI,step:.01,onChange:e=>{cn.fuegoColaVars[0]=e}},"Picos/Valles":{value:cn.fuegoColaVars[1],min:0,max:100,step:1,onChange:e=>{cn.fuegoColaVars[1]=e}},Frecuencia:{value:cn.fuegoColaVars[2],min:0,max:4e3,step:1,onChange:e=>{cn.fuegoColaVars[2]=e}}},"Light Ambient Term":{value:_n[0],min:0,max:1,step:.01,onChange:e=>rn.uniform4fv(sn.uLightAmbient,[e,e,e,1])},"Light Specular Term":{value:xn[0],min:0,max:1,step:.01,onChange:e=>rn.uniform4fv(sn.uLightSpecular,[e,e,e,1])},MinLambertTerm:{value:.1,min:0,max:.25,step:.01,onChange:e=>rn.uniform1f(sn.uMinLambertTerm,e)},LuzSolar:{value:true,onChange:e=>{rn.uniform1i(sn.uLuzSolarEncendida,e)}},CubeMap:{value:In,onChange:e=>{In=e,Jt.hidden=!e}},SpecularMap:{value:Rn,onChange:e=>{Rn=e}},Wireframe:()=>{kn=!kn},"Triangle Strip":{value:Ln,onChange:e=>Ln=e}},{closed:!1,hideable:!1}),pn.gui=Pn,Pn.hide(),Mn.info("Estacin Espacial"),Mn.error("Controles: Tecla H","",{closeButton:!0,timeOut:4e3,extendedTimeOut:1e3,preventDuplicates:!0,progressBar:!0})}},755:function(e,t){var n;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(i,o){"use strict";var r=[],a=Object.getPrototypeOf,s=r.slice,l=r.flat?function(e){return r.flat.call(e)}:function(e){return r.concat.apply([],e)},u=r.push,c=r.indexOf,d={},h=d.toString,p=d.hasOwnProperty,f=p.toString,m=f.call(Object),g={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},b=function(e){return null!=e&&e===e.window},y=i.document,_={type:!0,src:!0,nonce:!0,noModule:!0};function x(e,t,n){var i,o,r=(n=n||y).createElement("script");if(r.text=e,t)for(i in _)(o=t[i]||t.getAttribute&&t.getAttribute(i))&&r.setAttribute(i,o);n.head.appendChild(r).parentNode.removeChild(r)}function C(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[h.call(e)]||"object":typeof e}var T="3.6.0",E=function(e,t){return new E.fn.init(e,t)};function w(e){var t=!!e&&"length"in e&&e.length,n=C(e);return!v(e)&&!b(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}E.fn=E.prototype={jquery:T,constructor:E,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=E.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return E.each(this,e)},map:function(e){return this.pushStack(E.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(E.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:r.sort,splice:r.splice},E.extend=E.fn.extend=function(){var e,t,n,i,o,r,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||v(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)i=e[t],"__proto__"!==t&&a!==i&&(u&&i&&(E.isPlainObject(i)||(o=Array.isArray(i)))?(n=a[t],r=o&&!Array.isArray(n)?[]:o||E.isPlainObject(n)?n:{},o=!1,a[t]=E.extend(u,r,i)):void 0!==i&&(a[t]=i));return a},E.extend({expando:"jQuery"+(T+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==h.call(e)||(t=a(e))&&("function"!=typeof(n=p.call(t,"constructor")&&t.constructor)||f.call(n)!==m))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){x(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(w(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(w(Object(e))?E.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:c.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,o=e.length;i<n;i++)e[o++]=t[i];return e.length=o,e},grep:function(e,t,n){for(var i=[],o=0,r=e.length,a=!n;o<r;o++)!t(e[o],o)!==a&&i.push(e[o]);return i},map:function(e,t,n){var i,o,r=0,a=[];if(w(e))for(i=e.length;r<i;r++)null!=(o=t(e[r],r,n))&&a.push(o);else for(r in e)null!=(o=t(e[r],r,n))&&a.push(o);return l(a)},guid:1,support:g}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=r[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){d["[object "+t+"]"]=t.toLowerCase()}));var A=function(e){var t,n,i,o,r,a,s,l,u,c,d,h,p,f,m,g,v,b,y,_="sizzle"+1*new Date,x=e.document,C=0,T=0,E=le(),w=le(),A=le(),S=le(),M=function(e,t){return e===t&&(d=!0),0},P={}.hasOwnProperty,D=[],L=D.pop,k=D.push,R=D.push,O=D.slice,I=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",V="[\\x20\\t\\r\\n\\f]",j="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",B="\\[[\\x20\\t\\r\\n\\f]*("+j+")(?:"+V+"*([*^$|!~]?=)"+V+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+V+"*\\]",z=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",F=new RegExp(V+"+","g"),H=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),U=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),q=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),G=new RegExp(V+"|>"),X=new RegExp(z),Y=new RegExp("^"+j+"$"),W={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},$=/HTML$/i,K=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,oe=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){h()},ae=_e((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{R.apply(D=O.call(x.childNodes),x.childNodes),D[x.childNodes.length].nodeType}catch(e){R={apply:D.length?function(e,t){k.apply(e,O.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function se(e,t,i,o){var r,s,u,c,d,f,v,b=t&&t.ownerDocument,x=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==x&&9!==x&&11!==x)return i;if(!o&&(h(t),t=t||p,m)){if(11!==x&&(d=Z.exec(e)))if(r=d[1]){if(9===x){if(!(u=t.getElementById(r)))return i;if(u.id===r)return i.push(u),i}else if(b&&(u=b.getElementById(r))&&y(t,u)&&u.id===r)return i.push(u),i}else{if(d[2])return R.apply(i,t.getElementsByTagName(e)),i;if((r=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return R.apply(i,t.getElementsByClassName(r)),i}if(n.qsa&&!S[e+" "]&&(!g||!g.test(e))&&(1!==x||"object"!==t.nodeName.toLowerCase())){if(v=e,b=t,1===x&&(G.test(e)||q.test(e))){for((b=ee.test(e)&&ve(t.parentNode)||t)===t&&n.scope||((c=t.getAttribute("id"))?c=c.replace(ie,oe):t.setAttribute("id",c=_)),s=(f=a(e)).length;s--;)f[s]=(c?"#"+c:":scope")+" "+ye(f[s]);v=f.join(",")}try{return R.apply(i,b.querySelectorAll(v)),i}catch(t){S(e,!0)}finally{c===_&&t.removeAttribute("id")}}}return l(e.replace(H,"$1"),t,i,o)}function le(){var e=[];return function t(n,o){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=o}}function ue(e){return e[_]=!0,e}function ce(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split("|"),o=n.length;o--;)i.attrHandle[n[o]]=t}function he(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function pe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return ue((function(t){return t=+t,ue((function(n,i){for(var o,r=e([],n.length,t),a=r.length;a--;)n[o=r[a]]&&(n[o]=!(i[o]=n[o]))}))}))}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},r=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!$.test(t||n&&n.nodeName||"HTML")},h=se.setDocument=function(e){var t,o,a=e?e.ownerDocument||e:x;return a!=p&&9===a.nodeType&&a.documentElement?(f=(p=a).documentElement,m=!r(p),x!=p&&(o=p.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",re,!1):o.attachEvent&&o.attachEvent("onunload",re)),n.scope=ce((function(e){return f.appendChild(e).appendChild(p.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=ce((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ce((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=J.test(p.getElementsByClassName),n.getById=ce((function(e){return f.appendChild(e).id=_,!p.getElementsByName||!p.getElementsByName(_).length})),n.getById?(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,i,o,r=t.getElementById(e);if(r){if((n=r.getAttributeNode("id"))&&n.value===e)return[r];for(o=t.getElementsByName(e),i=0;r=o[i++];)if((n=r.getAttributeNode("id"))&&n.value===e)return[r]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=J.test(p.querySelectorAll))&&(ce((function(e){var t;f.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+N+")"),e.querySelectorAll("[id~="+_+"-]").length||g.push("~="),(t=p.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),ce((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=J.test(b=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ce((function(e){n.disconnectedMatch=b.call(e,"*"),b.call(e,"[s!='']:x"),v.push("!=",z)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=J.test(f.compareDocumentPosition),y=t||J.test(f.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},M=t?function(e,t){if(e===t)return d=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e==p||e.ownerDocument==x&&y(x,e)?-1:t==p||t.ownerDocument==x&&y(x,t)?1:c?I(c,e)-I(c,t):0:4&i?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,i=0,o=e.parentNode,r=t.parentNode,a=[e],s=[t];if(!o||!r)return e==p?-1:t==p?1:o?-1:r?1:c?I(c,e)-I(c,t):0;if(o===r)return he(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?he(a[i],s[i]):a[i]==x?-1:s[i]==x?1:0},p):p},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(h(e),n.matchesSelector&&m&&!S[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var i=b.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){S(t,!0)}return se(t,p,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=p&&h(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=p&&h(e);var o=i.attrHandle[t.toLowerCase()],r=o&&P.call(i.attrHandle,t.toLowerCase())?o(e,t,!m):void 0;return void 0!==r?r:n.attributes||!m?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(ie,oe)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,i=[],o=0,r=0;if(d=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(M),d){for(;t=e[r++];)t===e[r]&&(o=i.push(r));for(;o--;)e.splice(i[o],1)}return c=null,e},o=se.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=o(t);return n},i=se.selectors={cacheLength:50,createPseudo:ue,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return W.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+V+"|$)"))&&E(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var o=se.attr(i,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o.replace(F," ")+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,o){var r="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,h,p,f,m=r!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s,y=!1;if(g){if(r){for(;m;){for(h=t;h=h[m];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?g.firstChild:g.lastChild],a&&b){for(y=(p=(u=(c=(d=(h=g)[_]||(h[_]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===C&&u[1])&&u[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(y=p=0)||f.pop();)if(1===h.nodeType&&++y&&h===t){c[e]=[C,p,y];break}}else if(b&&(y=p=(u=(c=(d=(h=t)[_]||(h[_]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===C&&u[1]),!1===y)for(;(h=++p&&h&&h[m]||(y=p=0)||f.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++y||(b&&((c=(d=h[_]||(h[_]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]=[C,y]),h!==t)););return(y-=o)===i||y%i==0&&y/i>=0}}},PSEUDO:function(e,t){var n,o=i.pseudos[e]||i.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return o[_]?o(t):o.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ue((function(e,n){for(var i,r=o(e,t),a=r.length;a--;)e[i=I(e,r[a])]=!(n[i]=r[a])})):function(e){return o(e,0,n)}):o}},pseudos:{not:ue((function(e){var t=[],n=[],i=s(e.replace(H,"$1"));return i[_]?ue((function(e,t,n,o){for(var r,a=i(e,null,o,[]),s=e.length;s--;)(r=a[s])&&(e[s]=!(t[s]=r))})):function(e,o,r){return t[0]=e,i(t,null,r,n),t[0]=null,!n.pop()}})),has:ue((function(e){return function(t){return se(e,t).length>0}})),contains:ue((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||o(t)).indexOf(e)>-1}})),lang:ue((function(e){return Y.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge((function(){return[0]})),last:ge((function(e,t){return[t-1]})),eq:ge((function(e,t,n){return[n<0?n+t:n]})),even:ge((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ge((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ge((function(e,t,n){for(var i=n<0?n+t:n>t?t:n;--i>=0;)e.push(i);return e})),gt:ge((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}},i.pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=pe(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=fe(t);function be(){}function ye(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function _e(e,t,n){var i=t.dir,o=t.next,r=o||i,a=n&&"parentNode"===r,s=T++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||a)return e(t,n,o);return!1}:function(t,n,l){var u,c,d,h=[C,s];if(l){for(;t=t[i];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||a)if(c=(d=t[_]||(t[_]={}))[t.uniqueID]||(d[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[i]||t;else{if((u=c[r])&&u[0]===C&&u[1]===s)return h[2]=u[2];if(c[r]=h,h[2]=e(t,n,l))return!0}return!1}}function xe(e){return e.length>1?function(t,n,i){for(var o=e.length;o--;)if(!e[o](t,n,i))return!1;return!0}:e[0]}function Ce(e,t,n,i,o){for(var r,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(r=e[s])&&(n&&!n(r,i,o)||(a.push(r),u&&t.push(s)));return a}function Te(e,t,n,i,o,r){return i&&!i[_]&&(i=Te(i)),o&&!o[_]&&(o=Te(o,r)),ue((function(r,a,s,l){var u,c,d,h=[],p=[],f=a.length,m=r||function(e,t,n){for(var i=0,o=t.length;i<o;i++)se(e,t[i],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!r&&t?m:Ce(m,h,e,s,l),v=n?o||(r?e:f||i)?[]:a:g;if(n&&n(g,v,s,l),i)for(u=Ce(v,p),i(u,[],s,l),c=u.length;c--;)(d=u[c])&&(v[p[c]]=!(g[p[c]]=d));if(r){if(o||e){if(o){for(u=[],c=v.length;c--;)(d=v[c])&&u.push(g[c]=d);o(null,v=[],u,l)}for(c=v.length;c--;)(d=v[c])&&(u=o?I(r,d):h[c])>-1&&(r[u]=!(a[u]=d))}}else v=Ce(v===a?v.splice(f,v.length):v),o?o(null,a,v,l):R.apply(a,v)}))}function Ee(e){for(var t,n,o,r=e.length,a=i.relative[e[0].type],s=a||i.relative[" "],l=a?1:0,c=_e((function(e){return e===t}),s,!0),d=_e((function(e){return I(t,e)>-1}),s,!0),h=[function(e,n,i){var o=!a&&(i||n!==u)||((t=n).nodeType?c(e,n,i):d(e,n,i));return t=null,o}];l<r;l++)if(n=i.relative[e[l].type])h=[_e(xe(h),n)];else{if((n=i.filter[e[l].type].apply(null,e[l].matches))[_]){for(o=++l;o<r&&!i.relative[e[o].type];o++);return Te(l>1&&xe(h),l>1&&ye(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(H,"$1"),n,l<o&&Ee(e.slice(l,o)),o<r&&Ee(e=e.slice(o)),o<r&&ye(e))}h.push(n)}return xe(h)}return be.prototype=i.filters=i.pseudos,i.setFilters=new be,a=se.tokenize=function(e,t){var n,o,r,a,s,l,u,c=w[e+" "];if(c)return t?0:c.slice(0);for(s=e,l=[],u=i.preFilter;s;){for(a in n&&!(o=U.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(r=[])),n=!1,(o=q.exec(s))&&(n=o.shift(),r.push({value:n,type:o[0].replace(H," ")}),s=s.slice(n.length)),i.filter)!(o=W[a].exec(s))||u[a]&&!(o=u[a](o))||(n=o.shift(),r.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):w(e,l).slice(0)},s=se.compile=function(e,t){var n,o=[],r=[],s=A[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=Ee(t[n]))[_]?o.push(s):r.push(s);s=A(e,function(e,t){var n=t.length>0,o=e.length>0,r=function(r,a,s,l,c){var d,f,g,v=0,b="0",y=r&&[],_=[],x=u,T=r||o&&i.find.TAG("*",c),E=C+=null==x?1:Math.random()||.1,w=T.length;for(c&&(u=a==p||a||c);b!==w&&null!=(d=T[b]);b++){if(o&&d){for(f=0,a||d.ownerDocument==p||(h(d),s=!m);g=e[f++];)if(g(d,a||p,s)){l.push(d);break}c&&(C=E)}n&&((d=!g&&d)&&v--,r&&y.push(d))}if(v+=b,n&&b!==v){for(f=0;g=t[f++];)g(y,_,a,s);if(r){if(v>0)for(;b--;)y[b]||_[b]||(_[b]=L.call(l));_=Ce(_)}R.apply(l,_),c&&!r&&_.length>0&&v+t.length>1&&se.uniqueSort(l)}return c&&(C=E,u=x),y};return n?ue(r):r}(r,o)),s.selector=e}return s},l=se.select=function(e,t,n,o){var r,l,u,c,d,h="function"==typeof e&&e,p=!o&&a(e=h.selector||e);if(n=n||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===t.nodeType&&m&&i.relative[l[1].type]){if(!(t=(i.find.ID(u.matches[0].replace(te,ne),t)||[])[0]))return n;h&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(r=W.needsContext.test(e)?0:l.length;r--&&(u=l[r],!i.relative[c=u.type]);)if((d=i.find[c])&&(o=d(u.matches[0].replace(te,ne),ee.test(l[0].type)&&ve(t.parentNode)||t))){if(l.splice(r,1),!(e=o.length&&ye(l)))return R.apply(n,o),n;break}}return(h||s(e,p))(o,t,!m,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=_.split("").sort(M).join("")===_,n.detectDuplicates=!!d,h(),n.sortDetached=ce((function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))})),ce((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||de("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ce((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||de("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ce((function(e){return null==e.getAttribute("disabled")}))||de(N,(function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null})),se}(i);E.find=A,E.expr=A.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=A.uniqueSort,E.text=A.getText,E.isXMLDoc=A.isXML,E.contains=A.contains,E.escapeSelector=A.escape;var S=function(e,t,n){for(var i=[],o=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&E(e).is(n))break;i.push(e)}return i},M=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},P=E.expr.match.needsContext;function D(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var L=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function k(e,t,n){return v(t)?E.grep(e,(function(e,i){return!!t.call(e,i,e)!==n})):t.nodeType?E.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?E.grep(e,(function(e){return c.call(t,e)>-1!==n})):E.filter(t,e,n)}E.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?E.find.matchesSelector(i,e)?[i]:[]:E.find.matches(e,E.grep(t,(function(e){return 1===e.nodeType})))},E.fn.extend({find:function(e){var t,n,i=this.length,o=this;if("string"!=typeof e)return this.pushStack(E(e).filter((function(){for(t=0;t<i;t++)if(E.contains(o[t],this))return!0})));for(n=this.pushStack([]),t=0;t<i;t++)E.find(e,o[t],n);return i>1?E.uniqueSort(n):n},filter:function(e){return this.pushStack(k(this,e||[],!1))},not:function(e){return this.pushStack(k(this,e||[],!0))},is:function(e){return!!k(this,"string"==typeof e&&P.test(e)?E(e):e||[],!1).length}});var R,O=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||R,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:O.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof E?t[0]:t,E.merge(this,E.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),L.test(i[1])&&E.isPlainObject(t))for(i in t)v(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(o=y.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(E):E.makeArray(e,this)}).prototype=E.fn,R=E(y);var I=/^(?:parents|prev(?:Until|All))/,N={children:!0,contents:!0,next:!0,prev:!0};function V(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}E.fn.extend({has:function(e){var t=E(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(E.contains(this,t[e]))return!0}))},closest:function(e,t){var n,i=0,o=this.length,r=[],a="string"!=typeof e&&E(e);if(!P.test(e))for(;i<o;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&E.find.matchesSelector(n,e))){r.push(n);break}return this.pushStack(r.length>1?E.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?c.call(E(e),this[0]):c.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return S(e,"parentNode")},parentsUntil:function(e,t,n){return S(e,"parentNode",n)},next:function(e){return V(e,"nextSibling")},prev:function(e){return V(e,"previousSibling")},nextAll:function(e){return S(e,"nextSibling")},prevAll:function(e){return S(e,"previousSibling")},nextUntil:function(e,t,n){return S(e,"nextSibling",n)},prevUntil:function(e,t,n){return S(e,"previousSibling",n)},siblings:function(e){return M((e.parentNode||{}).firstChild,e)},children:function(e){return M(e.firstChild)},contents:function(e){return null!=e.contentDocument&&a(e.contentDocument)?e.contentDocument:(D(e,"template")&&(e=e.content||e),E.merge([],e.childNodes))}},(function(e,t){E.fn[e]=function(n,i){var o=E.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=E.filter(i,o)),this.length>1&&(N[e]||E.uniqueSort(o),I.test(e)&&o.reverse()),this.pushStack(o)}}));var j=/[^\x20\t\r\n\f]+/g;function B(e){return e}function z(e){throw e}function F(e,t,n,i){var o;try{e&&v(o=e.promise)?o.call(e).done(t).fail(n):e&&v(o=e.then)?o.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}E.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return E.each(e.match(j)||[],(function(e,n){t[n]=!0})),t}(e):E.extend({},e);var t,n,i,o,r=[],a=[],s=-1,l=function(){for(o=o||e.once,i=t=!0;a.length;s=-1)for(n=a.shift();++s<r.length;)!1===r[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=r.length,n=!1);e.memory||(n=!1),t=!1,o&&(r=n?[]:"")},u={add:function(){return r&&(n&&!t&&(s=r.length-1,a.push(n)),function t(n){E.each(n,(function(n,i){v(i)?e.unique&&u.has(i)||r.push(i):i&&i.length&&"string"!==C(i)&&t(i)}))}(arguments),n&&!t&&l()),this},remove:function(){return E.each(arguments,(function(e,t){for(var n;(n=E.inArray(t,r,n))>-1;)r.splice(n,1),n<=s&&s--})),this},has:function(e){return e?E.inArray(e,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return o=a=[],r=n="",this},disabled:function(){return!r},lock:function(){return o=a=[],n||t||(r=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},E.extend({Deferred:function(e){var t=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return E.Deferred((function(n){E.each(t,(function(t,i){var o=v(e[i[4]])&&e[i[4]];r[i[1]]((function(){var e=o&&o.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,o?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,o){var r=0;function a(e,t,n,o){return function(){var s=this,l=arguments,u=function(){var i,u;if(!(e<r)){if((i=n.apply(s,l))===t.promise())throw new TypeError("Thenable self-resolution");u=i&&("object"==typeof i||"function"==typeof i)&&i.then,v(u)?o?u.call(i,a(r,t,B,o),a(r,t,z,o)):(r++,u.call(i,a(r,t,B,o),a(r,t,z,o),a(r,t,B,t.notifyWith))):(n!==B&&(s=void 0,l=[i]),(o||t.resolveWith)(s,l))}},c=o?u:function(){try{u()}catch(i){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(i,c.stackTrace),e+1>=r&&(n!==z&&(s=void 0,l=[i]),t.rejectWith(s,l))}};e?c():(E.Deferred.getStackHook&&(c.stackTrace=E.Deferred.getStackHook()),i.setTimeout(c))}}return E.Deferred((function(i){t[0][3].add(a(0,i,v(o)?o:B,i.notifyWith)),t[1][3].add(a(0,i,v(e)?e:B)),t[2][3].add(a(0,i,v(n)?n:z))})).promise()},promise:function(e){return null!=e?E.extend(e,o):o}},r={};return E.each(t,(function(e,i){var a=i[2],s=i[5];o[i[1]]=a.add,s&&a.add((function(){n=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(i[3].fire),r[i[0]]=function(){return r[i[0]+"With"](this===r?void 0:this,arguments),this},r[i[0]+"With"]=a.fireWith})),o.promise(r),e&&e.call(r,r),r},when:function(e){var t=arguments.length,n=t,i=Array(n),o=s.call(arguments),r=E.Deferred(),a=function(e){return function(n){i[e]=this,o[e]=arguments.length>1?s.call(arguments):n,--t||r.resolveWith(i,o)}};if(t<=1&&(F(e,r.done(a(n)).resolve,r.reject,!t),"pending"===r.state()||v(o[n]&&o[n].then)))return r.then();for(;n--;)F(o[n],a(n),r.reject);return r.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(e,t){i.console&&i.console.warn&&e&&H.test(e.name)&&i.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},E.readyException=function(e){i.setTimeout((function(){throw e}))};var U=E.Deferred();function q(){y.removeEventListener("DOMContentLoaded",q),i.removeEventListener("load",q),E.ready()}E.fn.ready=function(e){return U.then(e).catch((function(e){E.readyException(e)})),this},E.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--E.readyWait:E.isReady)||(E.isReady=!0,!0!==e&&--E.readyWait>0||U.resolveWith(y,[E]))}}),E.ready.then=U.then,"complete"===y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?i.setTimeout(E.ready):(y.addEventListener("DOMContentLoaded",q),i.addEventListener("load",q));var G=function(e,t,n,i,o,r,a){var s=0,l=e.length,u=null==n;if("object"===C(n))for(s in o=!0,n)G(e,t,s,n[s],!0,r,a);else if(void 0!==i&&(o=!0,v(i)||(a=!0),u&&(a?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(E(e),n)})),t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return o?e:u?t.call(e):l?t(e[0],n):r},X=/^-ms-/,Y=/-([a-z])/g;function W(e,t){return t.toUpperCase()}function $(e){return e.replace(X,"ms-").replace(Y,W)}var K=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Q(){this.expando=E.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},K(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,o=this.cache(e);if("string"==typeof t)o[$(t)]=n;else for(i in t)o[$(i)]=t[i];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][$(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map($):(t=$(t))in i?[t]:t.match(j)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||E.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!E.isEmptyObject(t)}};var J=new Q,Z=new Q,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(e){}Z.set(e,t,n)}else n=void 0;return n}E.extend({hasData:function(e){return Z.hasData(e)||J.hasData(e)},data:function(e,t,n){return Z.access(e,t,n)},removeData:function(e,t){Z.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),E.fn.extend({data:function(e,t){var n,i,o,r=this[0],a=r&&r.attributes;if(void 0===e){if(this.length&&(o=Z.get(r),1===r.nodeType&&!J.get(r,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=$(i.slice(5)),ne(r,i,o[i]));J.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each((function(){Z.set(this,e)})):G(this,(function(t){var n;if(r&&void 0===t)return void 0!==(n=Z.get(r,e))||void 0!==(n=ne(r,e))?n:void 0;this.each((function(){Z.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Z.remove(this,e)}))}}),E.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=J.get(e,t),n&&(!i||Array.isArray(n)?i=J.access(e,t,E.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=E.queue(e,t),i=n.length,o=n.shift(),r=E._queueHooks(e,t);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===t&&n.unshift("inprogress"),delete r.stop,o.call(e,(function(){E.dequeue(e,t)}),r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:E.Callbacks("once memory").add((function(){J.remove(e,[t+"queue",n])}))})}}),E.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?E.queue(this[0],e):void 0===t?this:this.each((function(){var n=E.queue(this,e,t);E._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&E.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){E.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,o=E.Deferred(),r=this,a=this.length,s=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=J.get(r[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(t)}});var ie=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,oe=new RegExp("^(?:([+-])=|)("+ie+")([a-z%]*)$","i"),re=["Top","Right","Bottom","Left"],ae=y.documentElement,se=function(e){return E.contains(e.ownerDocument,e)},le={composed:!0};ae.getRootNode&&(se=function(e){return E.contains(e.ownerDocument,e)||e.getRootNode(le)===e.ownerDocument});var ue=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&se(e)&&"none"===E.css(e,"display")};function ce(e,t,n,i){var o,r,a=20,s=i?function(){return i.cur()}:function(){return E.css(e,t,"")},l=s(),u=n&&n[3]||(E.cssNumber[t]?"":"px"),c=e.nodeType&&(E.cssNumber[t]||"px"!==u&&+l)&&oe.exec(E.css(e,t));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;a--;)E.style(e,t,c+u),(1-r)*(1-(r=s()/l||.5))<=0&&(a=0),c/=r;c*=2,E.style(e,t,c+u),n=n||[]}return n&&(c=+c||+l||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=o)),o}var de={};function he(e){var t,n=e.ownerDocument,i=e.nodeName,o=de[i];return o||(t=n.body.appendChild(n.createElement(i)),o=E.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),de[i]=o,o)}function pe(e,t){for(var n,i,o=[],r=0,a=e.length;r<a;r++)(i=e[r]).style&&(n=i.style.display,t?("none"===n&&(o[r]=J.get(i,"display")||null,o[r]||(i.style.display="")),""===i.style.display&&ue(i)&&(o[r]=he(i))):"none"!==n&&(o[r]="none",J.set(i,"display",n)));for(r=0;r<a;r++)null!=o[r]&&(e[r].style.display=o[r]);return e}E.fn.extend({show:function(){return pe(this,!0)},hide:function(){return pe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ue(this)?E(this).show():E(this).hide()}))}});var fe,me,ge=/^(?:checkbox|radio)$/i,ve=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,be=/^$|^module$|\/(?:java|ecma)script/i;fe=y.createDocumentFragment().appendChild(y.createElement("div")),(me=y.createElement("input")).setAttribute("type","radio"),me.setAttribute("checked","checked"),me.setAttribute("name","t"),fe.appendChild(me),g.checkClone=fe.cloneNode(!0).cloneNode(!0).lastChild.checked,fe.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!fe.cloneNode(!0).lastChild.defaultValue,fe.innerHTML="<option></option>",g.option=!!fe.lastChild;var ye={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function _e(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&D(e,t)?E.merge([e],n):n}function xe(e,t){for(var n=0,i=e.length;n<i;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead,ye.th=ye.td,g.option||(ye.optgroup=ye.option=[1,"<select multiple='multiple'>","</select>"]);var Ce=/<|&#?\w+;/;function Te(e,t,n,i,o){for(var r,a,s,l,u,c,d=t.createDocumentFragment(),h=[],p=0,f=e.length;p<f;p++)if((r=e[p])||0===r)if("object"===C(r))E.merge(h,r.nodeType?[r]:r);else if(Ce.test(r)){for(a=a||d.appendChild(t.createElement("div")),s=(ve.exec(r)||["",""])[1].toLowerCase(),l=ye[s]||ye._default,a.innerHTML=l[1]+E.htmlPrefilter(r)+l[2],c=l[0];c--;)a=a.lastChild;E.merge(h,a.childNodes),(a=d.firstChild).textContent=""}else h.push(t.createTextNode(r));for(d.textContent="",p=0;r=h[p++];)if(i&&E.inArray(r,i)>-1)o&&o.push(r);else if(u=se(r),a=_e(d.appendChild(r),"script"),u&&xe(a),n)for(c=0;r=a[c++];)be.test(r.type||"")&&n.push(r);return d}var Ee=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Ae(){return!1}function Se(e,t){return e===function(){try{return y.activeElement}catch(e){}}()==("focus"===t)}function Me(e,t,n,i,o,r){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)Me(e,s,n,i,t[s],r);return e}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=Ae;else if(!o)return e;return 1===r&&(a=o,o=function(e){return E().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=E.guid++)),e.each((function(){E.event.add(this,t,o,i,n)}))}function Pe(e,t,n){n?(J.set(e,t,!1),E.event.add(e,t,{namespace:!1,handler:function(e){var i,o,r=J.get(this,t);if(1&e.isTrigger&&this[t]){if(r.length)(E.event.special[t]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),J.set(this,t,r),i=n(this,t),this[t](),r!==(o=J.get(this,t))||i?J.set(this,t,!1):o={},r!==o)return e.stopImmediatePropagation(),e.preventDefault(),o&&o.value}else r.length&&(J.set(this,t,{value:E.event.trigger(E.extend(r[0],E.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===J.get(e,t)&&E.event.add(e,t,we)}E.event={global:{},add:function(e,t,n,i,o){var r,a,s,l,u,c,d,h,p,f,m,g=J.get(e);if(K(e))for(n.handler&&(n=(r=n).handler,o=r.selector),o&&E.find.matchesSelector(ae,o),n.guid||(n.guid=E.guid++),(l=g.events)||(l=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(t){return void 0!==E&&E.event.triggered!==t.type?E.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(j)||[""]).length;u--;)p=m=(s=Ee.exec(t[u])||[])[1],f=(s[2]||"").split(".").sort(),p&&(d=E.event.special[p]||{},p=(o?d.delegateType:d.bindType)||p,d=E.event.special[p]||{},c=E.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&E.expr.match.needsContext.test(o),namespace:f.join(".")},r),(h=l[p])||((h=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,f,a)||e.addEventListener&&e.addEventListener(p,a)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,c):h.push(c),E.event.global[p]=!0)},remove:function(e,t,n,i,o){var r,a,s,l,u,c,d,h,p,f,m,g=J.hasData(e)&&J.get(e);if(g&&(l=g.events)){for(u=(t=(t||"").match(j)||[""]).length;u--;)if(p=m=(s=Ee.exec(t[u])||[])[1],f=(s[2]||"").split(".").sort(),p){for(d=E.event.special[p]||{},h=l[p=(i?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=h.length;r--;)c=h[r],!o&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(r,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(e,c));a&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||E.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)E.event.remove(e,p+t[u],n,i,!0);E.isEmptyObject(l)&&J.remove(e,"handle events")}},dispatch:function(e){var t,n,i,o,r,a,s=new Array(arguments.length),l=E.event.fix(e),u=(J.get(this,"events")||Object.create(null))[l.type]||[],c=E.event.special[l.type]||{};for(s[0]=l,t=1;t<arguments.length;t++)s[t]=arguments[t];if(l.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,l)){for(a=E.event.handlers.call(this,l,u),t=0;(o=a[t++])&&!l.isPropagationStopped();)for(l.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==r.namespace&&!l.rnamespace.test(r.namespace)||(l.handleObj=r,l.data=r.data,void 0!==(i=((E.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,s))&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,i,o,r,a,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(r=[],a={},n=0;n<l;n++)void 0===a[o=(i=t[n]).selector+" "]&&(a[o]=i.needsContext?E(o,this).index(u)>-1:E.find(o,this,null,[u]).length),a[o]&&r.push(i);r.length&&s.push({elem:u,handlers:r})}return u=this,l<t.length&&s.push({elem:u,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(E.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[E.expando]?e:new E.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ge.test(t.type)&&t.click&&D(t,"input")&&Pe(t,"click",we),!1},trigger:function(e){var t=this||e;return ge.test(t.type)&&t.click&&D(t,"input")&&Pe(t,"click"),!0},_default:function(e){var t=e.target;return ge.test(t.type)&&t.click&&D(t,"input")&&J.get(t,"click")||D(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},E.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},E.Event=function(e,t){if(!(this instanceof E.Event))return new E.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Ae,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Ae,isPropagationStopped:Ae,isImmediatePropagationStopped:Ae,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},(function(e,t){E.event.special[e]={setup:function(){return Pe(this,e,Se),!1},trigger:function(){return Pe(this,e),!0},_default:function(){return!0},delegateType:t}})),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){E.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,o=e.relatedTarget,r=e.handleObj;return o&&(o===i||E.contains(i,o))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}})),E.fn.extend({on:function(e,t,n,i){return Me(this,e,t,n,i)},one:function(e,t,n,i){return Me(this,e,t,n,i,1)},off:function(e,t,n){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,E(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ae),this.each((function(){E.event.remove(this,e,n,t)}))}});var De=/<script|<style|<link/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,ke=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Re(e,t){return D(e,"table")&&D(11!==t.nodeType?t:t.firstChild,"tr")&&E(e).children("tbody")[0]||e}function Oe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ie(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ne(e,t){var n,i,o,r,a,s;if(1===t.nodeType){if(J.hasData(e)&&(s=J.get(e).events))for(o in J.remove(t,"handle events"),s)for(n=0,i=s[o].length;n<i;n++)E.event.add(t,o,s[o][n]);Z.hasData(e)&&(r=Z.access(e),a=E.extend({},r),Z.set(t,a))}}function Ve(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ge.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function je(e,t,n,i){t=l(t);var o,r,a,s,u,c,d=0,h=e.length,p=h-1,f=t[0],m=v(f);if(m||h>1&&"string"==typeof f&&!g.checkClone&&Le.test(f))return e.each((function(o){var r=e.eq(o);m&&(t[0]=f.call(this,o,r.html())),je(r,t,n,i)}));if(h&&(r=(o=Te(t,e[0].ownerDocument,!1,e,i)).firstChild,1===o.childNodes.length&&(o=r),r||i)){for(s=(a=E.map(_e(o,"script"),Oe)).length;d<h;d++)u=o,d!==p&&(u=E.clone(u,!0,!0),s&&E.merge(a,_e(u,"script"))),n.call(e[d],u,d);if(s)for(c=a[a.length-1].ownerDocument,E.map(a,Ie),d=0;d<s;d++)u=a[d],be.test(u.type||"")&&!J.access(u,"globalEval")&&E.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?E._evalUrl&&!u.noModule&&E._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},c):x(u.textContent.replace(ke,""),u,c))}return e}function Be(e,t,n){for(var i,o=t?E.filter(t,e):e,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||E.cleanData(_e(i)),i.parentNode&&(n&&se(i)&&xe(_e(i,"script")),i.parentNode.removeChild(i));return e}E.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,o,r,a,s=e.cloneNode(!0),l=se(e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||E.isXMLDoc(e)))for(a=_e(s),i=0,o=(r=_e(e)).length;i<o;i++)Ve(r[i],a[i]);if(t)if(n)for(r=r||_e(e),a=a||_e(s),i=0,o=r.length;i<o;i++)Ne(r[i],a[i]);else Ne(e,s);return(a=_e(s,"script")).length>0&&xe(a,!l&&_e(e,"script")),s},cleanData:function(e){for(var t,n,i,o=E.event.special,r=0;void 0!==(n=e[r]);r++)if(K(n)){if(t=n[J.expando]){if(t.events)for(i in t.events)o[i]?E.event.remove(n,i):E.removeEvent(n,i,t.handle);n[J.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),E.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return G(this,(function(e){return void 0===e?E.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return je(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Re(this,e).appendChild(e)}))},prepend:function(){return je(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Re(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return je(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return je(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(E.cleanData(_e(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return E.clone(this,e,t)}))},html:function(e){return G(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!De.test(e)&&!ye[(ve.exec(e)||["",""])[1].toLowerCase()]){e=E.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(E.cleanData(_e(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return je(this,arguments,(function(t){var n=this.parentNode;E.inArray(this,e)<0&&(E.cleanData(_e(this)),n&&n.replaceChild(t,this))}),e)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){E.fn[e]=function(e){for(var n,i=[],o=E(e),r=o.length-1,a=0;a<=r;a++)n=a===r?this:this.clone(!0),E(o[a])[t](n),u.apply(i,n.get());return this.pushStack(i)}}));var ze=new RegExp("^("+ie+")(?!px)[a-z%]+$","i"),Fe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=i),t.getComputedStyle(e)},He=function(e,t,n){var i,o,r={};for(o in t)r[o]=e.style[o],e.style[o]=t[o];for(o in i=n.call(e),t)e.style[o]=r[o];return i},Ue=new RegExp(re.join("|"),"i");function qe(e,t,n){var i,o,r,a,s=e.style;return(n=n||Fe(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||se(e)||(a=E.style(e,t)),!g.pixelBoxStyles()&&ze.test(a)&&Ue.test(t)&&(i=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=o,s.maxWidth=r)),void 0!==a?a+"":a}function Ge(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ae.appendChild(u).appendChild(c);var e=i.getComputedStyle(c);n="1%"!==e.top,l=12===t(e.marginLeft),c.style.right="60%",a=36===t(e.right),o=36===t(e.width),c.style.position="absolute",r=12===t(c.offsetWidth/3),ae.removeChild(u),c=null}}function t(e){return Math.round(parseFloat(e))}var n,o,r,a,s,l,u=y.createElement("div"),c=y.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===c.style.backgroundClip,E.extend(g,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),r},reliableTrDimensions:function(){var e,t,n,o;return null==s&&(e=y.createElement("table"),t=y.createElement("tr"),n=y.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",ae.appendChild(e).appendChild(t).appendChild(n),o=i.getComputedStyle(t),s=parseInt(o.height,10)+parseInt(o.borderTopWidth,10)+parseInt(o.borderBottomWidth,10)===t.offsetHeight,ae.removeChild(e)),s}}))}();var Xe=["Webkit","Moz","ms"],Ye=y.createElement("div").style,We={};function $e(e){return E.cssProps[e]||We[e]||(e in Ye?e:We[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Xe.length;n--;)if((e=Xe[n]+t)in Ye)return e}(e)||e)}var Ke=/^(none|table(?!-c[ea]).+)/,Qe=/^--/,Je={position:"absolute",visibility:"hidden",display:"block"},Ze={letterSpacing:"0",fontWeight:"400"};function et(e,t,n){var i=oe.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function tt(e,t,n,i,o,r){var a="width"===t?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=E.css(e,n+re[a],!0,o)),i?("content"===n&&(l-=E.css(e,"padding"+re[a],!0,o)),"margin"!==n&&(l-=E.css(e,"border"+re[a]+"Width",!0,o))):(l+=E.css(e,"padding"+re[a],!0,o),"padding"!==n?l+=E.css(e,"border"+re[a]+"Width",!0,o):s+=E.css(e,"border"+re[a]+"Width",!0,o));return!i&&r>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-r-l-s-.5))||0),l}function nt(e,t,n){var i=Fe(e),o=(!g.boxSizingReliable()||n)&&"border-box"===E.css(e,"boxSizing",!1,i),r=o,a=qe(e,t,i),s="offset"+t[0].toUpperCase()+t.slice(1);if(ze.test(a)){if(!n)return a;a="auto"}return(!g.boxSizingReliable()&&o||!g.reliableTrDimensions()&&D(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===E.css(e,"display",!1,i))&&e.getClientRects().length&&(o="border-box"===E.css(e,"boxSizing",!1,i),(r=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+tt(e,t,n||(o?"border":"content"),r,i,a)+"px"}function it(e,t,n,i,o){return new it.prototype.init(e,t,n,i,o)}E.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=qe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,a,s=$(t),l=Qe.test(t),u=e.style;if(l||(t=$e(s)),a=E.cssHooks[t]||E.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(e,!1,i))?o:u[t];"string"==(r=typeof n)&&(o=oe.exec(n))&&o[1]&&(n=ce(e,t,o),r="number"),null!=n&&n==n&&("number"!==r||l||(n+=o&&o[3]||(E.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,i){var o,r,a,s=$(t);return Qe.test(t)||(t=$e(s)),(a=E.cssHooks[t]||E.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=qe(e,t,i)),"normal"===o&&t in Ze&&(o=Ze[t]),""===n||n?(r=parseFloat(o),!0===n||isFinite(r)?r||0:o):o}}),E.each(["height","width"],(function(e,t){E.cssHooks[t]={get:function(e,n,i){if(n)return!Ke.test(E.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?nt(e,t,i):He(e,Je,(function(){return nt(e,t,i)}))},set:function(e,n,i){var o,r=Fe(e),a=!g.scrollboxSize()&&"absolute"===r.position,s=(a||i)&&"border-box"===E.css(e,"boxSizing",!1,r),l=i?tt(e,t,i,s,r):0;return s&&a&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(r[t])-tt(e,t,"border",!1,r)-.5)),l&&(o=oe.exec(n))&&"px"!==(o[3]||"px")&&(e.style[t]=n,n=E.css(e,t)),et(0,n,l)}}})),E.cssHooks.marginLeft=Ge(g.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(qe(e,"marginLeft"))||e.getBoundingClientRect().left-He(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),E.each({margin:"",padding:"",border:"Width"},(function(e,t){E.cssHooks[e+t]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];i<4;i++)o[e+re[i]+t]=r[i]||r[i-2]||r[0];return o}},"margin"!==e&&(E.cssHooks[e+t].set=et)})),E.fn.extend({css:function(e,t){return G(this,(function(e,t,n){var i,o,r={},a=0;if(Array.isArray(t)){for(i=Fe(e),o=t.length;a<o;a++)r[t[a]]=E.css(e,t[a],!1,i);return r}return void 0!==n?E.style(e,t,n):E.css(e,t)}),e,t,arguments.length>1)}}),E.Tween=it,it.prototype={constructor:it,init:function(e,t,n,i,o,r){this.elem=e,this.prop=n,this.easing=o||E.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(E.cssNumber[n]?"":"px")},cur:function(){var e=it.propHooks[this.prop];return e&&e.get?e.get(this):it.propHooks._default.get(this)},run:function(e){var t,n=it.propHooks[this.prop];return this.options.duration?this.pos=t=E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):it.propHooks._default.set(this),this}},it.prototype.init.prototype=it.prototype,it.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=E.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):1!==e.elem.nodeType||!E.cssHooks[e.prop]&&null==e.elem.style[$e(e.prop)]?e.elem[e.prop]=e.now:E.style(e.elem,e.prop,e.now+e.unit)}}},it.propHooks.scrollTop=it.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},E.fx=it.prototype.init,E.fx.step={};var ot,rt,at=/^(?:toggle|show|hide)$/,st=/queueHooks$/;function lt(){rt&&(!1===y.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(lt):i.setTimeout(lt,E.fx.interval),E.fx.tick())}function ut(){return i.setTimeout((function(){ot=void 0})),ot=Date.now()}function ct(e,t){var n,i=0,o={height:e};for(t=t?1:0;i<4;i+=2-t)o["margin"+(n=re[i])]=o["padding"+n]=e;return t&&(o.opacity=o.width=e),o}function dt(e,t,n){for(var i,o=(ht.tweeners[t]||[]).concat(ht.tweeners["*"]),r=0,a=o.length;r<a;r++)if(i=o[r].call(n,t,e))return i}function ht(e,t,n){var i,o,r=0,a=ht.prefilters.length,s=E.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var t=ot||ut(),n=Math.max(0,u.startTime+u.duration-t),i=1-(n/u.duration||0),r=0,a=u.tweens.length;r<a;r++)u.tweens[r].run(i);return s.notifyWith(e,[u,i,n]),i<1&&a?n:(a||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:E.extend({},t),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},n),originalProperties:t,originalOptions:n,startTime:ot||ut(),duration:n.duration,tweens:[],createTween:function(t,n){var i=E.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(o)return this;for(o=!0;n<i;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(function(e,t){var n,i,o,r,a;for(n in e)if(o=t[i=$(n)],r=e[n],Array.isArray(r)&&(o=r[1],r=e[n]=r[0]),n!==i&&(e[i]=r,delete e[n]),(a=E.cssHooks[i])&&"expand"in a)for(n in r=a.expand(r),delete e[i],r)n in e||(e[n]=r[n],t[n]=o);else t[i]=o}(c,u.opts.specialEasing);r<a;r++)if(i=ht.prefilters[r].call(u,e,c,u.opts))return v(i.stop)&&(E._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return E.map(c,dt,u),v(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),E.fx.timer(E.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u}E.Animation=E.extend(ht,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ce(n.elem,e,oe.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(j);for(var n,i=0,o=e.length;i<o;i++)n=e[i],ht.tweeners[n]=ht.tweeners[n]||[],ht.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,o,r,a,s,l,u,c,d="width"in t||"height"in t,h=this,p={},f=e.style,m=e.nodeType&&ue(e),g=J.get(e,"fxshow");for(i in n.queue||(null==(a=E._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always((function(){h.always((function(){a.unqueued--,E.queue(e,"fx").length||a.empty.fire()}))}))),t)if(o=t[i],at.test(o)){if(delete t[i],r=r||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!g||void 0===g[i])continue;m=!0}p[i]=g&&g[i]||E.style(e,i)}if((l=!E.isEmptyObject(t))||!E.isEmptyObject(p))for(i in d&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(u=g&&g.display)&&(u=J.get(e,"display")),"none"===(c=E.css(e,"display"))&&(u?c=u:(pe([e],!0),u=e.style.display||u,c=E.css(e,"display"),pe([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===E.css(e,"float")&&(l||(h.done((function(){f.display=u})),null==u&&(c=f.display,u="none"===c?"":c)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),l=!1,p)l||(g?"hidden"in g&&(m=g.hidden):g=J.access(e,"fxshow",{display:u}),r&&(g.hidden=!m),m&&pe([e],!0),h.done((function(){for(i in m||pe([e]),J.remove(e,"fxshow"),p)E.style(e,i,p[i])}))),l=dt(m?g[i]:0,i,h),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ht.prefilters.unshift(e):ht.prefilters.push(e)}}),E.speed=function(e,t,n){var i=e&&"object"==typeof e?E.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return E.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in E.fx.speeds?i.duration=E.fx.speeds[i.duration]:i.duration=E.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){v(i.old)&&i.old.call(this),i.queue&&E.dequeue(this,i.queue)},i},E.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ue).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var o=E.isEmptyObject(e),r=E.speed(t,n,i),a=function(){var t=ht(this,E.extend({},e),r);(o||J.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,o=null!=e&&e+"queueHooks",r=E.timers,a=J.get(this);if(o)a[o]&&a[o].stop&&i(a[o]);else for(o in a)a[o]&&a[o].stop&&st.test(o)&&i(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=e&&r[o].queue!==e||(r[o].anim.stop(n),t=!1,r.splice(o,1));!t&&n||E.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=J.get(this),i=n[e+"queue"],o=n[e+"queueHooks"],r=E.timers,a=i?i.length:0;for(n.finish=!0,E.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<a;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),E.each(["toggle","show","hide"],(function(e,t){var n=E.fn[t];E.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ct(t,!0),e,i,o)}})),E.each({slideDown:ct("show"),slideUp:ct("hide"),slideToggle:ct("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){E.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),E.timers=[],E.fx.tick=function(){var e,t=0,n=E.timers;for(ot=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||E.fx.stop(),ot=void 0},E.fx.timer=function(e){E.timers.push(e),E.fx.start()},E.fx.interval=13,E.fx.start=function(){rt||(rt=!0,lt())},E.fx.stop=function(){rt=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(e,t){return e=E.fx&&E.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var o=i.setTimeout(t,e);n.stop=function(){i.clearTimeout(o)}}))},function(){var e=y.createElement("input"),t=y.createElement("select").appendChild(y.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=y.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var pt,ft=E.expr.attrHandle;E.fn.extend({attr:function(e,t){return G(this,E.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){E.removeAttr(this,e)}))}}),E.extend({attr:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?E.prop(e,t,n):(1===r&&E.isXMLDoc(e)||(o=E.attrHooks[t.toLowerCase()]||(E.expr.match.bool.test(t)?pt:void 0)),void 0!==n?null===n?void E.removeAttr(e,t):o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:(e.setAttribute(t,n+""),n):o&&"get"in o&&null!==(i=o.get(e,t))?i:null==(i=E.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&D(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,o=t&&t.match(j);if(o&&1===e.nodeType)for(;n=o[i++];)e.removeAttribute(n)}}),pt={set:function(e,t,n){return!1===t?E.removeAttr(e,n):e.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=ft[t]||E.find.attr;ft[t]=function(e,t,i){var o,r,a=t.toLowerCase();return i||(r=ft[a],ft[a]=o,o=null!=n(e,t,i)?a:null,ft[a]=r),o}}));var mt=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function vt(e){return(e.match(j)||[]).join(" ")}function bt(e){return e.getAttribute&&e.getAttribute("class")||""}function yt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(j)||[]}E.fn.extend({prop:function(e,t){return G(this,E.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[E.propFix[e]||e]}))}}),E.extend({prop:function(e,t,n){var i,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&E.isXMLDoc(e)||(t=E.propFix[t]||t,o=E.propHooks[t]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(e,n,t))?i:e[t]=n:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,"tabindex");return t?parseInt(t,10):mt.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(E.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){E.propFix[this.toLowerCase()]=this})),E.fn.extend({addClass:function(e){var t,n,i,o,r,a,s,l=0;if(v(e))return this.each((function(t){E(this).addClass(e.call(this,t,bt(this)))}));if((t=yt(e)).length)for(;n=this[l++];)if(o=bt(n),i=1===n.nodeType&&" "+vt(o)+" "){for(a=0;r=t[a++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o!==(s=vt(i))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,o,r,a,s,l=0;if(v(e))return this.each((function(t){E(this).removeClass(e.call(this,t,bt(this)))}));if(!arguments.length)return this.attr("class","");if((t=yt(e)).length)for(;n=this[l++];)if(o=bt(n),i=1===n.nodeType&&" "+vt(o)+" "){for(a=0;r=t[a++];)for(;i.indexOf(" "+r+" ")>-1;)i=i.replace(" "+r+" "," ");o!==(s=vt(i))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):v(e)?this.each((function(n){E(this).toggleClass(e.call(this,n,bt(this),t),t)})):this.each((function(){var t,o,r,a;if(i)for(o=0,r=E(this),a=yt(e);t=a[o++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==n||((t=bt(this))&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":J.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+vt(bt(n))+" ").indexOf(t)>-1)return!0;return!1}});var _t=/\r/g;E.fn.extend({val:function(e){var t,n,i,o=this[0];return arguments.length?(i=v(e),this.each((function(n){var o;1===this.nodeType&&(null==(o=i?e.call(this,n,E(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=E.map(o,(function(e){return null==e?"":e+""}))),(t=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=E.valHooks[o.type]||E.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(_t,""):null==n?"":n:void 0}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,"value");return null!=t?t:vt(E.text(e))}},select:{get:function(e){var t,n,i,o=e.options,r=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?r+1:o.length;for(i=r<0?l:a?r:0;i<l;i++)if(((n=o[i]).selected||i===r)&&!n.disabled&&(!n.parentNode.disabled||!D(n.parentNode,"optgroup"))){if(t=E(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,i,o=e.options,r=E.makeArray(t),a=o.length;a--;)((i=o[a]).selected=E.inArray(E.valHooks.option.get(i),r)>-1)&&(n=!0);return n||(e.selectedIndex=-1),r}}}}),E.each(["radio","checkbox"],(function(){E.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=E.inArray(E(e).val(),t)>-1}},g.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),g.focusin="onfocusin"in i;var xt=/^(?:focusinfocus|focusoutblur)$/,Ct=function(e){e.stopPropagation()};E.extend(E.event,{trigger:function(e,t,n,o){var r,a,s,l,u,c,d,h,f=[n||y],m=p.call(e,"type")?e.type:e,g=p.call(e,"namespace")?e.namespace.split("."):[];if(a=h=s=n=n||y,3!==n.nodeType&&8!==n.nodeType&&!xt.test(m+E.event.triggered)&&(m.indexOf(".")>-1&&(g=m.split("."),m=g.shift(),g.sort()),u=m.indexOf(":")<0&&"on"+m,(e=e[E.expando]?e:new E.Event(m,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:E.makeArray(t,[e]),d=E.event.special[m]||{},o||!d.trigger||!1!==d.trigger.apply(n,t))){if(!o&&!d.noBubble&&!b(n)){for(l=d.delegateType||m,xt.test(l+m)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(n.ownerDocument||y)&&f.push(s.defaultView||s.parentWindow||i)}for(r=0;(a=f[r++])&&!e.isPropagationStopped();)h=a,e.type=r>1?l:d.bindType||m,(c=(J.get(a,"events")||Object.create(null))[e.type]&&J.get(a,"handle"))&&c.apply(a,t),(c=u&&a[u])&&c.apply&&K(a)&&(e.result=c.apply(a,t),!1===e.result&&e.preventDefault());return e.type=m,o||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(f.pop(),t)||!K(n)||u&&v(n[m])&&!b(n)&&((s=n[u])&&(n[u]=null),E.event.triggered=m,e.isPropagationStopped()&&h.addEventListener(m,Ct),n[m](),e.isPropagationStopped()&&h.removeEventListener(m,Ct),E.event.triggered=void 0,s&&(n[u]=s)),e.result}},simulate:function(e,t,n){var i=E.extend(new E.Event,n,{type:e,isSimulated:!0});E.event.trigger(i,null,t)}}),E.fn.extend({trigger:function(e,t){return this.each((function(){E.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return E.event.trigger(e,t,n,!0)}}),g.focusin||E.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){E.event.simulate(t,e.target,E.event.fix(e))};E.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,o=J.access(i,t);o||i.addEventListener(e,n,!0),J.access(i,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,o=J.access(i,t)-1;o?J.access(i,t,o):(i.removeEventListener(e,n,!0),J.remove(i,t))}}}));var Tt=i.location,Et={guid:Date.now()},wt=/\?/;E.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new i.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||E.error("Invalid XML: "+(n?E.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var At=/\[\]$/,St=/\r?\n/g,Mt=/^(?:submit|button|image|reset|file)$/i,Pt=/^(?:input|select|textarea|keygen)/i;function Dt(e,t,n,i){var o;if(Array.isArray(t))E.each(t,(function(t,o){n||At.test(e)?i(e,o):Dt(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,n,i)}));else if(n||"object"!==C(t))i(e,t);else for(o in t)Dt(e+"["+o+"]",t[o],n,i)}E.param=function(e,t){var n,i=[],o=function(e,t){var n=v(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,(function(){o(this.name,this.value)}));else for(n in e)Dt(n,e[n],t,o);return i.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&Pt.test(this.nodeName)&&!Mt.test(e)&&(this.checked||!ge.test(e))})).map((function(e,t){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,(function(e){return{name:t.name,value:e.replace(St,"\r\n")}})):{name:t.name,value:n.replace(St,"\r\n")}})).get()}});var Lt=/%20/g,kt=/#.*$/,Rt=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,It=/^(?:GET|HEAD)$/,Nt=/^\/\//,Vt={},jt={},Bt="*/".concat("*"),zt=y.createElement("a");function Ft(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,o=0,r=t.toLowerCase().match(j)||[];if(v(n))for(;i=r[o++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Ht(e,t,n,i){var o={},r=e===jt;function a(s){var l;return o[s]=!0,E.each(e[s]||[],(function(e,s){var u=s(t,n,i);return"string"!=typeof u||r||o[u]?r?!(l=u):void 0:(t.dataTypes.unshift(u),a(u),!1)})),l}return a(t.dataTypes[0])||!o["*"]&&a("*")}function Ut(e,t){var n,i,o=E.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((o[n]?e:i||(i={}))[n]=t[n]);return i&&E.extend(!0,e,i),e}zt.href=Tt.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ut(Ut(e,E.ajaxSettings),t):Ut(E.ajaxSettings,e)},ajaxPrefilter:Ft(Vt),ajaxTransport:Ft(jt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,o,r,a,s,l,u,c,d,h,p=E.ajaxSetup({},t),f=p.context||p,m=p.context&&(f.nodeType||f.jquery)?E(f):E.event,g=E.Deferred(),v=E.Callbacks("once memory"),b=p.statusCode||{},_={},x={},C="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(u){if(!a)for(a={};t=Ot.exec(r);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?r:null},setRequestHeader:function(e,t){return null==u&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,_[e]=t),this},overrideMimeType:function(e){return null==u&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)T.always(e[T.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||C;return n&&n.abort(t),w(0,t),this}};if(g.promise(T),p.url=((e||p.url||Tt.href)+"").replace(Nt,Tt.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(j)||[""],null==p.crossDomain){l=y.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=zt.protocol+"//"+zt.host!=l.protocol+"//"+l.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=E.param(p.data,p.traditional)),Ht(Vt,p,t,T),u)return T;for(d in(c=E.event&&p.global)&&0==E.active++&&E.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!It.test(p.type),o=p.url.replace(kt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Lt,"+")):(h=p.url.slice(o.length),p.data&&(p.processData||"string"==typeof p.data)&&(o+=(wt.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Rt,"$1"),h=(wt.test(o)?"&":"?")+"_="+Et.guid+++h),p.url=o+h),p.ifModified&&(E.lastModified[o]&&T.setRequestHeader("If-Modified-Since",E.lastModified[o]),E.etag[o]&&T.setRequestHeader("If-None-Match",E.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&T.setRequestHeader("Content-Type",p.contentType),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Bt+"; q=0.01":""):p.accepts["*"]),p.headers)T.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(f,T,p)||u))return T.abort();if(C="abort",v.add(p.complete),T.done(p.success),T.fail(p.error),n=Ht(jt,p,t,T)){if(T.readyState=1,c&&m.trigger("ajaxSend",[T,p]),u)return T;p.async&&p.timeout>0&&(s=i.setTimeout((function(){T.abort("timeout")}),p.timeout));try{u=!1,n.send(_,w)}catch(e){if(u)throw e;w(-1,e)}}else w(-1,"No Transport");function w(e,t,a,l){var d,h,y,_,x,C=t;u||(u=!0,s&&i.clearTimeout(s),n=void 0,r=l||"",T.readyState=e>0?4:0,d=e>=200&&e<300||304===e,a&&(_=function(e,t,n){for(var i,o,r,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in s)if(s[o]&&s[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){r=o;break}a||(a=o)}r=r||a}if(r)return r!==l[0]&&l.unshift(r),n[r]}(p,T,a)),!d&&E.inArray("script",p.dataTypes)>-1&&E.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),_=function(e,t,n,i){var o,r,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(r=c.shift();r;)if(e.responseFields[r]&&(n[e.responseFields[r]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=u[l+" "+r]||u["* "+r]))for(o in u)if((s=o.split(" "))[1]===r&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[o]:!0!==u[o]&&(r=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(p,_,T,d),d?(p.ifModified&&((x=T.getResponseHeader("Last-Modified"))&&(E.lastModified[o]=x),(x=T.getResponseHeader("etag"))&&(E.etag[o]=x)),204===e||"HEAD"===p.type?C="nocontent":304===e?C="notmodified":(C=_.state,h=_.data,d=!(y=_.error))):(y=C,!e&&C||(C="error",e<0&&(e=0))),T.status=e,T.statusText=(t||C)+"",d?g.resolveWith(f,[h,C,T]):g.rejectWith(f,[T,C,y]),T.statusCode(b),b=void 0,c&&m.trigger(d?"ajaxSuccess":"ajaxError",[T,p,d?h:y]),v.fireWith(f,[T,C]),c&&(m.trigger("ajaxComplete",[T,p]),--E.active||E.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return E.get(e,t,n,"json")},getScript:function(e,t){return E.get(e,void 0,t,"script")}}),E.each(["get","post"],(function(e,t){E[t]=function(e,n,i,o){return v(n)&&(o=o||i,i=n,n=void 0),E.ajax(E.extend({url:e,type:t,dataType:o,data:n,success:i},E.isPlainObject(e)&&e))}})),E.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),E._evalUrl=function(e,t,n){return E.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){E.globalEval(e,t,n)}})},E.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=E(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return v(e)?this.each((function(t){E(this).wrapInner(e.call(this,t))})):this.each((function(){var t=E(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=v(e);return this.each((function(n){E(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){E(this).replaceWith(this.childNodes)})),this}}),E.expr.pseudos.hidden=function(e){return!E.expr.pseudos.visible(e)},E.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(e){}};var qt={0:200,1223:204},Gt=E.ajaxSettings.xhr();g.cors=!!Gt&&"withCredentials"in Gt,g.ajax=Gt=!!Gt,E.ajaxTransport((function(e){var t,n;if(g.cors||Gt&&!e.crossDomain)return{send:function(o,r){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(a,o[a]);t=function(e){return function(){t&&(t=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?r(0,"error"):r(s.status,s.statusText):r(qt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),n=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&i.setTimeout((function(){t&&n()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),E.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),E.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,o){t=E("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),y.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Xt,Yt=[],Wt=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||E.expando+"_"+Et.guid++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",(function(e,t,n){var o,r,a,s=!1!==e.jsonp&&(Wt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Wt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Wt,"$1"+o):!1!==e.jsonp&&(e.url+=(wt.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||E.error(o+" was not called"),a[0]},e.dataTypes[0]="json",r=i[o],i[o]=function(){a=arguments},n.always((function(){void 0===r?E(i).removeProp(o):i[o]=r,e[o]&&(e.jsonpCallback=t.jsonpCallback,Yt.push(o)),a&&v(r)&&r(a[0]),a=r=void 0})),"script"})),g.createHTMLDocument=((Xt=y.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Xt.childNodes.length),E.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((i=(t=y.implementation.createHTMLDocument("")).createElement("base")).href=y.location.href,t.head.appendChild(i)):t=y),r=!n&&[],(o=L.exec(e))?[t.createElement(o[1])]:(o=Te([e],t,r),r&&r.length&&E(r).remove(),E.merge([],o.childNodes)));var i,o,r},E.fn.load=function(e,t,n){var i,o,r,a=this,s=e.indexOf(" ");return s>-1&&(i=vt(e.slice(s)),e=e.slice(0,s)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&E.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done((function(e){r=arguments,a.html(i?E("<div>").append(E.parseHTML(e)).find(i):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,r||[e.responseText,t,e])}))}),this},E.expr.pseudos.animated=function(e){return E.grep(E.timers,(function(t){return e===t.elem})).length},E.offset={setOffset:function(e,t,n){var i,o,r,a,s,l,u=E.css(e,"position"),c=E(e),d={};"static"===u&&(e.style.position="relative"),s=c.offset(),r=E.css(e,"top"),l=E.css(e,"left"),("absolute"===u||"fixed"===u)&&(r+l).indexOf("auto")>-1?(a=(i=c.position()).top,o=i.left):(a=parseFloat(r)||0,o=parseFloat(l)||0),v(t)&&(t=t.call(e,n,E.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):c.css(d)}},E.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){E.offset.setOffset(this,e,t)}));var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],o={top:0,left:0};if("fixed"===E.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===E.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((o=E(e).offset()).top+=E.css(e,"borderTopWidth",!0),o.left+=E.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-E.css(i,"marginTop",!0),left:t.left-o.left-E.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===E.css(e,"position");)e=e.offsetParent;return e||ae}))}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;E.fn[e]=function(i){return G(this,(function(e,i,o){var r;if(b(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===o)return r?r[t]:e[i];r?r.scrollTo(n?r.pageXOffset:o,n?o:r.pageYOffset):e[i]=o}),e,i,arguments.length)}})),E.each(["top","left"],(function(e,t){E.cssHooks[t]=Ge(g.pixelPosition,(function(e,n){if(n)return n=qe(e,t),ze.test(n)?E(e).position()[t]+"px":n}))})),E.each({Height:"height",Width:"width"},(function(e,t){E.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){E.fn[i]=function(o,r){var a=arguments.length&&(n||"boolean"!=typeof o),s=n||(!0===o||!0===r?"margin":"border");return G(this,(function(t,n,o){var r;return b(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===o?E.css(t,n,s):E.style(t,n,o,s)}),t,a?o:void 0,a)}}))})),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){E.fn[t]=function(e){return this.on(t,e)}})),E.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){E.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var $t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;E.proxy=function(e,t){var n,i,o;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return i=s.call(arguments,2),o=function(){return e.apply(t||this,i.concat(s.call(arguments)))},o.guid=e.guid=e.guid||E.guid++,o},E.holdReady=function(e){e?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=D,E.isFunction=v,E.isWindow=b,E.camelCase=$,E.type=C,E.now=Date.now,E.isNumeric=function(e){var t=E.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},E.trim=function(e){return null==e?"":(e+"").replace($t,"")},void 0===(n=function(){return E}.apply(t,[]))||(e.exports=n);var Kt=i.jQuery,Qt=i.$;return E.noConflict=function(e){return i.$===E&&(i.$=Qt),e&&i.jQuery===E&&(i.jQuery=Kt),E},void 0===o&&(i.jQuery=i.$=E),E}))},901:(e,t,n)=>{var i,o;n.amdD,i=[n(755)],void 0===(o=function(e){return function(){var t,n,i,o=0,r={clear:function(n,i){var o=c();t||a(o),s(n,o,i)||function(n){for(var i=t.children(),o=i.length-1;o>=0;o--)s(e(i[o]),n)}(o)},remove:function(n){var i=c();t||a(i),n&&0===e(":focus",n).length?d(n):t.children().length&&t.remove()},error:function(e,t,n){return u({type:"error",iconClass:c().iconClasses.error,message:e,optionsOverride:n,title:t})},getContainer:a,info:function(e,t,n){return u({type:"info",iconClass:c().iconClasses.info,message:e,optionsOverride:n,title:t})},options:{},subscribe:function(e){n=e},success:function(e,t,n){return u({type:"success",iconClass:c().iconClasses.success,message:e,optionsOverride:n,title:t})},version:"2.1.4",warning:function(e,t,n){return u({type:"warning",iconClass:c().iconClasses.warning,message:e,optionsOverride:n,title:t})}};return r;function a(n,i){return n||(n=c()),(t=e("#"+n.containerId)).length||i&&(t=function(n){return(t=e("<div/>").attr("id",n.containerId).addClass(n.positionClass)).appendTo(e(n.target)),t}(n)),t}function s(t,n,i){var o=!(!i||!i.force)&&i.force;return!(!t||!o&&0!==e(":focus",t).length||(t[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){d(t)}}),0))}function l(e){n&&n(e)}function u(n){var r=c(),s=n.iconClass||r.iconClass;if(void 0!==n.optionsOverride&&(r=e.extend(r,n.optionsOverride),s=n.optionsOverride.iconClass||s),!function(e,t){if(e.preventDuplicates){if(t.message===i)return!0;i=t.message}return!1}(r,n)){o++,t=a(r,!0);var u=null,h=e("<div/>"),p=e("<div/>"),f=e("<div/>"),m=e("<div/>"),g=e(r.closeHtml),v={intervalId:null,hideEta:null,maxHideTime:null},b={toastId:o,state:"visible",startTime:new Date,options:r,map:n};return n.iconClass&&h.addClass(r.toastClass).addClass(s),function(){if(n.title){var e=n.title;r.escapeHtml&&(e=y(n.title)),p.append(e).addClass(r.titleClass),h.append(p)}}(),function(){if(n.message){var e=n.message;r.escapeHtml&&(e=y(n.message)),f.append(e).addClass(r.messageClass),h.append(f)}}(),r.closeButton&&(g.addClass(r.closeClass).attr("role","button"),h.prepend(g)),r.progressBar&&(m.addClass(r.progressClass),h.prepend(m)),r.rtl&&h.addClass("rtl"),r.newestOnTop?t.prepend(h):t.append(h),function(){var e="";switch(n.iconClass){case"toast-success":case"toast-info":e="polite";break;default:e="assertive"}h.attr("aria-live",e)}(),h.hide(),h[r.showMethod]({duration:r.showDuration,easing:r.showEasing,complete:r.onShown}),r.timeOut>0&&(u=setTimeout(_,r.timeOut),v.maxHideTime=parseFloat(r.timeOut),v.hideEta=(new Date).getTime()+v.maxHideTime,r.progressBar&&(v.intervalId=setInterval((function(){var e=(v.hideEta-(new Date).getTime())/v.maxHideTime*100;m.width(e+"%")}),10))),r.closeOnHover&&h.hover((function(){clearTimeout(u),v.hideEta=0,h.stop(!0,!0)[r.showMethod]({duration:r.showDuration,easing:r.showEasing})}),(function(){(r.timeOut>0||r.extendedTimeOut>0)&&(u=setTimeout(_,r.extendedTimeOut),v.maxHideTime=parseFloat(r.extendedTimeOut),v.hideEta=(new Date).getTime()+v.maxHideTime)})),!r.onclick&&r.tapToDismiss&&h.click(_),r.closeButton&&g&&g.click((function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&!0!==e.cancelBubble&&(e.cancelBubble=!0),r.onCloseClick&&r.onCloseClick(e),_(!0)})),r.onclick&&h.click((function(e){r.onclick(e),_()})),l(b),r.debug&&console&&console.log(b),h}function y(e){return null==e&&(e=""),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function _(t){var n=t&&!1!==r.closeMethod?r.closeMethod:r.hideMethod,i=t&&!1!==r.closeDuration?r.closeDuration:r.hideDuration,o=t&&!1!==r.closeEasing?r.closeEasing:r.hideEasing;if(!e(":focus",h).length||t)return clearTimeout(v.intervalId),h[n]({duration:i,easing:o,complete:function(){d(h),clearTimeout(u),r.onHidden&&"hidden"!==b.state&&r.onHidden(),b.state="hidden",b.endTime=new Date,l(b)}})}}function c(){return e.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1},r.options)}function d(e){t||(t=a()),e.is(":visible")||(e.remove(),e=null,0===t.children().length&&(t.remove(),i=void 0))}}()}.apply(t,i))||(e.exports=o)}},n={};function i(e){var o=n[e];if(void 0!==o)return o.exports;var r=n[e]={exports:{}};return t[e].call(r.exports,r,r.exports,i),r.exports}i.m=t,i.amdD=function(){throw new Error("define cannot be used indirect")},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>"bundle."+{67:"b0794e82568cb65e12ef",103:"b9b9c7aa248c0712c608",122:"c265a5dbf29f9c7f4a7c",130:"6b55cc2b804af4b85973",172:"b55617e053a51fc6f39c",548:"620d42f0cd82082c8e48",624:"e650daa4a0d5dfc3c314",634:"3c787d8f838c13f833c3",660:"21ff914232fda10e4af0",670:"8b11e5ca05efd307d943",724:"3cb26208775924744ad6",804:"2ee05fddbc973ff8ee51",840:"e1d9a52b68e047a40605",895:"5b49f362f3820468e6aa",907:"c40f2e0b18209c398210",943:"afb5d60c564d11de8638",954:"e3b80886fba07424cfad",985:"e666265a7de4f47e4f6d"}[e]+".js",i.miniCssF=e=>"main.css",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},i.l=(t,n,o,r)=>{if(e[t])e[t].push(n);else{var a,s;if(void 0!==o)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var c=l[u];if(c.getAttribute("src")==t){a=c;break}}a||(s=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.src=t),e[t]=[n];var d=(n,i)=>{a.onerror=a.onload=null,clearTimeout(h);var o=e[t];if(delete e[t],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(i))),n)return n(i)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),s&&document.head.appendChild(a)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e={179:0};i.f.j=(t,n)=>{var o=i.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise(((n,i)=>o=e[t]=[n,i]));n.push(o[2]=r);var a=i.p+i.u(t),s=new Error;i.l(a,(n=>{if(i.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",s.name="ChunkLoadError",s.type=r,s.request=a,o[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var o,r,[a,s,l]=n,u=0;if(a.some((t=>0!==e[t]))){for(o in s)i.o(s,o)&&(i.m[o]=s[o]);l&&l(i)}for(t&&t(n);u<a.length;u++)r=a[u],i.o(e,r)&&e[r]&&e[r][0](),e[a[u]]=0},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),i(89)})();
//# sourceMappingURL=bundle.e51b6a1fb2f3e27b108c.js.map